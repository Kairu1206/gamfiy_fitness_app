(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))s(a);new MutationObserver(a=>{for(const c of a)if(c.type==="childList")for(const f of c.addedNodes)f.tagName==="LINK"&&f.rel==="modulepreload"&&s(f)}).observe(document,{childList:!0,subtree:!0});function n(a){const c={};return a.integrity&&(c.integrity=a.integrity),a.referrerPolicy&&(c.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?c.credentials="include":a.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function s(a){if(a.ep)return;a.ep=!0;const c=n(a);fetch(a.href,c)}})();var Kc={exports:{}},Ko={},Gc={exports:{}},Te={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Cp;function tv(){if(Cp)return Te;Cp=1;var i=Symbol.for("react.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),c=Symbol.for("react.provider"),f=Symbol.for("react.context"),m=Symbol.for("react.forward_ref"),y=Symbol.for("react.suspense"),v=Symbol.for("react.memo"),E=Symbol.for("react.lazy"),k=Symbol.iterator;function V(D){return D===null||typeof D!="object"?null:(D=k&&D[k]||D["@@iterator"],typeof D=="function"?D:null)}var j={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},G=Object.assign,Z={};function Q(D,B,le){this.props=D,this.context=B,this.refs=Z,this.updater=le||j}Q.prototype.isReactComponent={},Q.prototype.setState=function(D,B){if(typeof D!="object"&&typeof D!="function"&&D!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,D,B,"setState")},Q.prototype.forceUpdate=function(D){this.updater.enqueueForceUpdate(this,D,"forceUpdate")};function ve(){}ve.prototype=Q.prototype;function ye(D,B,le){this.props=D,this.context=B,this.refs=Z,this.updater=le||j}var we=ye.prototype=new ve;we.constructor=ye,G(we,Q.prototype),we.isPureReactComponent=!0;var Se=Array.isArray,Je=Object.prototype.hasOwnProperty,Ne={current:null},x={key:!0,ref:!0,__self:!0,__source:!0};function I(D,B,le){var _e,Ee={},Re=null,Le=null;if(B!=null)for(_e in B.ref!==void 0&&(Le=B.ref),B.key!==void 0&&(Re=""+B.key),B)Je.call(B,_e)&&!x.hasOwnProperty(_e)&&(Ee[_e]=B[_e]);var Oe=arguments.length-2;if(Oe===1)Ee.children=le;else if(1<Oe){for(var je=Array(Oe),dt=0;dt<Oe;dt++)je[dt]=arguments[dt+2];Ee.children=je}if(D&&D.defaultProps)for(_e in Oe=D.defaultProps,Oe)Ee[_e]===void 0&&(Ee[_e]=Oe[_e]);return{$$typeof:i,type:D,key:Re,ref:Le,props:Ee,_owner:Ne.current}}function A(D,B){return{$$typeof:i,type:D.type,key:B,ref:D.ref,props:D.props,_owner:D._owner}}function P(D){return typeof D=="object"&&D!==null&&D.$$typeof===i}function N(D){var B={"=":"=0",":":"=2"};return"$"+D.replace(/[=:]/g,function(le){return B[le]})}var L=/\/+/g;function S(D,B){return typeof D=="object"&&D!==null&&D.key!=null?N(""+D.key):B.toString(36)}function Ze(D,B,le,_e,Ee){var Re=typeof D;(Re==="undefined"||Re==="boolean")&&(D=null);var Le=!1;if(D===null)Le=!0;else switch(Re){case"string":case"number":Le=!0;break;case"object":switch(D.$$typeof){case i:case e:Le=!0}}if(Le)return Le=D,Ee=Ee(Le),D=_e===""?"."+S(Le,0):_e,Se(Ee)?(le="",D!=null&&(le=D.replace(L,"$&/")+"/"),Ze(Ee,B,le,"",function(dt){return dt})):Ee!=null&&(P(Ee)&&(Ee=A(Ee,le+(!Ee.key||Le&&Le.key===Ee.key?"":(""+Ee.key).replace(L,"$&/")+"/")+D)),B.push(Ee)),1;if(Le=0,_e=_e===""?".":_e+":",Se(D))for(var Oe=0;Oe<D.length;Oe++){Re=D[Oe];var je=_e+S(Re,Oe);Le+=Ze(Re,B,le,je,Ee)}else if(je=V(D),typeof je=="function")for(D=je.call(D),Oe=0;!(Re=D.next()).done;)Re=Re.value,je=_e+S(Re,Oe++),Le+=Ze(Re,B,le,je,Ee);else if(Re==="object")throw B=String(D),Error("Objects are not valid as a React child (found: "+(B==="[object Object]"?"object with keys {"+Object.keys(D).join(", ")+"}":B)+"). If you meant to render a collection of children, use an array instead.");return Le}function Pt(D,B,le){if(D==null)return D;var _e=[],Ee=0;return Ze(D,_e,"","",function(Re){return B.call(le,Re,Ee++)}),_e}function kt(D){if(D._status===-1){var B=D._result;B=B(),B.then(function(le){(D._status===0||D._status===-1)&&(D._status=1,D._result=le)},function(le){(D._status===0||D._status===-1)&&(D._status=2,D._result=le)}),D._status===-1&&(D._status=0,D._result=B)}if(D._status===1)return D._result.default;throw D._result}var be={current:null},X={transition:null},ce={ReactCurrentDispatcher:be,ReactCurrentBatchConfig:X,ReactCurrentOwner:Ne};function te(){throw Error("act(...) is not supported in production builds of React.")}return Te.Children={map:Pt,forEach:function(D,B,le){Pt(D,function(){B.apply(this,arguments)},le)},count:function(D){var B=0;return Pt(D,function(){B++}),B},toArray:function(D){return Pt(D,function(B){return B})||[]},only:function(D){if(!P(D))throw Error("React.Children.only expected to receive a single React element child.");return D}},Te.Component=Q,Te.Fragment=n,Te.Profiler=a,Te.PureComponent=ye,Te.StrictMode=s,Te.Suspense=y,Te.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=ce,Te.act=te,Te.cloneElement=function(D,B,le){if(D==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+D+".");var _e=G({},D.props),Ee=D.key,Re=D.ref,Le=D._owner;if(B!=null){if(B.ref!==void 0&&(Re=B.ref,Le=Ne.current),B.key!==void 0&&(Ee=""+B.key),D.type&&D.type.defaultProps)var Oe=D.type.defaultProps;for(je in B)Je.call(B,je)&&!x.hasOwnProperty(je)&&(_e[je]=B[je]===void 0&&Oe!==void 0?Oe[je]:B[je])}var je=arguments.length-2;if(je===1)_e.children=le;else if(1<je){Oe=Array(je);for(var dt=0;dt<je;dt++)Oe[dt]=arguments[dt+2];_e.children=Oe}return{$$typeof:i,type:D.type,key:Ee,ref:Re,props:_e,_owner:Le}},Te.createContext=function(D){return D={$$typeof:f,_currentValue:D,_currentValue2:D,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},D.Provider={$$typeof:c,_context:D},D.Consumer=D},Te.createElement=I,Te.createFactory=function(D){var B=I.bind(null,D);return B.type=D,B},Te.createRef=function(){return{current:null}},Te.forwardRef=function(D){return{$$typeof:m,render:D}},Te.isValidElement=P,Te.lazy=function(D){return{$$typeof:E,_payload:{_status:-1,_result:D},_init:kt}},Te.memo=function(D,B){return{$$typeof:v,type:D,compare:B===void 0?null:B}},Te.startTransition=function(D){var B=X.transition;X.transition={};try{D()}finally{X.transition=B}},Te.unstable_act=te,Te.useCallback=function(D,B){return be.current.useCallback(D,B)},Te.useContext=function(D){return be.current.useContext(D)},Te.useDebugValue=function(){},Te.useDeferredValue=function(D){return be.current.useDeferredValue(D)},Te.useEffect=function(D,B){return be.current.useEffect(D,B)},Te.useId=function(){return be.current.useId()},Te.useImperativeHandle=function(D,B,le){return be.current.useImperativeHandle(D,B,le)},Te.useInsertionEffect=function(D,B){return be.current.useInsertionEffect(D,B)},Te.useLayoutEffect=function(D,B){return be.current.useLayoutEffect(D,B)},Te.useMemo=function(D,B){return be.current.useMemo(D,B)},Te.useReducer=function(D,B,le){return be.current.useReducer(D,B,le)},Te.useRef=function(D){return be.current.useRef(D)},Te.useState=function(D){return be.current.useState(D)},Te.useSyncExternalStore=function(D,B,le){return be.current.useSyncExternalStore(D,B,le)},Te.useTransition=function(){return be.current.useTransition()},Te.version="18.3.1",Te}var Pp;function Mh(){return Pp||(Pp=1,Gc.exports=tv()),Gc.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var kp;function nv(){if(kp)return Ko;kp=1;var i=Mh(),e=Symbol.for("react.element"),n=Symbol.for("react.fragment"),s=Object.prototype.hasOwnProperty,a=i.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,c={key:!0,ref:!0,__self:!0,__source:!0};function f(m,y,v){var E,k={},V=null,j=null;v!==void 0&&(V=""+v),y.key!==void 0&&(V=""+y.key),y.ref!==void 0&&(j=y.ref);for(E in y)s.call(y,E)&&!c.hasOwnProperty(E)&&(k[E]=y[E]);if(m&&m.defaultProps)for(E in y=m.defaultProps,y)k[E]===void 0&&(k[E]=y[E]);return{$$typeof:e,type:m,key:V,ref:j,props:k,_owner:a.current}}return Ko.Fragment=n,Ko.jsx=f,Ko.jsxs=f,Ko}var xp;function rv(){return xp||(xp=1,Kc.exports=nv()),Kc.exports}var J=rv(),Li=Mh(),Nl={},Yc={exports:{}},Kt={},Xc={exports:{}},Jc={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Np;function iv(){return Np||(Np=1,function(i){function e(X,ce){var te=X.length;X.push(ce);e:for(;0<te;){var D=te-1>>>1,B=X[D];if(0<a(B,ce))X[D]=ce,X[te]=B,te=D;else break e}}function n(X){return X.length===0?null:X[0]}function s(X){if(X.length===0)return null;var ce=X[0],te=X.pop();if(te!==ce){X[0]=te;e:for(var D=0,B=X.length,le=B>>>1;D<le;){var _e=2*(D+1)-1,Ee=X[_e],Re=_e+1,Le=X[Re];if(0>a(Ee,te))Re<B&&0>a(Le,Ee)?(X[D]=Le,X[Re]=te,D=Re):(X[D]=Ee,X[_e]=te,D=_e);else if(Re<B&&0>a(Le,te))X[D]=Le,X[Re]=te,D=Re;else break e}}return ce}function a(X,ce){var te=X.sortIndex-ce.sortIndex;return te!==0?te:X.id-ce.id}if(typeof performance=="object"&&typeof performance.now=="function"){var c=performance;i.unstable_now=function(){return c.now()}}else{var f=Date,m=f.now();i.unstable_now=function(){return f.now()-m}}var y=[],v=[],E=1,k=null,V=3,j=!1,G=!1,Z=!1,Q=typeof setTimeout=="function"?setTimeout:null,ve=typeof clearTimeout=="function"?clearTimeout:null,ye=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function we(X){for(var ce=n(v);ce!==null;){if(ce.callback===null)s(v);else if(ce.startTime<=X)s(v),ce.sortIndex=ce.expirationTime,e(y,ce);else break;ce=n(v)}}function Se(X){if(Z=!1,we(X),!G)if(n(y)!==null)G=!0,kt(Je);else{var ce=n(v);ce!==null&&be(Se,ce.startTime-X)}}function Je(X,ce){G=!1,Z&&(Z=!1,ve(I),I=-1),j=!0;var te=V;try{for(we(ce),k=n(y);k!==null&&(!(k.expirationTime>ce)||X&&!N());){var D=k.callback;if(typeof D=="function"){k.callback=null,V=k.priorityLevel;var B=D(k.expirationTime<=ce);ce=i.unstable_now(),typeof B=="function"?k.callback=B:k===n(y)&&s(y),we(ce)}else s(y);k=n(y)}if(k!==null)var le=!0;else{var _e=n(v);_e!==null&&be(Se,_e.startTime-ce),le=!1}return le}finally{k=null,V=te,j=!1}}var Ne=!1,x=null,I=-1,A=5,P=-1;function N(){return!(i.unstable_now()-P<A)}function L(){if(x!==null){var X=i.unstable_now();P=X;var ce=!0;try{ce=x(!0,X)}finally{ce?S():(Ne=!1,x=null)}}else Ne=!1}var S;if(typeof ye=="function")S=function(){ye(L)};else if(typeof MessageChannel<"u"){var Ze=new MessageChannel,Pt=Ze.port2;Ze.port1.onmessage=L,S=function(){Pt.postMessage(null)}}else S=function(){Q(L,0)};function kt(X){x=X,Ne||(Ne=!0,S())}function be(X,ce){I=Q(function(){X(i.unstable_now())},ce)}i.unstable_IdlePriority=5,i.unstable_ImmediatePriority=1,i.unstable_LowPriority=4,i.unstable_NormalPriority=3,i.unstable_Profiling=null,i.unstable_UserBlockingPriority=2,i.unstable_cancelCallback=function(X){X.callback=null},i.unstable_continueExecution=function(){G||j||(G=!0,kt(Je))},i.unstable_forceFrameRate=function(X){0>X||125<X?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):A=0<X?Math.floor(1e3/X):5},i.unstable_getCurrentPriorityLevel=function(){return V},i.unstable_getFirstCallbackNode=function(){return n(y)},i.unstable_next=function(X){switch(V){case 1:case 2:case 3:var ce=3;break;default:ce=V}var te=V;V=ce;try{return X()}finally{V=te}},i.unstable_pauseExecution=function(){},i.unstable_requestPaint=function(){},i.unstable_runWithPriority=function(X,ce){switch(X){case 1:case 2:case 3:case 4:case 5:break;default:X=3}var te=V;V=X;try{return ce()}finally{V=te}},i.unstable_scheduleCallback=function(X,ce,te){var D=i.unstable_now();switch(typeof te=="object"&&te!==null?(te=te.delay,te=typeof te=="number"&&0<te?D+te:D):te=D,X){case 1:var B=-1;break;case 2:B=250;break;case 5:B=1073741823;break;case 4:B=1e4;break;default:B=5e3}return B=te+B,X={id:E++,callback:ce,priorityLevel:X,startTime:te,expirationTime:B,sortIndex:-1},te>D?(X.sortIndex=te,e(v,X),n(y)===null&&X===n(v)&&(Z?(ve(I),I=-1):Z=!0,be(Se,te-D))):(X.sortIndex=B,e(y,X),G||j||(G=!0,kt(Je))),X},i.unstable_shouldYield=N,i.unstable_wrapCallback=function(X){var ce=V;return function(){var te=V;V=ce;try{return X.apply(this,arguments)}finally{V=te}}}}(Jc)),Jc}var Vp;function sv(){return Vp||(Vp=1,Xc.exports=iv()),Xc.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Dp;function ov(){if(Dp)return Kt;Dp=1;var i=Mh(),e=sv();function n(t){for(var r="https://reactjs.org/docs/error-decoder.html?invariant="+t,o=1;o<arguments.length;o++)r+="&args[]="+encodeURIComponent(arguments[o]);return"Minified React error #"+t+"; visit "+r+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var s=new Set,a={};function c(t,r){f(t,r),f(t+"Capture",r)}function f(t,r){for(a[t]=r,t=0;t<r.length;t++)s.add(r[t])}var m=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),y=Object.prototype.hasOwnProperty,v=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,E={},k={};function V(t){return y.call(k,t)?!0:y.call(E,t)?!1:v.test(t)?k[t]=!0:(E[t]=!0,!1)}function j(t,r,o,u){if(o!==null&&o.type===0)return!1;switch(typeof r){case"function":case"symbol":return!0;case"boolean":return u?!1:o!==null?!o.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function G(t,r,o,u){if(r===null||typeof r>"u"||j(t,r,o,u))return!0;if(u)return!1;if(o!==null)switch(o.type){case 3:return!r;case 4:return r===!1;case 5:return isNaN(r);case 6:return isNaN(r)||1>r}return!1}function Z(t,r,o,u,h,p,_){this.acceptsBooleans=r===2||r===3||r===4,this.attributeName=u,this.attributeNamespace=h,this.mustUseProperty=o,this.propertyName=t,this.type=r,this.sanitizeURL=p,this.removeEmptyString=_}var Q={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){Q[t]=new Z(t,0,!1,t,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var r=t[0];Q[r]=new Z(r,1,!1,t[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(t){Q[t]=new Z(t,2,!1,t.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){Q[t]=new Z(t,2,!1,t,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){Q[t]=new Z(t,3,!1,t.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(t){Q[t]=new Z(t,3,!0,t,null,!1,!1)}),["capture","download"].forEach(function(t){Q[t]=new Z(t,4,!1,t,null,!1,!1)}),["cols","rows","size","span"].forEach(function(t){Q[t]=new Z(t,6,!1,t,null,!1,!1)}),["rowSpan","start"].forEach(function(t){Q[t]=new Z(t,5,!1,t.toLowerCase(),null,!1,!1)});var ve=/[\-:]([a-z])/g;function ye(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var r=t.replace(ve,ye);Q[r]=new Z(r,1,!1,t,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var r=t.replace(ve,ye);Q[r]=new Z(r,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(t){var r=t.replace(ve,ye);Q[r]=new Z(r,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(t){Q[t]=new Z(t,1,!1,t.toLowerCase(),null,!1,!1)}),Q.xlinkHref=new Z("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(t){Q[t]=new Z(t,1,!1,t.toLowerCase(),null,!0,!0)});function we(t,r,o,u){var h=Q.hasOwnProperty(r)?Q[r]:null;(h!==null?h.type!==0:u||!(2<r.length)||r[0]!=="o"&&r[0]!=="O"||r[1]!=="n"&&r[1]!=="N")&&(G(r,o,h,u)&&(o=null),u||h===null?V(r)&&(o===null?t.removeAttribute(r):t.setAttribute(r,""+o)):h.mustUseProperty?t[h.propertyName]=o===null?h.type===3?!1:"":o:(r=h.attributeName,u=h.attributeNamespace,o===null?t.removeAttribute(r):(h=h.type,o=h===3||h===4&&o===!0?"":""+o,u?t.setAttributeNS(u,r,o):t.setAttribute(r,o))))}var Se=i.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Je=Symbol.for("react.element"),Ne=Symbol.for("react.portal"),x=Symbol.for("react.fragment"),I=Symbol.for("react.strict_mode"),A=Symbol.for("react.profiler"),P=Symbol.for("react.provider"),N=Symbol.for("react.context"),L=Symbol.for("react.forward_ref"),S=Symbol.for("react.suspense"),Ze=Symbol.for("react.suspense_list"),Pt=Symbol.for("react.memo"),kt=Symbol.for("react.lazy"),be=Symbol.for("react.offscreen"),X=Symbol.iterator;function ce(t){return t===null||typeof t!="object"?null:(t=X&&t[X]||t["@@iterator"],typeof t=="function"?t:null)}var te=Object.assign,D;function B(t){if(D===void 0)try{throw Error()}catch(o){var r=o.stack.trim().match(/\n( *(at )?)/);D=r&&r[1]||""}return`
`+D+t}var le=!1;function _e(t,r){if(!t||le)return"";le=!0;var o=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(r)if(r=function(){throw Error()},Object.defineProperty(r.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(r,[])}catch(b){var u=b}Reflect.construct(t,[],r)}else{try{r.call()}catch(b){u=b}t.call(r.prototype)}else{try{throw Error()}catch(b){u=b}t()}}catch(b){if(b&&u&&typeof b.stack=="string"){for(var h=b.stack.split(`
`),p=u.stack.split(`
`),_=h.length-1,T=p.length-1;1<=_&&0<=T&&h[_]!==p[T];)T--;for(;1<=_&&0<=T;_--,T--)if(h[_]!==p[T]){if(_!==1||T!==1)do if(_--,T--,0>T||h[_]!==p[T]){var R=`
`+h[_].replace(" at new "," at ");return t.displayName&&R.includes("<anonymous>")&&(R=R.replace("<anonymous>",t.displayName)),R}while(1<=_&&0<=T);break}}}finally{le=!1,Error.prepareStackTrace=o}return(t=t?t.displayName||t.name:"")?B(t):""}function Ee(t){switch(t.tag){case 5:return B(t.type);case 16:return B("Lazy");case 13:return B("Suspense");case 19:return B("SuspenseList");case 0:case 2:case 15:return t=_e(t.type,!1),t;case 11:return t=_e(t.type.render,!1),t;case 1:return t=_e(t.type,!0),t;default:return""}}function Re(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case x:return"Fragment";case Ne:return"Portal";case A:return"Profiler";case I:return"StrictMode";case S:return"Suspense";case Ze:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case N:return(t.displayName||"Context")+".Consumer";case P:return(t._context.displayName||"Context")+".Provider";case L:var r=t.render;return t=t.displayName,t||(t=r.displayName||r.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case Pt:return r=t.displayName||null,r!==null?r:Re(t.type)||"Memo";case kt:r=t._payload,t=t._init;try{return Re(t(r))}catch{}}return null}function Le(t){var r=t.type;switch(t.tag){case 24:return"Cache";case 9:return(r.displayName||"Context")+".Consumer";case 10:return(r._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=r.render,t=t.displayName||t.name||"",r.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return r;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Re(r);case 8:return r===I?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof r=="function")return r.displayName||r.name||null;if(typeof r=="string")return r}return null}function Oe(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function je(t){var r=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(r==="checkbox"||r==="radio")}function dt(t){var r=je(t)?"checked":"value",o=Object.getOwnPropertyDescriptor(t.constructor.prototype,r),u=""+t[r];if(!t.hasOwnProperty(r)&&typeof o<"u"&&typeof o.get=="function"&&typeof o.set=="function"){var h=o.get,p=o.set;return Object.defineProperty(t,r,{configurable:!0,get:function(){return h.call(this)},set:function(_){u=""+_,p.call(this,_)}}),Object.defineProperty(t,r,{enumerable:o.enumerable}),{getValue:function(){return u},setValue:function(_){u=""+_},stopTracking:function(){t._valueTracker=null,delete t[r]}}}}function Yn(t){t._valueTracker||(t._valueTracker=dt(t))}function $i(t){if(!t)return!1;var r=t._valueTracker;if(!r)return!0;var o=r.getValue(),u="";return t&&(u=je(t)?t.checked?"true":"false":t.value),t=u,t!==o?(r.setValue(t),!0):!1}function vr(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function ri(t,r){var o=r.checked;return te({},r,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:o??t._wrapperState.initialChecked})}function qi(t,r){var o=r.defaultValue==null?"":r.defaultValue,u=r.checked!=null?r.checked:r.defaultChecked;o=Oe(r.value!=null?r.value:o),t._wrapperState={initialChecked:u,initialValue:o,controlled:r.type==="checkbox"||r.type==="radio"?r.checked!=null:r.value!=null}}function Zs(t,r){r=r.checked,r!=null&&we(t,"checked",r,!1)}function eo(t,r){Zs(t,r);var o=Oe(r.value),u=r.type;if(o!=null)u==="number"?(o===0&&t.value===""||t.value!=o)&&(t.value=""+o):t.value!==""+o&&(t.value=""+o);else if(u==="submit"||u==="reset"){t.removeAttribute("value");return}r.hasOwnProperty("value")?Hi(t,r.type,o):r.hasOwnProperty("defaultValue")&&Hi(t,r.type,Oe(r.defaultValue)),r.checked==null&&r.defaultChecked!=null&&(t.defaultChecked=!!r.defaultChecked)}function ga(t,r,o){if(r.hasOwnProperty("value")||r.hasOwnProperty("defaultValue")){var u=r.type;if(!(u!=="submit"&&u!=="reset"||r.value!==void 0&&r.value!==null))return;r=""+t._wrapperState.initialValue,o||r===t.value||(t.value=r),t.defaultValue=r}o=t.name,o!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,o!==""&&(t.name=o)}function Hi(t,r,o){(r!=="number"||vr(t.ownerDocument)!==t)&&(o==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+o&&(t.defaultValue=""+o))}var Xn=Array.isArray;function Jn(t,r,o,u){if(t=t.options,r){r={};for(var h=0;h<o.length;h++)r["$"+o[h]]=!0;for(o=0;o<t.length;o++)h=r.hasOwnProperty("$"+t[o].value),t[o].selected!==h&&(t[o].selected=h),h&&u&&(t[o].defaultSelected=!0)}else{for(o=""+Oe(o),r=null,h=0;h<t.length;h++){if(t[h].value===o){t[h].selected=!0,u&&(t[h].defaultSelected=!0);return}r!==null||t[h].disabled||(r=t[h])}r!==null&&(r.selected=!0)}}function to(t,r){if(r.dangerouslySetInnerHTML!=null)throw Error(n(91));return te({},r,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function Wi(t,r){var o=r.value;if(o==null){if(o=r.children,r=r.defaultValue,o!=null){if(r!=null)throw Error(n(92));if(Xn(o)){if(1<o.length)throw Error(n(93));o=o[0]}r=o}r==null&&(r=""),o=r}t._wrapperState={initialValue:Oe(o)}}function Qi(t,r){var o=Oe(r.value),u=Oe(r.defaultValue);o!=null&&(o=""+o,o!==t.value&&(t.value=o),r.defaultValue==null&&t.defaultValue!==o&&(t.defaultValue=o)),u!=null&&(t.defaultValue=""+u)}function no(t){var r=t.textContent;r===t._wrapperState.initialValue&&r!==""&&r!==null&&(t.value=r)}function at(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function lt(t,r){return t==null||t==="http://www.w3.org/1999/xhtml"?at(r):t==="http://www.w3.org/2000/svg"&&r==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var Zn,ro=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(r,o,u,h){MSApp.execUnsafeLocalFunction(function(){return t(r,o,u,h)})}:t}(function(t,r){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=r;else{for(Zn=Zn||document.createElement("div"),Zn.innerHTML="<svg>"+r.valueOf().toString()+"</svg>",r=Zn.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;r.firstChild;)t.appendChild(r.firstChild)}});function wr(t,r){if(r){var o=t.firstChild;if(o&&o===t.lastChild&&o.nodeType===3){o.nodeValue=r;return}}t.textContent=r}var ii={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},si=["Webkit","ms","Moz","O"];Object.keys(ii).forEach(function(t){si.forEach(function(r){r=r+t.charAt(0).toUpperCase()+t.substring(1),ii[r]=ii[t]})});function io(t,r,o){return r==null||typeof r=="boolean"||r===""?"":o||typeof r!="number"||r===0||ii.hasOwnProperty(t)&&ii[t]?(""+r).trim():r+"px"}function so(t,r){t=t.style;for(var o in r)if(r.hasOwnProperty(o)){var u=o.indexOf("--")===0,h=io(o,r[o],u);o==="float"&&(o="cssFloat"),u?t.setProperty(o,h):t[o]=h}}var oo=te({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ao(t,r){if(r){if(oo[t]&&(r.children!=null||r.dangerouslySetInnerHTML!=null))throw Error(n(137,t));if(r.dangerouslySetInnerHTML!=null){if(r.children!=null)throw Error(n(60));if(typeof r.dangerouslySetInnerHTML!="object"||!("__html"in r.dangerouslySetInnerHTML))throw Error(n(61))}if(r.style!=null&&typeof r.style!="object")throw Error(n(62))}}function lo(t,r){if(t.indexOf("-")===-1)return typeof r.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var oi=null;function Ki(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Gi=null,on=null,On=null;function Yi(t){if(t=Do(t)){if(typeof Gi!="function")throw Error(n(280));var r=t.stateNode;r&&(r=Wa(r),Gi(t.stateNode,t.type,r))}}function Mn(t){on?On?On.push(t):On=[t]:on=t}function uo(){if(on){var t=on,r=On;if(On=on=null,Yi(t),r)for(t=0;t<r.length;t++)Yi(r[t])}}function ai(t,r){return t(r)}function co(){}var er=!1;function ho(t,r,o){if(er)return t(r,o);er=!0;try{return ai(t,r,o)}finally{er=!1,(on!==null||On!==null)&&(co(),uo())}}function et(t,r){var o=t.stateNode;if(o===null)return null;var u=Wa(o);if(u===null)return null;o=u[r];e:switch(r){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(u=!u.disabled)||(t=t.type,u=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!u;break e;default:t=!1}if(t)return null;if(o&&typeof o!="function")throw Error(n(231,r,typeof o));return o}var Xi=!1;if(m)try{var _n={};Object.defineProperty(_n,"passive",{get:function(){Xi=!0}}),window.addEventListener("test",_n,_n),window.removeEventListener("test",_n,_n)}catch{Xi=!1}function li(t,r,o,u,h,p,_,T,R){var b=Array.prototype.slice.call(arguments,3);try{r.apply(o,b)}catch(H){this.onError(H)}}var ui=!1,Ji=null,vn=!1,fo=null,Tu={onError:function(t){ui=!0,Ji=t}};function Zi(t,r,o,u,h,p,_,T,R){ui=!1,Ji=null,li.apply(Tu,arguments)}function ya(t,r,o,u,h,p,_,T,R){if(Zi.apply(this,arguments),ui){if(ui){var b=Ji;ui=!1,Ji=null}else throw Error(n(198));vn||(vn=!0,fo=b)}}function wn(t){var r=t,o=t;if(t.alternate)for(;r.return;)r=r.return;else{t=r;do r=t,(r.flags&4098)!==0&&(o=r.return),t=r.return;while(t)}return r.tag===3?o:null}function ci(t){if(t.tag===13){var r=t.memoizedState;if(r===null&&(t=t.alternate,t!==null&&(r=t.memoizedState)),r!==null)return r.dehydrated}return null}function En(t){if(wn(t)!==t)throw Error(n(188))}function _a(t){var r=t.alternate;if(!r){if(r=wn(t),r===null)throw Error(n(188));return r!==t?null:t}for(var o=t,u=r;;){var h=o.return;if(h===null)break;var p=h.alternate;if(p===null){if(u=h.return,u!==null){o=u;continue}break}if(h.child===p.child){for(p=h.child;p;){if(p===o)return En(h),t;if(p===u)return En(h),r;p=p.sibling}throw Error(n(188))}if(o.return!==u.return)o=h,u=p;else{for(var _=!1,T=h.child;T;){if(T===o){_=!0,o=h,u=p;break}if(T===u){_=!0,u=h,o=p;break}T=T.sibling}if(!_){for(T=p.child;T;){if(T===o){_=!0,o=p,u=h;break}if(T===u){_=!0,u=p,o=h;break}T=T.sibling}if(!_)throw Error(n(189))}}if(o.alternate!==u)throw Error(n(190))}if(o.tag!==3)throw Error(n(188));return o.stateNode.current===o?t:r}function po(t){return t=_a(t),t!==null?es(t):null}function es(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var r=es(t);if(r!==null)return r;t=t.sibling}return null}var ts=e.unstable_scheduleCallback,mo=e.unstable_cancelCallback,va=e.unstable_shouldYield,Iu=e.unstable_requestPaint,ze=e.unstable_now,wa=e.unstable_getCurrentPriorityLevel,hi=e.unstable_ImmediatePriority,Er=e.unstable_UserBlockingPriority,an=e.unstable_NormalPriority,go=e.unstable_LowPriority,Ea=e.unstable_IdlePriority,fi=null,Xt=null;function Ta(t){if(Xt&&typeof Xt.onCommitFiberRoot=="function")try{Xt.onCommitFiberRoot(fi,t,void 0,(t.current.flags&128)===128)}catch{}}var Ft=Math.clz32?Math.clz32:Sa,yo=Math.log,Ia=Math.LN2;function Sa(t){return t>>>=0,t===0?32:31-(yo(t)/Ia|0)|0}var ns=64,rs=4194304;function Tr(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function di(t,r){var o=t.pendingLanes;if(o===0)return 0;var u=0,h=t.suspendedLanes,p=t.pingedLanes,_=o&268435455;if(_!==0){var T=_&~h;T!==0?u=Tr(T):(p&=_,p!==0&&(u=Tr(p)))}else _=o&~h,_!==0?u=Tr(_):p!==0&&(u=Tr(p));if(u===0)return 0;if(r!==0&&r!==u&&(r&h)===0&&(h=u&-u,p=r&-r,h>=p||h===16&&(p&4194240)!==0))return r;if((u&4)!==0&&(u|=o&16),r=t.entangledLanes,r!==0)for(t=t.entanglements,r&=u;0<r;)o=31-Ft(r),h=1<<o,u|=t[o],r&=~h;return u}function Su(t,r){switch(t){case 1:case 2:case 4:return r+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function tr(t,r){for(var o=t.suspendedLanes,u=t.pingedLanes,h=t.expirationTimes,p=t.pendingLanes;0<p;){var _=31-Ft(p),T=1<<_,R=h[_];R===-1?((T&o)===0||(T&u)!==0)&&(h[_]=Su(T,r)):R<=r&&(t.expiredLanes|=T),p&=~T}}function Jt(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function pi(){var t=ns;return ns<<=1,(ns&4194240)===0&&(ns=64),t}function Ir(t){for(var r=[],o=0;31>o;o++)r.push(t);return r}function Sr(t,r,o){t.pendingLanes|=r,r!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,r=31-Ft(r),t[r]=o}function Ue(t,r){var o=t.pendingLanes&~r;t.pendingLanes=r,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=r,t.mutableReadLanes&=r,t.entangledLanes&=r,r=t.entanglements;var u=t.eventTimes;for(t=t.expirationTimes;0<o;){var h=31-Ft(o),p=1<<h;r[h]=0,u[h]=-1,t[h]=-1,o&=~p}}function Ar(t,r){var o=t.entangledLanes|=r;for(t=t.entanglements;o;){var u=31-Ft(o),h=1<<u;h&r|t[u]&r&&(t[u]|=r),o&=~h}}var Ae=0;function Rr(t){return t&=-t,1<t?4<t?(t&268435455)!==0?16:536870912:4:1}var Aa,is,Ra,Ca,Pa,_o=!1,Fn=[],wt=null,Tn=null,In=null,Cr=new Map,ln=new Map,bn=[],Au="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function ka(t,r){switch(t){case"focusin":case"focusout":wt=null;break;case"dragenter":case"dragleave":Tn=null;break;case"mouseover":case"mouseout":In=null;break;case"pointerover":case"pointerout":Cr.delete(r.pointerId);break;case"gotpointercapture":case"lostpointercapture":ln.delete(r.pointerId)}}function zt(t,r,o,u,h,p){return t===null||t.nativeEvent!==p?(t={blockedOn:r,domEventName:o,eventSystemFlags:u,nativeEvent:p,targetContainers:[h]},r!==null&&(r=Do(r),r!==null&&is(r)),t):(t.eventSystemFlags|=u,r=t.targetContainers,h!==null&&r.indexOf(h)===-1&&r.push(h),t)}function Ru(t,r,o,u,h){switch(r){case"focusin":return wt=zt(wt,t,r,o,u,h),!0;case"dragenter":return Tn=zt(Tn,t,r,o,u,h),!0;case"mouseover":return In=zt(In,t,r,o,u,h),!0;case"pointerover":var p=h.pointerId;return Cr.set(p,zt(Cr.get(p)||null,t,r,o,u,h)),!0;case"gotpointercapture":return p=h.pointerId,ln.set(p,zt(ln.get(p)||null,t,r,o,u,h)),!0}return!1}function xa(t){var r=vi(t.target);if(r!==null){var o=wn(r);if(o!==null){if(r=o.tag,r===13){if(r=ci(o),r!==null){t.blockedOn=r,Pa(t.priority,function(){Ra(o)});return}}else if(r===3&&o.stateNode.current.memoizedState.isDehydrated){t.blockedOn=o.tag===3?o.stateNode.containerInfo:null;return}}}t.blockedOn=null}function nr(t){if(t.blockedOn!==null)return!1;for(var r=t.targetContainers;0<r.length;){var o=ss(t.domEventName,t.eventSystemFlags,r[0],t.nativeEvent);if(o===null){o=t.nativeEvent;var u=new o.constructor(o.type,o);oi=u,o.target.dispatchEvent(u),oi=null}else return r=Do(o),r!==null&&is(r),t.blockedOn=o,!1;r.shift()}return!0}function mi(t,r,o){nr(t)&&o.delete(r)}function Na(){_o=!1,wt!==null&&nr(wt)&&(wt=null),Tn!==null&&nr(Tn)&&(Tn=null),In!==null&&nr(In)&&(In=null),Cr.forEach(mi),ln.forEach(mi)}function Sn(t,r){t.blockedOn===r&&(t.blockedOn=null,_o||(_o=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,Na)))}function An(t){function r(h){return Sn(h,t)}if(0<Fn.length){Sn(Fn[0],t);for(var o=1;o<Fn.length;o++){var u=Fn[o];u.blockedOn===t&&(u.blockedOn=null)}}for(wt!==null&&Sn(wt,t),Tn!==null&&Sn(Tn,t),In!==null&&Sn(In,t),Cr.forEach(r),ln.forEach(r),o=0;o<bn.length;o++)u=bn[o],u.blockedOn===t&&(u.blockedOn=null);for(;0<bn.length&&(o=bn[0],o.blockedOn===null);)xa(o),o.blockedOn===null&&bn.shift()}var rr=Se.ReactCurrentBatchConfig,Pr=!0;function We(t,r,o,u){var h=Ae,p=rr.transition;rr.transition=null;try{Ae=1,vo(t,r,o,u)}finally{Ae=h,rr.transition=p}}function Cu(t,r,o,u){var h=Ae,p=rr.transition;rr.transition=null;try{Ae=4,vo(t,r,o,u)}finally{Ae=h,rr.transition=p}}function vo(t,r,o,u){if(Pr){var h=ss(t,r,o,u);if(h===null)bu(t,r,u,gi,o),ka(t,u);else if(Ru(h,t,r,o,u))u.stopPropagation();else if(ka(t,u),r&4&&-1<Au.indexOf(t)){for(;h!==null;){var p=Do(h);if(p!==null&&Aa(p),p=ss(t,r,o,u),p===null&&bu(t,r,u,gi,o),p===h)break;h=p}h!==null&&u.stopPropagation()}else bu(t,r,u,null,o)}}var gi=null;function ss(t,r,o,u){if(gi=null,t=Ki(u),t=vi(t),t!==null)if(r=wn(t),r===null)t=null;else if(o=r.tag,o===13){if(t=ci(r),t!==null)return t;t=null}else if(o===3){if(r.stateNode.current.memoizedState.isDehydrated)return r.tag===3?r.stateNode.containerInfo:null;t=null}else r!==t&&(t=null);return gi=t,null}function wo(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(wa()){case hi:return 1;case Er:return 4;case an:case go:return 16;case Ea:return 536870912;default:return 16}default:return 16}}var Zt=null,os=null,Bt=null;function Eo(){if(Bt)return Bt;var t,r=os,o=r.length,u,h="value"in Zt?Zt.value:Zt.textContent,p=h.length;for(t=0;t<o&&r[t]===h[t];t++);var _=o-t;for(u=1;u<=_&&r[o-u]===h[p-u];u++);return Bt=h.slice(t,1<u?1-u:void 0)}function as(t){var r=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&r===13&&(t=13)):t=r,t===10&&(t=13),32<=t||t===13?t:0}function Un(){return!0}function To(){return!1}function Et(t){function r(o,u,h,p,_){this._reactName=o,this._targetInst=h,this.type=u,this.nativeEvent=p,this.target=_,this.currentTarget=null;for(var T in t)t.hasOwnProperty(T)&&(o=t[T],this[T]=o?o(p):p[T]);return this.isDefaultPrevented=(p.defaultPrevented!=null?p.defaultPrevented:p.returnValue===!1)?Un:To,this.isPropagationStopped=To,this}return te(r.prototype,{preventDefault:function(){this.defaultPrevented=!0;var o=this.nativeEvent;o&&(o.preventDefault?o.preventDefault():typeof o.returnValue!="unknown"&&(o.returnValue=!1),this.isDefaultPrevented=Un)},stopPropagation:function(){var o=this.nativeEvent;o&&(o.stopPropagation?o.stopPropagation():typeof o.cancelBubble!="unknown"&&(o.cancelBubble=!0),this.isPropagationStopped=Un)},persist:function(){},isPersistent:Un}),r}var Rn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ls=Et(Rn),jn=te({},Rn,{view:0,detail:0}),Pu=Et(jn),us,ir,kr,yi=te({},jn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:zn,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==kr&&(kr&&t.type==="mousemove"?(us=t.screenX-kr.screenX,ir=t.screenY-kr.screenY):ir=us=0,kr=t),us)},movementY:function(t){return"movementY"in t?t.movementY:ir}}),cs=Et(yi),Io=te({},yi,{dataTransfer:0}),Va=Et(Io),hs=te({},jn,{relatedTarget:0}),fs=Et(hs),Da=te({},Rn,{animationName:0,elapsedTime:0,pseudoElement:0}),sr=Et(Da),La=te({},Rn,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),Oa=Et(La),Ma=te({},Rn,{data:0}),So=Et(Ma),ds={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},bt={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Fa={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function ba(t){var r=this.nativeEvent;return r.getModifierState?r.getModifierState(t):(t=Fa[t])?!!r[t]:!1}function zn(){return ba}var l=te({},jn,{key:function(t){if(t.key){var r=ds[t.key]||t.key;if(r!=="Unidentified")return r}return t.type==="keypress"?(t=as(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?bt[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:zn,charCode:function(t){return t.type==="keypress"?as(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?as(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),d=Et(l),g=te({},yi,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),w=Et(g),O=te({},jn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:zn}),U=Et(O),Y=te({},Rn,{propertyName:0,elapsedTime:0,pseudoElement:0}),Fe=Et(Y),ut=te({},yi,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),Ce=Et(ut),pt=[9,13,27,32],rt=m&&"CompositionEvent"in window,un=null;m&&"documentMode"in document&&(un=document.documentMode);var en=m&&"TextEvent"in window&&!un,_i=m&&(!rt||un&&8<un&&11>=un),ps=" ",Ef=!1;function Tf(t,r){switch(t){case"keyup":return pt.indexOf(r.keyCode)!==-1;case"keydown":return r.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function If(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var ms=!1;function Jy(t,r){switch(t){case"compositionend":return If(r);case"keypress":return r.which!==32?null:(Ef=!0,ps);case"textInput":return t=r.data,t===ps&&Ef?null:t;default:return null}}function Zy(t,r){if(ms)return t==="compositionend"||!rt&&Tf(t,r)?(t=Eo(),Bt=os=Zt=null,ms=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(r.ctrlKey||r.altKey||r.metaKey)||r.ctrlKey&&r.altKey){if(r.char&&1<r.char.length)return r.char;if(r.which)return String.fromCharCode(r.which)}return null;case"compositionend":return _i&&r.locale!=="ko"?null:r.data;default:return null}}var e_={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Sf(t){var r=t&&t.nodeName&&t.nodeName.toLowerCase();return r==="input"?!!e_[t.type]:r==="textarea"}function Af(t,r,o,u){Mn(u),r=$a(r,"onChange"),0<r.length&&(o=new ls("onChange","change",null,o,u),t.push({event:o,listeners:r}))}var Ao=null,Ro=null;function t_(t){$f(t,0)}function Ua(t){var r=ws(t);if($i(r))return t}function n_(t,r){if(t==="change")return r}var Rf=!1;if(m){var ku;if(m){var xu="oninput"in document;if(!xu){var Cf=document.createElement("div");Cf.setAttribute("oninput","return;"),xu=typeof Cf.oninput=="function"}ku=xu}else ku=!1;Rf=ku&&(!document.documentMode||9<document.documentMode)}function Pf(){Ao&&(Ao.detachEvent("onpropertychange",kf),Ro=Ao=null)}function kf(t){if(t.propertyName==="value"&&Ua(Ro)){var r=[];Af(r,Ro,t,Ki(t)),ho(t_,r)}}function r_(t,r,o){t==="focusin"?(Pf(),Ao=r,Ro=o,Ao.attachEvent("onpropertychange",kf)):t==="focusout"&&Pf()}function i_(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Ua(Ro)}function s_(t,r){if(t==="click")return Ua(r)}function o_(t,r){if(t==="input"||t==="change")return Ua(r)}function a_(t,r){return t===r&&(t!==0||1/t===1/r)||t!==t&&r!==r}var Cn=typeof Object.is=="function"?Object.is:a_;function Co(t,r){if(Cn(t,r))return!0;if(typeof t!="object"||t===null||typeof r!="object"||r===null)return!1;var o=Object.keys(t),u=Object.keys(r);if(o.length!==u.length)return!1;for(u=0;u<o.length;u++){var h=o[u];if(!y.call(r,h)||!Cn(t[h],r[h]))return!1}return!0}function xf(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Nf(t,r){var o=xf(t);t=0;for(var u;o;){if(o.nodeType===3){if(u=t+o.textContent.length,t<=r&&u>=r)return{node:o,offset:r-t};t=u}e:{for(;o;){if(o.nextSibling){o=o.nextSibling;break e}o=o.parentNode}o=void 0}o=xf(o)}}function Vf(t,r){return t&&r?t===r?!0:t&&t.nodeType===3?!1:r&&r.nodeType===3?Vf(t,r.parentNode):"contains"in t?t.contains(r):t.compareDocumentPosition?!!(t.compareDocumentPosition(r)&16):!1:!1}function Df(){for(var t=window,r=vr();r instanceof t.HTMLIFrameElement;){try{var o=typeof r.contentWindow.location.href=="string"}catch{o=!1}if(o)t=r.contentWindow;else break;r=vr(t.document)}return r}function Nu(t){var r=t&&t.nodeName&&t.nodeName.toLowerCase();return r&&(r==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||r==="textarea"||t.contentEditable==="true")}function l_(t){var r=Df(),o=t.focusedElem,u=t.selectionRange;if(r!==o&&o&&o.ownerDocument&&Vf(o.ownerDocument.documentElement,o)){if(u!==null&&Nu(o)){if(r=u.start,t=u.end,t===void 0&&(t=r),"selectionStart"in o)o.selectionStart=r,o.selectionEnd=Math.min(t,o.value.length);else if(t=(r=o.ownerDocument||document)&&r.defaultView||window,t.getSelection){t=t.getSelection();var h=o.textContent.length,p=Math.min(u.start,h);u=u.end===void 0?p:Math.min(u.end,h),!t.extend&&p>u&&(h=u,u=p,p=h),h=Nf(o,p);var _=Nf(o,u);h&&_&&(t.rangeCount!==1||t.anchorNode!==h.node||t.anchorOffset!==h.offset||t.focusNode!==_.node||t.focusOffset!==_.offset)&&(r=r.createRange(),r.setStart(h.node,h.offset),t.removeAllRanges(),p>u?(t.addRange(r),t.extend(_.node,_.offset)):(r.setEnd(_.node,_.offset),t.addRange(r)))}}for(r=[],t=o;t=t.parentNode;)t.nodeType===1&&r.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof o.focus=="function"&&o.focus(),o=0;o<r.length;o++)t=r[o],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var u_=m&&"documentMode"in document&&11>=document.documentMode,gs=null,Vu=null,Po=null,Du=!1;function Lf(t,r,o){var u=o.window===o?o.document:o.nodeType===9?o:o.ownerDocument;Du||gs==null||gs!==vr(u)||(u=gs,"selectionStart"in u&&Nu(u)?u={start:u.selectionStart,end:u.selectionEnd}:(u=(u.ownerDocument&&u.ownerDocument.defaultView||window).getSelection(),u={anchorNode:u.anchorNode,anchorOffset:u.anchorOffset,focusNode:u.focusNode,focusOffset:u.focusOffset}),Po&&Co(Po,u)||(Po=u,u=$a(Vu,"onSelect"),0<u.length&&(r=new ls("onSelect","select",null,r,o),t.push({event:r,listeners:u}),r.target=gs)))}function ja(t,r){var o={};return o[t.toLowerCase()]=r.toLowerCase(),o["Webkit"+t]="webkit"+r,o["Moz"+t]="moz"+r,o}var ys={animationend:ja("Animation","AnimationEnd"),animationiteration:ja("Animation","AnimationIteration"),animationstart:ja("Animation","AnimationStart"),transitionend:ja("Transition","TransitionEnd")},Lu={},Of={};m&&(Of=document.createElement("div").style,"AnimationEvent"in window||(delete ys.animationend.animation,delete ys.animationiteration.animation,delete ys.animationstart.animation),"TransitionEvent"in window||delete ys.transitionend.transition);function za(t){if(Lu[t])return Lu[t];if(!ys[t])return t;var r=ys[t],o;for(o in r)if(r.hasOwnProperty(o)&&o in Of)return Lu[t]=r[o];return t}var Mf=za("animationend"),Ff=za("animationiteration"),bf=za("animationstart"),Uf=za("transitionend"),jf=new Map,zf="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function xr(t,r){jf.set(t,r),c(r,[t])}for(var Ou=0;Ou<zf.length;Ou++){var Mu=zf[Ou],c_=Mu.toLowerCase(),h_=Mu[0].toUpperCase()+Mu.slice(1);xr(c_,"on"+h_)}xr(Mf,"onAnimationEnd"),xr(Ff,"onAnimationIteration"),xr(bf,"onAnimationStart"),xr("dblclick","onDoubleClick"),xr("focusin","onFocus"),xr("focusout","onBlur"),xr(Uf,"onTransitionEnd"),f("onMouseEnter",["mouseout","mouseover"]),f("onMouseLeave",["mouseout","mouseover"]),f("onPointerEnter",["pointerout","pointerover"]),f("onPointerLeave",["pointerout","pointerover"]),c("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),c("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),c("onBeforeInput",["compositionend","keypress","textInput","paste"]),c("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),c("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),c("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ko="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),f_=new Set("cancel close invalid load scroll toggle".split(" ").concat(ko));function Bf(t,r,o){var u=t.type||"unknown-event";t.currentTarget=o,ya(u,r,void 0,t),t.currentTarget=null}function $f(t,r){r=(r&4)!==0;for(var o=0;o<t.length;o++){var u=t[o],h=u.event;u=u.listeners;e:{var p=void 0;if(r)for(var _=u.length-1;0<=_;_--){var T=u[_],R=T.instance,b=T.currentTarget;if(T=T.listener,R!==p&&h.isPropagationStopped())break e;Bf(h,T,b),p=R}else for(_=0;_<u.length;_++){if(T=u[_],R=T.instance,b=T.currentTarget,T=T.listener,R!==p&&h.isPropagationStopped())break e;Bf(h,T,b),p=R}}}if(vn)throw t=fo,vn=!1,fo=null,t}function $e(t,r){var o=r[qu];o===void 0&&(o=r[qu]=new Set);var u=t+"__bubble";o.has(u)||(qf(r,t,2,!1),o.add(u))}function Fu(t,r,o){var u=0;r&&(u|=4),qf(o,t,u,r)}var Ba="_reactListening"+Math.random().toString(36).slice(2);function xo(t){if(!t[Ba]){t[Ba]=!0,s.forEach(function(o){o!=="selectionchange"&&(f_.has(o)||Fu(o,!1,t),Fu(o,!0,t))});var r=t.nodeType===9?t:t.ownerDocument;r===null||r[Ba]||(r[Ba]=!0,Fu("selectionchange",!1,r))}}function qf(t,r,o,u){switch(wo(r)){case 1:var h=We;break;case 4:h=Cu;break;default:h=vo}o=h.bind(null,r,o,t),h=void 0,!Xi||r!=="touchstart"&&r!=="touchmove"&&r!=="wheel"||(h=!0),u?h!==void 0?t.addEventListener(r,o,{capture:!0,passive:h}):t.addEventListener(r,o,!0):h!==void 0?t.addEventListener(r,o,{passive:h}):t.addEventListener(r,o,!1)}function bu(t,r,o,u,h){var p=u;if((r&1)===0&&(r&2)===0&&u!==null)e:for(;;){if(u===null)return;var _=u.tag;if(_===3||_===4){var T=u.stateNode.containerInfo;if(T===h||T.nodeType===8&&T.parentNode===h)break;if(_===4)for(_=u.return;_!==null;){var R=_.tag;if((R===3||R===4)&&(R=_.stateNode.containerInfo,R===h||R.nodeType===8&&R.parentNode===h))return;_=_.return}for(;T!==null;){if(_=vi(T),_===null)return;if(R=_.tag,R===5||R===6){u=p=_;continue e}T=T.parentNode}}u=u.return}ho(function(){var b=p,H=Ki(o),W=[];e:{var q=jf.get(t);if(q!==void 0){var ee=ls,ie=t;switch(t){case"keypress":if(as(o)===0)break e;case"keydown":case"keyup":ee=d;break;case"focusin":ie="focus",ee=fs;break;case"focusout":ie="blur",ee=fs;break;case"beforeblur":case"afterblur":ee=fs;break;case"click":if(o.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":ee=cs;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":ee=Va;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":ee=U;break;case Mf:case Ff:case bf:ee=sr;break;case Uf:ee=Fe;break;case"scroll":ee=Pu;break;case"wheel":ee=Ce;break;case"copy":case"cut":case"paste":ee=Oa;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":ee=w}var oe=(r&4)!==0,tt=!oe&&t==="scroll",M=oe?q!==null?q+"Capture":null:q;oe=[];for(var C=b,F;C!==null;){F=C;var K=F.stateNode;if(F.tag===5&&K!==null&&(F=K,M!==null&&(K=et(C,M),K!=null&&oe.push(No(C,K,F)))),tt)break;C=C.return}0<oe.length&&(q=new ee(q,ie,null,o,H),W.push({event:q,listeners:oe}))}}if((r&7)===0){e:{if(q=t==="mouseover"||t==="pointerover",ee=t==="mouseout"||t==="pointerout",q&&o!==oi&&(ie=o.relatedTarget||o.fromElement)&&(vi(ie)||ie[or]))break e;if((ee||q)&&(q=H.window===H?H:(q=H.ownerDocument)?q.defaultView||q.parentWindow:window,ee?(ie=o.relatedTarget||o.toElement,ee=b,ie=ie?vi(ie):null,ie!==null&&(tt=wn(ie),ie!==tt||ie.tag!==5&&ie.tag!==6)&&(ie=null)):(ee=null,ie=b),ee!==ie)){if(oe=cs,K="onMouseLeave",M="onMouseEnter",C="mouse",(t==="pointerout"||t==="pointerover")&&(oe=w,K="onPointerLeave",M="onPointerEnter",C="pointer"),tt=ee==null?q:ws(ee),F=ie==null?q:ws(ie),q=new oe(K,C+"leave",ee,o,H),q.target=tt,q.relatedTarget=F,K=null,vi(H)===b&&(oe=new oe(M,C+"enter",ie,o,H),oe.target=F,oe.relatedTarget=tt,K=oe),tt=K,ee&&ie)t:{for(oe=ee,M=ie,C=0,F=oe;F;F=_s(F))C++;for(F=0,K=M;K;K=_s(K))F++;for(;0<C-F;)oe=_s(oe),C--;for(;0<F-C;)M=_s(M),F--;for(;C--;){if(oe===M||M!==null&&oe===M.alternate)break t;oe=_s(oe),M=_s(M)}oe=null}else oe=null;ee!==null&&Hf(W,q,ee,oe,!1),ie!==null&&tt!==null&&Hf(W,tt,ie,oe,!0)}}e:{if(q=b?ws(b):window,ee=q.nodeName&&q.nodeName.toLowerCase(),ee==="select"||ee==="input"&&q.type==="file")var ae=n_;else if(Sf(q))if(Rf)ae=o_;else{ae=i_;var he=r_}else(ee=q.nodeName)&&ee.toLowerCase()==="input"&&(q.type==="checkbox"||q.type==="radio")&&(ae=s_);if(ae&&(ae=ae(t,b))){Af(W,ae,o,H);break e}he&&he(t,q,b),t==="focusout"&&(he=q._wrapperState)&&he.controlled&&q.type==="number"&&Hi(q,"number",q.value)}switch(he=b?ws(b):window,t){case"focusin":(Sf(he)||he.contentEditable==="true")&&(gs=he,Vu=b,Po=null);break;case"focusout":Po=Vu=gs=null;break;case"mousedown":Du=!0;break;case"contextmenu":case"mouseup":case"dragend":Du=!1,Lf(W,o,H);break;case"selectionchange":if(u_)break;case"keydown":case"keyup":Lf(W,o,H)}var fe;if(rt)e:{switch(t){case"compositionstart":var de="onCompositionStart";break e;case"compositionend":de="onCompositionEnd";break e;case"compositionupdate":de="onCompositionUpdate";break e}de=void 0}else ms?Tf(t,o)&&(de="onCompositionEnd"):t==="keydown"&&o.keyCode===229&&(de="onCompositionStart");de&&(_i&&o.locale!=="ko"&&(ms||de!=="onCompositionStart"?de==="onCompositionEnd"&&ms&&(fe=Eo()):(Zt=H,os="value"in Zt?Zt.value:Zt.textContent,ms=!0)),he=$a(b,de),0<he.length&&(de=new So(de,t,null,o,H),W.push({event:de,listeners:he}),fe?de.data=fe:(fe=If(o),fe!==null&&(de.data=fe)))),(fe=en?Jy(t,o):Zy(t,o))&&(b=$a(b,"onBeforeInput"),0<b.length&&(H=new So("onBeforeInput","beforeinput",null,o,H),W.push({event:H,listeners:b}),H.data=fe))}$f(W,r)})}function No(t,r,o){return{instance:t,listener:r,currentTarget:o}}function $a(t,r){for(var o=r+"Capture",u=[];t!==null;){var h=t,p=h.stateNode;h.tag===5&&p!==null&&(h=p,p=et(t,o),p!=null&&u.unshift(No(t,p,h)),p=et(t,r),p!=null&&u.push(No(t,p,h))),t=t.return}return u}function _s(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function Hf(t,r,o,u,h){for(var p=r._reactName,_=[];o!==null&&o!==u;){var T=o,R=T.alternate,b=T.stateNode;if(R!==null&&R===u)break;T.tag===5&&b!==null&&(T=b,h?(R=et(o,p),R!=null&&_.unshift(No(o,R,T))):h||(R=et(o,p),R!=null&&_.push(No(o,R,T)))),o=o.return}_.length!==0&&t.push({event:r,listeners:_})}var d_=/\r\n?/g,p_=/\u0000|\uFFFD/g;function Wf(t){return(typeof t=="string"?t:""+t).replace(d_,`
`).replace(p_,"")}function qa(t,r,o){if(r=Wf(r),Wf(t)!==r&&o)throw Error(n(425))}function Ha(){}var Uu=null,ju=null;function zu(t,r){return t==="textarea"||t==="noscript"||typeof r.children=="string"||typeof r.children=="number"||typeof r.dangerouslySetInnerHTML=="object"&&r.dangerouslySetInnerHTML!==null&&r.dangerouslySetInnerHTML.__html!=null}var Bu=typeof setTimeout=="function"?setTimeout:void 0,m_=typeof clearTimeout=="function"?clearTimeout:void 0,Qf=typeof Promise=="function"?Promise:void 0,g_=typeof queueMicrotask=="function"?queueMicrotask:typeof Qf<"u"?function(t){return Qf.resolve(null).then(t).catch(y_)}:Bu;function y_(t){setTimeout(function(){throw t})}function $u(t,r){var o=r,u=0;do{var h=o.nextSibling;if(t.removeChild(o),h&&h.nodeType===8)if(o=h.data,o==="/$"){if(u===0){t.removeChild(h),An(r);return}u--}else o!=="$"&&o!=="$?"&&o!=="$!"||u++;o=h}while(o);An(r)}function Nr(t){for(;t!=null;t=t.nextSibling){var r=t.nodeType;if(r===1||r===3)break;if(r===8){if(r=t.data,r==="$"||r==="$!"||r==="$?")break;if(r==="/$")return null}}return t}function Kf(t){t=t.previousSibling;for(var r=0;t;){if(t.nodeType===8){var o=t.data;if(o==="$"||o==="$!"||o==="$?"){if(r===0)return t;r--}else o==="/$"&&r++}t=t.previousSibling}return null}var vs=Math.random().toString(36).slice(2),Bn="__reactFiber$"+vs,Vo="__reactProps$"+vs,or="__reactContainer$"+vs,qu="__reactEvents$"+vs,__="__reactListeners$"+vs,v_="__reactHandles$"+vs;function vi(t){var r=t[Bn];if(r)return r;for(var o=t.parentNode;o;){if(r=o[or]||o[Bn]){if(o=r.alternate,r.child!==null||o!==null&&o.child!==null)for(t=Kf(t);t!==null;){if(o=t[Bn])return o;t=Kf(t)}return r}t=o,o=t.parentNode}return null}function Do(t){return t=t[Bn]||t[or],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function ws(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(n(33))}function Wa(t){return t[Vo]||null}var Hu=[],Es=-1;function Vr(t){return{current:t}}function qe(t){0>Es||(t.current=Hu[Es],Hu[Es]=null,Es--)}function Be(t,r){Es++,Hu[Es]=t.current,t.current=r}var Dr={},xt=Vr(Dr),$t=Vr(!1),wi=Dr;function Ts(t,r){var o=t.type.contextTypes;if(!o)return Dr;var u=t.stateNode;if(u&&u.__reactInternalMemoizedUnmaskedChildContext===r)return u.__reactInternalMemoizedMaskedChildContext;var h={},p;for(p in o)h[p]=r[p];return u&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=r,t.__reactInternalMemoizedMaskedChildContext=h),h}function qt(t){return t=t.childContextTypes,t!=null}function Qa(){qe($t),qe(xt)}function Gf(t,r,o){if(xt.current!==Dr)throw Error(n(168));Be(xt,r),Be($t,o)}function Yf(t,r,o){var u=t.stateNode;if(r=r.childContextTypes,typeof u.getChildContext!="function")return o;u=u.getChildContext();for(var h in u)if(!(h in r))throw Error(n(108,Le(t)||"Unknown",h));return te({},o,u)}function Ka(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||Dr,wi=xt.current,Be(xt,t),Be($t,$t.current),!0}function Xf(t,r,o){var u=t.stateNode;if(!u)throw Error(n(169));o?(t=Yf(t,r,wi),u.__reactInternalMemoizedMergedChildContext=t,qe($t),qe(xt),Be(xt,t)):qe($t),Be($t,o)}var ar=null,Ga=!1,Wu=!1;function Jf(t){ar===null?ar=[t]:ar.push(t)}function w_(t){Ga=!0,Jf(t)}function Lr(){if(!Wu&&ar!==null){Wu=!0;var t=0,r=Ae;try{var o=ar;for(Ae=1;t<o.length;t++){var u=o[t];do u=u(!0);while(u!==null)}ar=null,Ga=!1}catch(h){throw ar!==null&&(ar=ar.slice(t+1)),ts(hi,Lr),h}finally{Ae=r,Wu=!1}}return null}var Is=[],Ss=0,Ya=null,Xa=0,cn=[],hn=0,Ei=null,lr=1,ur="";function Ti(t,r){Is[Ss++]=Xa,Is[Ss++]=Ya,Ya=t,Xa=r}function Zf(t,r,o){cn[hn++]=lr,cn[hn++]=ur,cn[hn++]=Ei,Ei=t;var u=lr;t=ur;var h=32-Ft(u)-1;u&=~(1<<h),o+=1;var p=32-Ft(r)+h;if(30<p){var _=h-h%5;p=(u&(1<<_)-1).toString(32),u>>=_,h-=_,lr=1<<32-Ft(r)+h|o<<h|u,ur=p+t}else lr=1<<p|o<<h|u,ur=t}function Qu(t){t.return!==null&&(Ti(t,1),Zf(t,1,0))}function Ku(t){for(;t===Ya;)Ya=Is[--Ss],Is[Ss]=null,Xa=Is[--Ss],Is[Ss]=null;for(;t===Ei;)Ei=cn[--hn],cn[hn]=null,ur=cn[--hn],cn[hn]=null,lr=cn[--hn],cn[hn]=null}var tn=null,nn=null,Qe=!1,Pn=null;function ed(t,r){var o=mn(5,null,null,0);o.elementType="DELETED",o.stateNode=r,o.return=t,r=t.deletions,r===null?(t.deletions=[o],t.flags|=16):r.push(o)}function td(t,r){switch(t.tag){case 5:var o=t.type;return r=r.nodeType!==1||o.toLowerCase()!==r.nodeName.toLowerCase()?null:r,r!==null?(t.stateNode=r,tn=t,nn=Nr(r.firstChild),!0):!1;case 6:return r=t.pendingProps===""||r.nodeType!==3?null:r,r!==null?(t.stateNode=r,tn=t,nn=null,!0):!1;case 13:return r=r.nodeType!==8?null:r,r!==null?(o=Ei!==null?{id:lr,overflow:ur}:null,t.memoizedState={dehydrated:r,treeContext:o,retryLane:1073741824},o=mn(18,null,null,0),o.stateNode=r,o.return=t,t.child=o,tn=t,nn=null,!0):!1;default:return!1}}function Gu(t){return(t.mode&1)!==0&&(t.flags&128)===0}function Yu(t){if(Qe){var r=nn;if(r){var o=r;if(!td(t,r)){if(Gu(t))throw Error(n(418));r=Nr(o.nextSibling);var u=tn;r&&td(t,r)?ed(u,o):(t.flags=t.flags&-4097|2,Qe=!1,tn=t)}}else{if(Gu(t))throw Error(n(418));t.flags=t.flags&-4097|2,Qe=!1,tn=t}}}function nd(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;tn=t}function Ja(t){if(t!==tn)return!1;if(!Qe)return nd(t),Qe=!0,!1;var r;if((r=t.tag!==3)&&!(r=t.tag!==5)&&(r=t.type,r=r!=="head"&&r!=="body"&&!zu(t.type,t.memoizedProps)),r&&(r=nn)){if(Gu(t))throw rd(),Error(n(418));for(;r;)ed(t,r),r=Nr(r.nextSibling)}if(nd(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(n(317));e:{for(t=t.nextSibling,r=0;t;){if(t.nodeType===8){var o=t.data;if(o==="/$"){if(r===0){nn=Nr(t.nextSibling);break e}r--}else o!=="$"&&o!=="$!"&&o!=="$?"||r++}t=t.nextSibling}nn=null}}else nn=tn?Nr(t.stateNode.nextSibling):null;return!0}function rd(){for(var t=nn;t;)t=Nr(t.nextSibling)}function As(){nn=tn=null,Qe=!1}function Xu(t){Pn===null?Pn=[t]:Pn.push(t)}var E_=Se.ReactCurrentBatchConfig;function Lo(t,r,o){if(t=o.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(o._owner){if(o=o._owner,o){if(o.tag!==1)throw Error(n(309));var u=o.stateNode}if(!u)throw Error(n(147,t));var h=u,p=""+t;return r!==null&&r.ref!==null&&typeof r.ref=="function"&&r.ref._stringRef===p?r.ref:(r=function(_){var T=h.refs;_===null?delete T[p]:T[p]=_},r._stringRef=p,r)}if(typeof t!="string")throw Error(n(284));if(!o._owner)throw Error(n(290,t))}return t}function Za(t,r){throw t=Object.prototype.toString.call(r),Error(n(31,t==="[object Object]"?"object with keys {"+Object.keys(r).join(", ")+"}":t))}function id(t){var r=t._init;return r(t._payload)}function sd(t){function r(M,C){if(t){var F=M.deletions;F===null?(M.deletions=[C],M.flags|=16):F.push(C)}}function o(M,C){if(!t)return null;for(;C!==null;)r(M,C),C=C.sibling;return null}function u(M,C){for(M=new Map;C!==null;)C.key!==null?M.set(C.key,C):M.set(C.index,C),C=C.sibling;return M}function h(M,C){return M=Br(M,C),M.index=0,M.sibling=null,M}function p(M,C,F){return M.index=F,t?(F=M.alternate,F!==null?(F=F.index,F<C?(M.flags|=2,C):F):(M.flags|=2,C)):(M.flags|=1048576,C)}function _(M){return t&&M.alternate===null&&(M.flags|=2),M}function T(M,C,F,K){return C===null||C.tag!==6?(C=Bc(F,M.mode,K),C.return=M,C):(C=h(C,F),C.return=M,C)}function R(M,C,F,K){var ae=F.type;return ae===x?H(M,C,F.props.children,K,F.key):C!==null&&(C.elementType===ae||typeof ae=="object"&&ae!==null&&ae.$$typeof===kt&&id(ae)===C.type)?(K=h(C,F.props),K.ref=Lo(M,C,F),K.return=M,K):(K=Il(F.type,F.key,F.props,null,M.mode,K),K.ref=Lo(M,C,F),K.return=M,K)}function b(M,C,F,K){return C===null||C.tag!==4||C.stateNode.containerInfo!==F.containerInfo||C.stateNode.implementation!==F.implementation?(C=$c(F,M.mode,K),C.return=M,C):(C=h(C,F.children||[]),C.return=M,C)}function H(M,C,F,K,ae){return C===null||C.tag!==7?(C=xi(F,M.mode,K,ae),C.return=M,C):(C=h(C,F),C.return=M,C)}function W(M,C,F){if(typeof C=="string"&&C!==""||typeof C=="number")return C=Bc(""+C,M.mode,F),C.return=M,C;if(typeof C=="object"&&C!==null){switch(C.$$typeof){case Je:return F=Il(C.type,C.key,C.props,null,M.mode,F),F.ref=Lo(M,null,C),F.return=M,F;case Ne:return C=$c(C,M.mode,F),C.return=M,C;case kt:var K=C._init;return W(M,K(C._payload),F)}if(Xn(C)||ce(C))return C=xi(C,M.mode,F,null),C.return=M,C;Za(M,C)}return null}function q(M,C,F,K){var ae=C!==null?C.key:null;if(typeof F=="string"&&F!==""||typeof F=="number")return ae!==null?null:T(M,C,""+F,K);if(typeof F=="object"&&F!==null){switch(F.$$typeof){case Je:return F.key===ae?R(M,C,F,K):null;case Ne:return F.key===ae?b(M,C,F,K):null;case kt:return ae=F._init,q(M,C,ae(F._payload),K)}if(Xn(F)||ce(F))return ae!==null?null:H(M,C,F,K,null);Za(M,F)}return null}function ee(M,C,F,K,ae){if(typeof K=="string"&&K!==""||typeof K=="number")return M=M.get(F)||null,T(C,M,""+K,ae);if(typeof K=="object"&&K!==null){switch(K.$$typeof){case Je:return M=M.get(K.key===null?F:K.key)||null,R(C,M,K,ae);case Ne:return M=M.get(K.key===null?F:K.key)||null,b(C,M,K,ae);case kt:var he=K._init;return ee(M,C,F,he(K._payload),ae)}if(Xn(K)||ce(K))return M=M.get(F)||null,H(C,M,K,ae,null);Za(C,K)}return null}function ie(M,C,F,K){for(var ae=null,he=null,fe=C,de=C=0,yt=null;fe!==null&&de<F.length;de++){fe.index>de?(yt=fe,fe=null):yt=fe.sibling;var De=q(M,fe,F[de],K);if(De===null){fe===null&&(fe=yt);break}t&&fe&&De.alternate===null&&r(M,fe),C=p(De,C,de),he===null?ae=De:he.sibling=De,he=De,fe=yt}if(de===F.length)return o(M,fe),Qe&&Ti(M,de),ae;if(fe===null){for(;de<F.length;de++)fe=W(M,F[de],K),fe!==null&&(C=p(fe,C,de),he===null?ae=fe:he.sibling=fe,he=fe);return Qe&&Ti(M,de),ae}for(fe=u(M,fe);de<F.length;de++)yt=ee(fe,M,de,F[de],K),yt!==null&&(t&&yt.alternate!==null&&fe.delete(yt.key===null?de:yt.key),C=p(yt,C,de),he===null?ae=yt:he.sibling=yt,he=yt);return t&&fe.forEach(function($r){return r(M,$r)}),Qe&&Ti(M,de),ae}function oe(M,C,F,K){var ae=ce(F);if(typeof ae!="function")throw Error(n(150));if(F=ae.call(F),F==null)throw Error(n(151));for(var he=ae=null,fe=C,de=C=0,yt=null,De=F.next();fe!==null&&!De.done;de++,De=F.next()){fe.index>de?(yt=fe,fe=null):yt=fe.sibling;var $r=q(M,fe,De.value,K);if($r===null){fe===null&&(fe=yt);break}t&&fe&&$r.alternate===null&&r(M,fe),C=p($r,C,de),he===null?ae=$r:he.sibling=$r,he=$r,fe=yt}if(De.done)return o(M,fe),Qe&&Ti(M,de),ae;if(fe===null){for(;!De.done;de++,De=F.next())De=W(M,De.value,K),De!==null&&(C=p(De,C,de),he===null?ae=De:he.sibling=De,he=De);return Qe&&Ti(M,de),ae}for(fe=u(M,fe);!De.done;de++,De=F.next())De=ee(fe,M,de,De.value,K),De!==null&&(t&&De.alternate!==null&&fe.delete(De.key===null?de:De.key),C=p(De,C,de),he===null?ae=De:he.sibling=De,he=De);return t&&fe.forEach(function(ev){return r(M,ev)}),Qe&&Ti(M,de),ae}function tt(M,C,F,K){if(typeof F=="object"&&F!==null&&F.type===x&&F.key===null&&(F=F.props.children),typeof F=="object"&&F!==null){switch(F.$$typeof){case Je:e:{for(var ae=F.key,he=C;he!==null;){if(he.key===ae){if(ae=F.type,ae===x){if(he.tag===7){o(M,he.sibling),C=h(he,F.props.children),C.return=M,M=C;break e}}else if(he.elementType===ae||typeof ae=="object"&&ae!==null&&ae.$$typeof===kt&&id(ae)===he.type){o(M,he.sibling),C=h(he,F.props),C.ref=Lo(M,he,F),C.return=M,M=C;break e}o(M,he);break}else r(M,he);he=he.sibling}F.type===x?(C=xi(F.props.children,M.mode,K,F.key),C.return=M,M=C):(K=Il(F.type,F.key,F.props,null,M.mode,K),K.ref=Lo(M,C,F),K.return=M,M=K)}return _(M);case Ne:e:{for(he=F.key;C!==null;){if(C.key===he)if(C.tag===4&&C.stateNode.containerInfo===F.containerInfo&&C.stateNode.implementation===F.implementation){o(M,C.sibling),C=h(C,F.children||[]),C.return=M,M=C;break e}else{o(M,C);break}else r(M,C);C=C.sibling}C=$c(F,M.mode,K),C.return=M,M=C}return _(M);case kt:return he=F._init,tt(M,C,he(F._payload),K)}if(Xn(F))return ie(M,C,F,K);if(ce(F))return oe(M,C,F,K);Za(M,F)}return typeof F=="string"&&F!==""||typeof F=="number"?(F=""+F,C!==null&&C.tag===6?(o(M,C.sibling),C=h(C,F),C.return=M,M=C):(o(M,C),C=Bc(F,M.mode,K),C.return=M,M=C),_(M)):o(M,C)}return tt}var Rs=sd(!0),od=sd(!1),el=Vr(null),tl=null,Cs=null,Ju=null;function Zu(){Ju=Cs=tl=null}function ec(t){var r=el.current;qe(el),t._currentValue=r}function tc(t,r,o){for(;t!==null;){var u=t.alternate;if((t.childLanes&r)!==r?(t.childLanes|=r,u!==null&&(u.childLanes|=r)):u!==null&&(u.childLanes&r)!==r&&(u.childLanes|=r),t===o)break;t=t.return}}function Ps(t,r){tl=t,Ju=Cs=null,t=t.dependencies,t!==null&&t.firstContext!==null&&((t.lanes&r)!==0&&(Ht=!0),t.firstContext=null)}function fn(t){var r=t._currentValue;if(Ju!==t)if(t={context:t,memoizedValue:r,next:null},Cs===null){if(tl===null)throw Error(n(308));Cs=t,tl.dependencies={lanes:0,firstContext:t}}else Cs=Cs.next=t;return r}var Ii=null;function nc(t){Ii===null?Ii=[t]:Ii.push(t)}function ad(t,r,o,u){var h=r.interleaved;return h===null?(o.next=o,nc(r)):(o.next=h.next,h.next=o),r.interleaved=o,cr(t,u)}function cr(t,r){t.lanes|=r;var o=t.alternate;for(o!==null&&(o.lanes|=r),o=t,t=t.return;t!==null;)t.childLanes|=r,o=t.alternate,o!==null&&(o.childLanes|=r),o=t,t=t.return;return o.tag===3?o.stateNode:null}var Or=!1;function rc(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function ld(t,r){t=t.updateQueue,r.updateQueue===t&&(r.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function hr(t,r){return{eventTime:t,lane:r,tag:0,payload:null,callback:null,next:null}}function Mr(t,r,o){var u=t.updateQueue;if(u===null)return null;if(u=u.shared,(Ve&2)!==0){var h=u.pending;return h===null?r.next=r:(r.next=h.next,h.next=r),u.pending=r,cr(t,o)}return h=u.interleaved,h===null?(r.next=r,nc(u)):(r.next=h.next,h.next=r),u.interleaved=r,cr(t,o)}function nl(t,r,o){if(r=r.updateQueue,r!==null&&(r=r.shared,(o&4194240)!==0)){var u=r.lanes;u&=t.pendingLanes,o|=u,r.lanes=o,Ar(t,o)}}function ud(t,r){var o=t.updateQueue,u=t.alternate;if(u!==null&&(u=u.updateQueue,o===u)){var h=null,p=null;if(o=o.firstBaseUpdate,o!==null){do{var _={eventTime:o.eventTime,lane:o.lane,tag:o.tag,payload:o.payload,callback:o.callback,next:null};p===null?h=p=_:p=p.next=_,o=o.next}while(o!==null);p===null?h=p=r:p=p.next=r}else h=p=r;o={baseState:u.baseState,firstBaseUpdate:h,lastBaseUpdate:p,shared:u.shared,effects:u.effects},t.updateQueue=o;return}t=o.lastBaseUpdate,t===null?o.firstBaseUpdate=r:t.next=r,o.lastBaseUpdate=r}function rl(t,r,o,u){var h=t.updateQueue;Or=!1;var p=h.firstBaseUpdate,_=h.lastBaseUpdate,T=h.shared.pending;if(T!==null){h.shared.pending=null;var R=T,b=R.next;R.next=null,_===null?p=b:_.next=b,_=R;var H=t.alternate;H!==null&&(H=H.updateQueue,T=H.lastBaseUpdate,T!==_&&(T===null?H.firstBaseUpdate=b:T.next=b,H.lastBaseUpdate=R))}if(p!==null){var W=h.baseState;_=0,H=b=R=null,T=p;do{var q=T.lane,ee=T.eventTime;if((u&q)===q){H!==null&&(H=H.next={eventTime:ee,lane:0,tag:T.tag,payload:T.payload,callback:T.callback,next:null});e:{var ie=t,oe=T;switch(q=r,ee=o,oe.tag){case 1:if(ie=oe.payload,typeof ie=="function"){W=ie.call(ee,W,q);break e}W=ie;break e;case 3:ie.flags=ie.flags&-65537|128;case 0:if(ie=oe.payload,q=typeof ie=="function"?ie.call(ee,W,q):ie,q==null)break e;W=te({},W,q);break e;case 2:Or=!0}}T.callback!==null&&T.lane!==0&&(t.flags|=64,q=h.effects,q===null?h.effects=[T]:q.push(T))}else ee={eventTime:ee,lane:q,tag:T.tag,payload:T.payload,callback:T.callback,next:null},H===null?(b=H=ee,R=W):H=H.next=ee,_|=q;if(T=T.next,T===null){if(T=h.shared.pending,T===null)break;q=T,T=q.next,q.next=null,h.lastBaseUpdate=q,h.shared.pending=null}}while(!0);if(H===null&&(R=W),h.baseState=R,h.firstBaseUpdate=b,h.lastBaseUpdate=H,r=h.shared.interleaved,r!==null){h=r;do _|=h.lane,h=h.next;while(h!==r)}else p===null&&(h.shared.lanes=0);Ri|=_,t.lanes=_,t.memoizedState=W}}function cd(t,r,o){if(t=r.effects,r.effects=null,t!==null)for(r=0;r<t.length;r++){var u=t[r],h=u.callback;if(h!==null){if(u.callback=null,u=o,typeof h!="function")throw Error(n(191,h));h.call(u)}}}var Oo={},$n=Vr(Oo),Mo=Vr(Oo),Fo=Vr(Oo);function Si(t){if(t===Oo)throw Error(n(174));return t}function ic(t,r){switch(Be(Fo,r),Be(Mo,t),Be($n,Oo),t=r.nodeType,t){case 9:case 11:r=(r=r.documentElement)?r.namespaceURI:lt(null,"");break;default:t=t===8?r.parentNode:r,r=t.namespaceURI||null,t=t.tagName,r=lt(r,t)}qe($n),Be($n,r)}function ks(){qe($n),qe(Mo),qe(Fo)}function hd(t){Si(Fo.current);var r=Si($n.current),o=lt(r,t.type);r!==o&&(Be(Mo,t),Be($n,o))}function sc(t){Mo.current===t&&(qe($n),qe(Mo))}var Ke=Vr(0);function il(t){for(var r=t;r!==null;){if(r.tag===13){var o=r.memoizedState;if(o!==null&&(o=o.dehydrated,o===null||o.data==="$?"||o.data==="$!"))return r}else if(r.tag===19&&r.memoizedProps.revealOrder!==void 0){if((r.flags&128)!==0)return r}else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return null;r=r.return}r.sibling.return=r.return,r=r.sibling}return null}var oc=[];function ac(){for(var t=0;t<oc.length;t++)oc[t]._workInProgressVersionPrimary=null;oc.length=0}var sl=Se.ReactCurrentDispatcher,lc=Se.ReactCurrentBatchConfig,Ai=0,Ge=null,ct=null,mt=null,ol=!1,bo=!1,Uo=0,T_=0;function Nt(){throw Error(n(321))}function uc(t,r){if(r===null)return!1;for(var o=0;o<r.length&&o<t.length;o++)if(!Cn(t[o],r[o]))return!1;return!0}function cc(t,r,o,u,h,p){if(Ai=p,Ge=r,r.memoizedState=null,r.updateQueue=null,r.lanes=0,sl.current=t===null||t.memoizedState===null?R_:C_,t=o(u,h),bo){p=0;do{if(bo=!1,Uo=0,25<=p)throw Error(n(301));p+=1,mt=ct=null,r.updateQueue=null,sl.current=P_,t=o(u,h)}while(bo)}if(sl.current=ul,r=ct!==null&&ct.next!==null,Ai=0,mt=ct=Ge=null,ol=!1,r)throw Error(n(300));return t}function hc(){var t=Uo!==0;return Uo=0,t}function qn(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return mt===null?Ge.memoizedState=mt=t:mt=mt.next=t,mt}function dn(){if(ct===null){var t=Ge.alternate;t=t!==null?t.memoizedState:null}else t=ct.next;var r=mt===null?Ge.memoizedState:mt.next;if(r!==null)mt=r,ct=t;else{if(t===null)throw Error(n(310));ct=t,t={memoizedState:ct.memoizedState,baseState:ct.baseState,baseQueue:ct.baseQueue,queue:ct.queue,next:null},mt===null?Ge.memoizedState=mt=t:mt=mt.next=t}return mt}function jo(t,r){return typeof r=="function"?r(t):r}function fc(t){var r=dn(),o=r.queue;if(o===null)throw Error(n(311));o.lastRenderedReducer=t;var u=ct,h=u.baseQueue,p=o.pending;if(p!==null){if(h!==null){var _=h.next;h.next=p.next,p.next=_}u.baseQueue=h=p,o.pending=null}if(h!==null){p=h.next,u=u.baseState;var T=_=null,R=null,b=p;do{var H=b.lane;if((Ai&H)===H)R!==null&&(R=R.next={lane:0,action:b.action,hasEagerState:b.hasEagerState,eagerState:b.eagerState,next:null}),u=b.hasEagerState?b.eagerState:t(u,b.action);else{var W={lane:H,action:b.action,hasEagerState:b.hasEagerState,eagerState:b.eagerState,next:null};R===null?(T=R=W,_=u):R=R.next=W,Ge.lanes|=H,Ri|=H}b=b.next}while(b!==null&&b!==p);R===null?_=u:R.next=T,Cn(u,r.memoizedState)||(Ht=!0),r.memoizedState=u,r.baseState=_,r.baseQueue=R,o.lastRenderedState=u}if(t=o.interleaved,t!==null){h=t;do p=h.lane,Ge.lanes|=p,Ri|=p,h=h.next;while(h!==t)}else h===null&&(o.lanes=0);return[r.memoizedState,o.dispatch]}function dc(t){var r=dn(),o=r.queue;if(o===null)throw Error(n(311));o.lastRenderedReducer=t;var u=o.dispatch,h=o.pending,p=r.memoizedState;if(h!==null){o.pending=null;var _=h=h.next;do p=t(p,_.action),_=_.next;while(_!==h);Cn(p,r.memoizedState)||(Ht=!0),r.memoizedState=p,r.baseQueue===null&&(r.baseState=p),o.lastRenderedState=p}return[p,u]}function fd(){}function dd(t,r){var o=Ge,u=dn(),h=r(),p=!Cn(u.memoizedState,h);if(p&&(u.memoizedState=h,Ht=!0),u=u.queue,pc(gd.bind(null,o,u,t),[t]),u.getSnapshot!==r||p||mt!==null&&mt.memoizedState.tag&1){if(o.flags|=2048,zo(9,md.bind(null,o,u,h,r),void 0,null),gt===null)throw Error(n(349));(Ai&30)!==0||pd(o,r,h)}return h}function pd(t,r,o){t.flags|=16384,t={getSnapshot:r,value:o},r=Ge.updateQueue,r===null?(r={lastEffect:null,stores:null},Ge.updateQueue=r,r.stores=[t]):(o=r.stores,o===null?r.stores=[t]:o.push(t))}function md(t,r,o,u){r.value=o,r.getSnapshot=u,yd(r)&&_d(t)}function gd(t,r,o){return o(function(){yd(r)&&_d(t)})}function yd(t){var r=t.getSnapshot;t=t.value;try{var o=r();return!Cn(t,o)}catch{return!0}}function _d(t){var r=cr(t,1);r!==null&&Vn(r,t,1,-1)}function vd(t){var r=qn();return typeof t=="function"&&(t=t()),r.memoizedState=r.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:jo,lastRenderedState:t},r.queue=t,t=t.dispatch=A_.bind(null,Ge,t),[r.memoizedState,t]}function zo(t,r,o,u){return t={tag:t,create:r,destroy:o,deps:u,next:null},r=Ge.updateQueue,r===null?(r={lastEffect:null,stores:null},Ge.updateQueue=r,r.lastEffect=t.next=t):(o=r.lastEffect,o===null?r.lastEffect=t.next=t:(u=o.next,o.next=t,t.next=u,r.lastEffect=t)),t}function wd(){return dn().memoizedState}function al(t,r,o,u){var h=qn();Ge.flags|=t,h.memoizedState=zo(1|r,o,void 0,u===void 0?null:u)}function ll(t,r,o,u){var h=dn();u=u===void 0?null:u;var p=void 0;if(ct!==null){var _=ct.memoizedState;if(p=_.destroy,u!==null&&uc(u,_.deps)){h.memoizedState=zo(r,o,p,u);return}}Ge.flags|=t,h.memoizedState=zo(1|r,o,p,u)}function Ed(t,r){return al(8390656,8,t,r)}function pc(t,r){return ll(2048,8,t,r)}function Td(t,r){return ll(4,2,t,r)}function Id(t,r){return ll(4,4,t,r)}function Sd(t,r){if(typeof r=="function")return t=t(),r(t),function(){r(null)};if(r!=null)return t=t(),r.current=t,function(){r.current=null}}function Ad(t,r,o){return o=o!=null?o.concat([t]):null,ll(4,4,Sd.bind(null,r,t),o)}function mc(){}function Rd(t,r){var o=dn();r=r===void 0?null:r;var u=o.memoizedState;return u!==null&&r!==null&&uc(r,u[1])?u[0]:(o.memoizedState=[t,r],t)}function Cd(t,r){var o=dn();r=r===void 0?null:r;var u=o.memoizedState;return u!==null&&r!==null&&uc(r,u[1])?u[0]:(t=t(),o.memoizedState=[t,r],t)}function Pd(t,r,o){return(Ai&21)===0?(t.baseState&&(t.baseState=!1,Ht=!0),t.memoizedState=o):(Cn(o,r)||(o=pi(),Ge.lanes|=o,Ri|=o,t.baseState=!0),r)}function I_(t,r){var o=Ae;Ae=o!==0&&4>o?o:4,t(!0);var u=lc.transition;lc.transition={};try{t(!1),r()}finally{Ae=o,lc.transition=u}}function kd(){return dn().memoizedState}function S_(t,r,o){var u=jr(t);if(o={lane:u,action:o,hasEagerState:!1,eagerState:null,next:null},xd(t))Nd(r,o);else if(o=ad(t,r,o,u),o!==null){var h=jt();Vn(o,t,u,h),Vd(o,r,u)}}function A_(t,r,o){var u=jr(t),h={lane:u,action:o,hasEagerState:!1,eagerState:null,next:null};if(xd(t))Nd(r,h);else{var p=t.alternate;if(t.lanes===0&&(p===null||p.lanes===0)&&(p=r.lastRenderedReducer,p!==null))try{var _=r.lastRenderedState,T=p(_,o);if(h.hasEagerState=!0,h.eagerState=T,Cn(T,_)){var R=r.interleaved;R===null?(h.next=h,nc(r)):(h.next=R.next,R.next=h),r.interleaved=h;return}}catch{}finally{}o=ad(t,r,h,u),o!==null&&(h=jt(),Vn(o,t,u,h),Vd(o,r,u))}}function xd(t){var r=t.alternate;return t===Ge||r!==null&&r===Ge}function Nd(t,r){bo=ol=!0;var o=t.pending;o===null?r.next=r:(r.next=o.next,o.next=r),t.pending=r}function Vd(t,r,o){if((o&4194240)!==0){var u=r.lanes;u&=t.pendingLanes,o|=u,r.lanes=o,Ar(t,o)}}var ul={readContext:fn,useCallback:Nt,useContext:Nt,useEffect:Nt,useImperativeHandle:Nt,useInsertionEffect:Nt,useLayoutEffect:Nt,useMemo:Nt,useReducer:Nt,useRef:Nt,useState:Nt,useDebugValue:Nt,useDeferredValue:Nt,useTransition:Nt,useMutableSource:Nt,useSyncExternalStore:Nt,useId:Nt,unstable_isNewReconciler:!1},R_={readContext:fn,useCallback:function(t,r){return qn().memoizedState=[t,r===void 0?null:r],t},useContext:fn,useEffect:Ed,useImperativeHandle:function(t,r,o){return o=o!=null?o.concat([t]):null,al(4194308,4,Sd.bind(null,r,t),o)},useLayoutEffect:function(t,r){return al(4194308,4,t,r)},useInsertionEffect:function(t,r){return al(4,2,t,r)},useMemo:function(t,r){var o=qn();return r=r===void 0?null:r,t=t(),o.memoizedState=[t,r],t},useReducer:function(t,r,o){var u=qn();return r=o!==void 0?o(r):r,u.memoizedState=u.baseState=r,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:r},u.queue=t,t=t.dispatch=S_.bind(null,Ge,t),[u.memoizedState,t]},useRef:function(t){var r=qn();return t={current:t},r.memoizedState=t},useState:vd,useDebugValue:mc,useDeferredValue:function(t){return qn().memoizedState=t},useTransition:function(){var t=vd(!1),r=t[0];return t=I_.bind(null,t[1]),qn().memoizedState=t,[r,t]},useMutableSource:function(){},useSyncExternalStore:function(t,r,o){var u=Ge,h=qn();if(Qe){if(o===void 0)throw Error(n(407));o=o()}else{if(o=r(),gt===null)throw Error(n(349));(Ai&30)!==0||pd(u,r,o)}h.memoizedState=o;var p={value:o,getSnapshot:r};return h.queue=p,Ed(gd.bind(null,u,p,t),[t]),u.flags|=2048,zo(9,md.bind(null,u,p,o,r),void 0,null),o},useId:function(){var t=qn(),r=gt.identifierPrefix;if(Qe){var o=ur,u=lr;o=(u&~(1<<32-Ft(u)-1)).toString(32)+o,r=":"+r+"R"+o,o=Uo++,0<o&&(r+="H"+o.toString(32)),r+=":"}else o=T_++,r=":"+r+"r"+o.toString(32)+":";return t.memoizedState=r},unstable_isNewReconciler:!1},C_={readContext:fn,useCallback:Rd,useContext:fn,useEffect:pc,useImperativeHandle:Ad,useInsertionEffect:Td,useLayoutEffect:Id,useMemo:Cd,useReducer:fc,useRef:wd,useState:function(){return fc(jo)},useDebugValue:mc,useDeferredValue:function(t){var r=dn();return Pd(r,ct.memoizedState,t)},useTransition:function(){var t=fc(jo)[0],r=dn().memoizedState;return[t,r]},useMutableSource:fd,useSyncExternalStore:dd,useId:kd,unstable_isNewReconciler:!1},P_={readContext:fn,useCallback:Rd,useContext:fn,useEffect:pc,useImperativeHandle:Ad,useInsertionEffect:Td,useLayoutEffect:Id,useMemo:Cd,useReducer:dc,useRef:wd,useState:function(){return dc(jo)},useDebugValue:mc,useDeferredValue:function(t){var r=dn();return ct===null?r.memoizedState=t:Pd(r,ct.memoizedState,t)},useTransition:function(){var t=dc(jo)[0],r=dn().memoizedState;return[t,r]},useMutableSource:fd,useSyncExternalStore:dd,useId:kd,unstable_isNewReconciler:!1};function kn(t,r){if(t&&t.defaultProps){r=te({},r),t=t.defaultProps;for(var o in t)r[o]===void 0&&(r[o]=t[o]);return r}return r}function gc(t,r,o,u){r=t.memoizedState,o=o(u,r),o=o==null?r:te({},r,o),t.memoizedState=o,t.lanes===0&&(t.updateQueue.baseState=o)}var cl={isMounted:function(t){return(t=t._reactInternals)?wn(t)===t:!1},enqueueSetState:function(t,r,o){t=t._reactInternals;var u=jt(),h=jr(t),p=hr(u,h);p.payload=r,o!=null&&(p.callback=o),r=Mr(t,p,h),r!==null&&(Vn(r,t,h,u),nl(r,t,h))},enqueueReplaceState:function(t,r,o){t=t._reactInternals;var u=jt(),h=jr(t),p=hr(u,h);p.tag=1,p.payload=r,o!=null&&(p.callback=o),r=Mr(t,p,h),r!==null&&(Vn(r,t,h,u),nl(r,t,h))},enqueueForceUpdate:function(t,r){t=t._reactInternals;var o=jt(),u=jr(t),h=hr(o,u);h.tag=2,r!=null&&(h.callback=r),r=Mr(t,h,u),r!==null&&(Vn(r,t,u,o),nl(r,t,u))}};function Dd(t,r,o,u,h,p,_){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(u,p,_):r.prototype&&r.prototype.isPureReactComponent?!Co(o,u)||!Co(h,p):!0}function Ld(t,r,o){var u=!1,h=Dr,p=r.contextType;return typeof p=="object"&&p!==null?p=fn(p):(h=qt(r)?wi:xt.current,u=r.contextTypes,p=(u=u!=null)?Ts(t,h):Dr),r=new r(o,p),t.memoizedState=r.state!==null&&r.state!==void 0?r.state:null,r.updater=cl,t.stateNode=r,r._reactInternals=t,u&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=h,t.__reactInternalMemoizedMaskedChildContext=p),r}function Od(t,r,o,u){t=r.state,typeof r.componentWillReceiveProps=="function"&&r.componentWillReceiveProps(o,u),typeof r.UNSAFE_componentWillReceiveProps=="function"&&r.UNSAFE_componentWillReceiveProps(o,u),r.state!==t&&cl.enqueueReplaceState(r,r.state,null)}function yc(t,r,o,u){var h=t.stateNode;h.props=o,h.state=t.memoizedState,h.refs={},rc(t);var p=r.contextType;typeof p=="object"&&p!==null?h.context=fn(p):(p=qt(r)?wi:xt.current,h.context=Ts(t,p)),h.state=t.memoizedState,p=r.getDerivedStateFromProps,typeof p=="function"&&(gc(t,r,p,o),h.state=t.memoizedState),typeof r.getDerivedStateFromProps=="function"||typeof h.getSnapshotBeforeUpdate=="function"||typeof h.UNSAFE_componentWillMount!="function"&&typeof h.componentWillMount!="function"||(r=h.state,typeof h.componentWillMount=="function"&&h.componentWillMount(),typeof h.UNSAFE_componentWillMount=="function"&&h.UNSAFE_componentWillMount(),r!==h.state&&cl.enqueueReplaceState(h,h.state,null),rl(t,o,h,u),h.state=t.memoizedState),typeof h.componentDidMount=="function"&&(t.flags|=4194308)}function xs(t,r){try{var o="",u=r;do o+=Ee(u),u=u.return;while(u);var h=o}catch(p){h=`
Error generating stack: `+p.message+`
`+p.stack}return{value:t,source:r,stack:h,digest:null}}function _c(t,r,o){return{value:t,source:null,stack:o??null,digest:r??null}}function vc(t,r){try{console.error(r.value)}catch(o){setTimeout(function(){throw o})}}var k_=typeof WeakMap=="function"?WeakMap:Map;function Md(t,r,o){o=hr(-1,o),o.tag=3,o.payload={element:null};var u=r.value;return o.callback=function(){yl||(yl=!0,Lc=u),vc(t,r)},o}function Fd(t,r,o){o=hr(-1,o),o.tag=3;var u=t.type.getDerivedStateFromError;if(typeof u=="function"){var h=r.value;o.payload=function(){return u(h)},o.callback=function(){vc(t,r)}}var p=t.stateNode;return p!==null&&typeof p.componentDidCatch=="function"&&(o.callback=function(){vc(t,r),typeof u!="function"&&(br===null?br=new Set([this]):br.add(this));var _=r.stack;this.componentDidCatch(r.value,{componentStack:_!==null?_:""})}),o}function bd(t,r,o){var u=t.pingCache;if(u===null){u=t.pingCache=new k_;var h=new Set;u.set(r,h)}else h=u.get(r),h===void 0&&(h=new Set,u.set(r,h));h.has(o)||(h.add(o),t=$_.bind(null,t,r,o),r.then(t,t))}function Ud(t){do{var r;if((r=t.tag===13)&&(r=t.memoizedState,r=r!==null?r.dehydrated!==null:!0),r)return t;t=t.return}while(t!==null);return null}function jd(t,r,o,u,h){return(t.mode&1)===0?(t===r?t.flags|=65536:(t.flags|=128,o.flags|=131072,o.flags&=-52805,o.tag===1&&(o.alternate===null?o.tag=17:(r=hr(-1,1),r.tag=2,Mr(o,r,1))),o.lanes|=1),t):(t.flags|=65536,t.lanes=h,t)}var x_=Se.ReactCurrentOwner,Ht=!1;function Ut(t,r,o,u){r.child=t===null?od(r,null,o,u):Rs(r,t.child,o,u)}function zd(t,r,o,u,h){o=o.render;var p=r.ref;return Ps(r,h),u=cc(t,r,o,u,p,h),o=hc(),t!==null&&!Ht?(r.updateQueue=t.updateQueue,r.flags&=-2053,t.lanes&=~h,fr(t,r,h)):(Qe&&o&&Qu(r),r.flags|=1,Ut(t,r,u,h),r.child)}function Bd(t,r,o,u,h){if(t===null){var p=o.type;return typeof p=="function"&&!zc(p)&&p.defaultProps===void 0&&o.compare===null&&o.defaultProps===void 0?(r.tag=15,r.type=p,$d(t,r,p,u,h)):(t=Il(o.type,null,u,r,r.mode,h),t.ref=r.ref,t.return=r,r.child=t)}if(p=t.child,(t.lanes&h)===0){var _=p.memoizedProps;if(o=o.compare,o=o!==null?o:Co,o(_,u)&&t.ref===r.ref)return fr(t,r,h)}return r.flags|=1,t=Br(p,u),t.ref=r.ref,t.return=r,r.child=t}function $d(t,r,o,u,h){if(t!==null){var p=t.memoizedProps;if(Co(p,u)&&t.ref===r.ref)if(Ht=!1,r.pendingProps=u=p,(t.lanes&h)!==0)(t.flags&131072)!==0&&(Ht=!0);else return r.lanes=t.lanes,fr(t,r,h)}return wc(t,r,o,u,h)}function qd(t,r,o){var u=r.pendingProps,h=u.children,p=t!==null?t.memoizedState:null;if(u.mode==="hidden")if((r.mode&1)===0)r.memoizedState={baseLanes:0,cachePool:null,transitions:null},Be(Vs,rn),rn|=o;else{if((o&1073741824)===0)return t=p!==null?p.baseLanes|o:o,r.lanes=r.childLanes=1073741824,r.memoizedState={baseLanes:t,cachePool:null,transitions:null},r.updateQueue=null,Be(Vs,rn),rn|=t,null;r.memoizedState={baseLanes:0,cachePool:null,transitions:null},u=p!==null?p.baseLanes:o,Be(Vs,rn),rn|=u}else p!==null?(u=p.baseLanes|o,r.memoizedState=null):u=o,Be(Vs,rn),rn|=u;return Ut(t,r,h,o),r.child}function Hd(t,r){var o=r.ref;(t===null&&o!==null||t!==null&&t.ref!==o)&&(r.flags|=512,r.flags|=2097152)}function wc(t,r,o,u,h){var p=qt(o)?wi:xt.current;return p=Ts(r,p),Ps(r,h),o=cc(t,r,o,u,p,h),u=hc(),t!==null&&!Ht?(r.updateQueue=t.updateQueue,r.flags&=-2053,t.lanes&=~h,fr(t,r,h)):(Qe&&u&&Qu(r),r.flags|=1,Ut(t,r,o,h),r.child)}function Wd(t,r,o,u,h){if(qt(o)){var p=!0;Ka(r)}else p=!1;if(Ps(r,h),r.stateNode===null)fl(t,r),Ld(r,o,u),yc(r,o,u,h),u=!0;else if(t===null){var _=r.stateNode,T=r.memoizedProps;_.props=T;var R=_.context,b=o.contextType;typeof b=="object"&&b!==null?b=fn(b):(b=qt(o)?wi:xt.current,b=Ts(r,b));var H=o.getDerivedStateFromProps,W=typeof H=="function"||typeof _.getSnapshotBeforeUpdate=="function";W||typeof _.UNSAFE_componentWillReceiveProps!="function"&&typeof _.componentWillReceiveProps!="function"||(T!==u||R!==b)&&Od(r,_,u,b),Or=!1;var q=r.memoizedState;_.state=q,rl(r,u,_,h),R=r.memoizedState,T!==u||q!==R||$t.current||Or?(typeof H=="function"&&(gc(r,o,H,u),R=r.memoizedState),(T=Or||Dd(r,o,T,u,q,R,b))?(W||typeof _.UNSAFE_componentWillMount!="function"&&typeof _.componentWillMount!="function"||(typeof _.componentWillMount=="function"&&_.componentWillMount(),typeof _.UNSAFE_componentWillMount=="function"&&_.UNSAFE_componentWillMount()),typeof _.componentDidMount=="function"&&(r.flags|=4194308)):(typeof _.componentDidMount=="function"&&(r.flags|=4194308),r.memoizedProps=u,r.memoizedState=R),_.props=u,_.state=R,_.context=b,u=T):(typeof _.componentDidMount=="function"&&(r.flags|=4194308),u=!1)}else{_=r.stateNode,ld(t,r),T=r.memoizedProps,b=r.type===r.elementType?T:kn(r.type,T),_.props=b,W=r.pendingProps,q=_.context,R=o.contextType,typeof R=="object"&&R!==null?R=fn(R):(R=qt(o)?wi:xt.current,R=Ts(r,R));var ee=o.getDerivedStateFromProps;(H=typeof ee=="function"||typeof _.getSnapshotBeforeUpdate=="function")||typeof _.UNSAFE_componentWillReceiveProps!="function"&&typeof _.componentWillReceiveProps!="function"||(T!==W||q!==R)&&Od(r,_,u,R),Or=!1,q=r.memoizedState,_.state=q,rl(r,u,_,h);var ie=r.memoizedState;T!==W||q!==ie||$t.current||Or?(typeof ee=="function"&&(gc(r,o,ee,u),ie=r.memoizedState),(b=Or||Dd(r,o,b,u,q,ie,R)||!1)?(H||typeof _.UNSAFE_componentWillUpdate!="function"&&typeof _.componentWillUpdate!="function"||(typeof _.componentWillUpdate=="function"&&_.componentWillUpdate(u,ie,R),typeof _.UNSAFE_componentWillUpdate=="function"&&_.UNSAFE_componentWillUpdate(u,ie,R)),typeof _.componentDidUpdate=="function"&&(r.flags|=4),typeof _.getSnapshotBeforeUpdate=="function"&&(r.flags|=1024)):(typeof _.componentDidUpdate!="function"||T===t.memoizedProps&&q===t.memoizedState||(r.flags|=4),typeof _.getSnapshotBeforeUpdate!="function"||T===t.memoizedProps&&q===t.memoizedState||(r.flags|=1024),r.memoizedProps=u,r.memoizedState=ie),_.props=u,_.state=ie,_.context=R,u=b):(typeof _.componentDidUpdate!="function"||T===t.memoizedProps&&q===t.memoizedState||(r.flags|=4),typeof _.getSnapshotBeforeUpdate!="function"||T===t.memoizedProps&&q===t.memoizedState||(r.flags|=1024),u=!1)}return Ec(t,r,o,u,p,h)}function Ec(t,r,o,u,h,p){Hd(t,r);var _=(r.flags&128)!==0;if(!u&&!_)return h&&Xf(r,o,!1),fr(t,r,p);u=r.stateNode,x_.current=r;var T=_&&typeof o.getDerivedStateFromError!="function"?null:u.render();return r.flags|=1,t!==null&&_?(r.child=Rs(r,t.child,null,p),r.child=Rs(r,null,T,p)):Ut(t,r,T,p),r.memoizedState=u.state,h&&Xf(r,o,!0),r.child}function Qd(t){var r=t.stateNode;r.pendingContext?Gf(t,r.pendingContext,r.pendingContext!==r.context):r.context&&Gf(t,r.context,!1),ic(t,r.containerInfo)}function Kd(t,r,o,u,h){return As(),Xu(h),r.flags|=256,Ut(t,r,o,u),r.child}var Tc={dehydrated:null,treeContext:null,retryLane:0};function Ic(t){return{baseLanes:t,cachePool:null,transitions:null}}function Gd(t,r,o){var u=r.pendingProps,h=Ke.current,p=!1,_=(r.flags&128)!==0,T;if((T=_)||(T=t!==null&&t.memoizedState===null?!1:(h&2)!==0),T?(p=!0,r.flags&=-129):(t===null||t.memoizedState!==null)&&(h|=1),Be(Ke,h&1),t===null)return Yu(r),t=r.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?((r.mode&1)===0?r.lanes=1:t.data==="$!"?r.lanes=8:r.lanes=1073741824,null):(_=u.children,t=u.fallback,p?(u=r.mode,p=r.child,_={mode:"hidden",children:_},(u&1)===0&&p!==null?(p.childLanes=0,p.pendingProps=_):p=Sl(_,u,0,null),t=xi(t,u,o,null),p.return=r,t.return=r,p.sibling=t,r.child=p,r.child.memoizedState=Ic(o),r.memoizedState=Tc,t):Sc(r,_));if(h=t.memoizedState,h!==null&&(T=h.dehydrated,T!==null))return N_(t,r,_,u,T,h,o);if(p){p=u.fallback,_=r.mode,h=t.child,T=h.sibling;var R={mode:"hidden",children:u.children};return(_&1)===0&&r.child!==h?(u=r.child,u.childLanes=0,u.pendingProps=R,r.deletions=null):(u=Br(h,R),u.subtreeFlags=h.subtreeFlags&14680064),T!==null?p=Br(T,p):(p=xi(p,_,o,null),p.flags|=2),p.return=r,u.return=r,u.sibling=p,r.child=u,u=p,p=r.child,_=t.child.memoizedState,_=_===null?Ic(o):{baseLanes:_.baseLanes|o,cachePool:null,transitions:_.transitions},p.memoizedState=_,p.childLanes=t.childLanes&~o,r.memoizedState=Tc,u}return p=t.child,t=p.sibling,u=Br(p,{mode:"visible",children:u.children}),(r.mode&1)===0&&(u.lanes=o),u.return=r,u.sibling=null,t!==null&&(o=r.deletions,o===null?(r.deletions=[t],r.flags|=16):o.push(t)),r.child=u,r.memoizedState=null,u}function Sc(t,r){return r=Sl({mode:"visible",children:r},t.mode,0,null),r.return=t,t.child=r}function hl(t,r,o,u){return u!==null&&Xu(u),Rs(r,t.child,null,o),t=Sc(r,r.pendingProps.children),t.flags|=2,r.memoizedState=null,t}function N_(t,r,o,u,h,p,_){if(o)return r.flags&256?(r.flags&=-257,u=_c(Error(n(422))),hl(t,r,_,u)):r.memoizedState!==null?(r.child=t.child,r.flags|=128,null):(p=u.fallback,h=r.mode,u=Sl({mode:"visible",children:u.children},h,0,null),p=xi(p,h,_,null),p.flags|=2,u.return=r,p.return=r,u.sibling=p,r.child=u,(r.mode&1)!==0&&Rs(r,t.child,null,_),r.child.memoizedState=Ic(_),r.memoizedState=Tc,p);if((r.mode&1)===0)return hl(t,r,_,null);if(h.data==="$!"){if(u=h.nextSibling&&h.nextSibling.dataset,u)var T=u.dgst;return u=T,p=Error(n(419)),u=_c(p,u,void 0),hl(t,r,_,u)}if(T=(_&t.childLanes)!==0,Ht||T){if(u=gt,u!==null){switch(_&-_){case 4:h=2;break;case 16:h=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:h=32;break;case 536870912:h=268435456;break;default:h=0}h=(h&(u.suspendedLanes|_))!==0?0:h,h!==0&&h!==p.retryLane&&(p.retryLane=h,cr(t,h),Vn(u,t,h,-1))}return jc(),u=_c(Error(n(421))),hl(t,r,_,u)}return h.data==="$?"?(r.flags|=128,r.child=t.child,r=q_.bind(null,t),h._reactRetry=r,null):(t=p.treeContext,nn=Nr(h.nextSibling),tn=r,Qe=!0,Pn=null,t!==null&&(cn[hn++]=lr,cn[hn++]=ur,cn[hn++]=Ei,lr=t.id,ur=t.overflow,Ei=r),r=Sc(r,u.children),r.flags|=4096,r)}function Yd(t,r,o){t.lanes|=r;var u=t.alternate;u!==null&&(u.lanes|=r),tc(t.return,r,o)}function Ac(t,r,o,u,h){var p=t.memoizedState;p===null?t.memoizedState={isBackwards:r,rendering:null,renderingStartTime:0,last:u,tail:o,tailMode:h}:(p.isBackwards=r,p.rendering=null,p.renderingStartTime=0,p.last=u,p.tail=o,p.tailMode=h)}function Xd(t,r,o){var u=r.pendingProps,h=u.revealOrder,p=u.tail;if(Ut(t,r,u.children,o),u=Ke.current,(u&2)!==0)u=u&1|2,r.flags|=128;else{if(t!==null&&(t.flags&128)!==0)e:for(t=r.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&Yd(t,o,r);else if(t.tag===19)Yd(t,o,r);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===r)break e;for(;t.sibling===null;){if(t.return===null||t.return===r)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}u&=1}if(Be(Ke,u),(r.mode&1)===0)r.memoizedState=null;else switch(h){case"forwards":for(o=r.child,h=null;o!==null;)t=o.alternate,t!==null&&il(t)===null&&(h=o),o=o.sibling;o=h,o===null?(h=r.child,r.child=null):(h=o.sibling,o.sibling=null),Ac(r,!1,h,o,p);break;case"backwards":for(o=null,h=r.child,r.child=null;h!==null;){if(t=h.alternate,t!==null&&il(t)===null){r.child=h;break}t=h.sibling,h.sibling=o,o=h,h=t}Ac(r,!0,o,null,p);break;case"together":Ac(r,!1,null,null,void 0);break;default:r.memoizedState=null}return r.child}function fl(t,r){(r.mode&1)===0&&t!==null&&(t.alternate=null,r.alternate=null,r.flags|=2)}function fr(t,r,o){if(t!==null&&(r.dependencies=t.dependencies),Ri|=r.lanes,(o&r.childLanes)===0)return null;if(t!==null&&r.child!==t.child)throw Error(n(153));if(r.child!==null){for(t=r.child,o=Br(t,t.pendingProps),r.child=o,o.return=r;t.sibling!==null;)t=t.sibling,o=o.sibling=Br(t,t.pendingProps),o.return=r;o.sibling=null}return r.child}function V_(t,r,o){switch(r.tag){case 3:Qd(r),As();break;case 5:hd(r);break;case 1:qt(r.type)&&Ka(r);break;case 4:ic(r,r.stateNode.containerInfo);break;case 10:var u=r.type._context,h=r.memoizedProps.value;Be(el,u._currentValue),u._currentValue=h;break;case 13:if(u=r.memoizedState,u!==null)return u.dehydrated!==null?(Be(Ke,Ke.current&1),r.flags|=128,null):(o&r.child.childLanes)!==0?Gd(t,r,o):(Be(Ke,Ke.current&1),t=fr(t,r,o),t!==null?t.sibling:null);Be(Ke,Ke.current&1);break;case 19:if(u=(o&r.childLanes)!==0,(t.flags&128)!==0){if(u)return Xd(t,r,o);r.flags|=128}if(h=r.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),Be(Ke,Ke.current),u)break;return null;case 22:case 23:return r.lanes=0,qd(t,r,o)}return fr(t,r,o)}var Jd,Rc,Zd,ep;Jd=function(t,r){for(var o=r.child;o!==null;){if(o.tag===5||o.tag===6)t.appendChild(o.stateNode);else if(o.tag!==4&&o.child!==null){o.child.return=o,o=o.child;continue}if(o===r)break;for(;o.sibling===null;){if(o.return===null||o.return===r)return;o=o.return}o.sibling.return=o.return,o=o.sibling}},Rc=function(){},Zd=function(t,r,o,u){var h=t.memoizedProps;if(h!==u){t=r.stateNode,Si($n.current);var p=null;switch(o){case"input":h=ri(t,h),u=ri(t,u),p=[];break;case"select":h=te({},h,{value:void 0}),u=te({},u,{value:void 0}),p=[];break;case"textarea":h=to(t,h),u=to(t,u),p=[];break;default:typeof h.onClick!="function"&&typeof u.onClick=="function"&&(t.onclick=Ha)}ao(o,u);var _;o=null;for(b in h)if(!u.hasOwnProperty(b)&&h.hasOwnProperty(b)&&h[b]!=null)if(b==="style"){var T=h[b];for(_ in T)T.hasOwnProperty(_)&&(o||(o={}),o[_]="")}else b!=="dangerouslySetInnerHTML"&&b!=="children"&&b!=="suppressContentEditableWarning"&&b!=="suppressHydrationWarning"&&b!=="autoFocus"&&(a.hasOwnProperty(b)?p||(p=[]):(p=p||[]).push(b,null));for(b in u){var R=u[b];if(T=h!=null?h[b]:void 0,u.hasOwnProperty(b)&&R!==T&&(R!=null||T!=null))if(b==="style")if(T){for(_ in T)!T.hasOwnProperty(_)||R&&R.hasOwnProperty(_)||(o||(o={}),o[_]="");for(_ in R)R.hasOwnProperty(_)&&T[_]!==R[_]&&(o||(o={}),o[_]=R[_])}else o||(p||(p=[]),p.push(b,o)),o=R;else b==="dangerouslySetInnerHTML"?(R=R?R.__html:void 0,T=T?T.__html:void 0,R!=null&&T!==R&&(p=p||[]).push(b,R)):b==="children"?typeof R!="string"&&typeof R!="number"||(p=p||[]).push(b,""+R):b!=="suppressContentEditableWarning"&&b!=="suppressHydrationWarning"&&(a.hasOwnProperty(b)?(R!=null&&b==="onScroll"&&$e("scroll",t),p||T===R||(p=[])):(p=p||[]).push(b,R))}o&&(p=p||[]).push("style",o);var b=p;(r.updateQueue=b)&&(r.flags|=4)}},ep=function(t,r,o,u){o!==u&&(r.flags|=4)};function Bo(t,r){if(!Qe)switch(t.tailMode){case"hidden":r=t.tail;for(var o=null;r!==null;)r.alternate!==null&&(o=r),r=r.sibling;o===null?t.tail=null:o.sibling=null;break;case"collapsed":o=t.tail;for(var u=null;o!==null;)o.alternate!==null&&(u=o),o=o.sibling;u===null?r||t.tail===null?t.tail=null:t.tail.sibling=null:u.sibling=null}}function Vt(t){var r=t.alternate!==null&&t.alternate.child===t.child,o=0,u=0;if(r)for(var h=t.child;h!==null;)o|=h.lanes|h.childLanes,u|=h.subtreeFlags&14680064,u|=h.flags&14680064,h.return=t,h=h.sibling;else for(h=t.child;h!==null;)o|=h.lanes|h.childLanes,u|=h.subtreeFlags,u|=h.flags,h.return=t,h=h.sibling;return t.subtreeFlags|=u,t.childLanes=o,r}function D_(t,r,o){var u=r.pendingProps;switch(Ku(r),r.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Vt(r),null;case 1:return qt(r.type)&&Qa(),Vt(r),null;case 3:return u=r.stateNode,ks(),qe($t),qe(xt),ac(),u.pendingContext&&(u.context=u.pendingContext,u.pendingContext=null),(t===null||t.child===null)&&(Ja(r)?r.flags|=4:t===null||t.memoizedState.isDehydrated&&(r.flags&256)===0||(r.flags|=1024,Pn!==null&&(Fc(Pn),Pn=null))),Rc(t,r),Vt(r),null;case 5:sc(r);var h=Si(Fo.current);if(o=r.type,t!==null&&r.stateNode!=null)Zd(t,r,o,u,h),t.ref!==r.ref&&(r.flags|=512,r.flags|=2097152);else{if(!u){if(r.stateNode===null)throw Error(n(166));return Vt(r),null}if(t=Si($n.current),Ja(r)){u=r.stateNode,o=r.type;var p=r.memoizedProps;switch(u[Bn]=r,u[Vo]=p,t=(r.mode&1)!==0,o){case"dialog":$e("cancel",u),$e("close",u);break;case"iframe":case"object":case"embed":$e("load",u);break;case"video":case"audio":for(h=0;h<ko.length;h++)$e(ko[h],u);break;case"source":$e("error",u);break;case"img":case"image":case"link":$e("error",u),$e("load",u);break;case"details":$e("toggle",u);break;case"input":qi(u,p),$e("invalid",u);break;case"select":u._wrapperState={wasMultiple:!!p.multiple},$e("invalid",u);break;case"textarea":Wi(u,p),$e("invalid",u)}ao(o,p),h=null;for(var _ in p)if(p.hasOwnProperty(_)){var T=p[_];_==="children"?typeof T=="string"?u.textContent!==T&&(p.suppressHydrationWarning!==!0&&qa(u.textContent,T,t),h=["children",T]):typeof T=="number"&&u.textContent!==""+T&&(p.suppressHydrationWarning!==!0&&qa(u.textContent,T,t),h=["children",""+T]):a.hasOwnProperty(_)&&T!=null&&_==="onScroll"&&$e("scroll",u)}switch(o){case"input":Yn(u),ga(u,p,!0);break;case"textarea":Yn(u),no(u);break;case"select":case"option":break;default:typeof p.onClick=="function"&&(u.onclick=Ha)}u=h,r.updateQueue=u,u!==null&&(r.flags|=4)}else{_=h.nodeType===9?h:h.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=at(o)),t==="http://www.w3.org/1999/xhtml"?o==="script"?(t=_.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof u.is=="string"?t=_.createElement(o,{is:u.is}):(t=_.createElement(o),o==="select"&&(_=t,u.multiple?_.multiple=!0:u.size&&(_.size=u.size))):t=_.createElementNS(t,o),t[Bn]=r,t[Vo]=u,Jd(t,r,!1,!1),r.stateNode=t;e:{switch(_=lo(o,u),o){case"dialog":$e("cancel",t),$e("close",t),h=u;break;case"iframe":case"object":case"embed":$e("load",t),h=u;break;case"video":case"audio":for(h=0;h<ko.length;h++)$e(ko[h],t);h=u;break;case"source":$e("error",t),h=u;break;case"img":case"image":case"link":$e("error",t),$e("load",t),h=u;break;case"details":$e("toggle",t),h=u;break;case"input":qi(t,u),h=ri(t,u),$e("invalid",t);break;case"option":h=u;break;case"select":t._wrapperState={wasMultiple:!!u.multiple},h=te({},u,{value:void 0}),$e("invalid",t);break;case"textarea":Wi(t,u),h=to(t,u),$e("invalid",t);break;default:h=u}ao(o,h),T=h;for(p in T)if(T.hasOwnProperty(p)){var R=T[p];p==="style"?so(t,R):p==="dangerouslySetInnerHTML"?(R=R?R.__html:void 0,R!=null&&ro(t,R)):p==="children"?typeof R=="string"?(o!=="textarea"||R!=="")&&wr(t,R):typeof R=="number"&&wr(t,""+R):p!=="suppressContentEditableWarning"&&p!=="suppressHydrationWarning"&&p!=="autoFocus"&&(a.hasOwnProperty(p)?R!=null&&p==="onScroll"&&$e("scroll",t):R!=null&&we(t,p,R,_))}switch(o){case"input":Yn(t),ga(t,u,!1);break;case"textarea":Yn(t),no(t);break;case"option":u.value!=null&&t.setAttribute("value",""+Oe(u.value));break;case"select":t.multiple=!!u.multiple,p=u.value,p!=null?Jn(t,!!u.multiple,p,!1):u.defaultValue!=null&&Jn(t,!!u.multiple,u.defaultValue,!0);break;default:typeof h.onClick=="function"&&(t.onclick=Ha)}switch(o){case"button":case"input":case"select":case"textarea":u=!!u.autoFocus;break e;case"img":u=!0;break e;default:u=!1}}u&&(r.flags|=4)}r.ref!==null&&(r.flags|=512,r.flags|=2097152)}return Vt(r),null;case 6:if(t&&r.stateNode!=null)ep(t,r,t.memoizedProps,u);else{if(typeof u!="string"&&r.stateNode===null)throw Error(n(166));if(o=Si(Fo.current),Si($n.current),Ja(r)){if(u=r.stateNode,o=r.memoizedProps,u[Bn]=r,(p=u.nodeValue!==o)&&(t=tn,t!==null))switch(t.tag){case 3:qa(u.nodeValue,o,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&qa(u.nodeValue,o,(t.mode&1)!==0)}p&&(r.flags|=4)}else u=(o.nodeType===9?o:o.ownerDocument).createTextNode(u),u[Bn]=r,r.stateNode=u}return Vt(r),null;case 13:if(qe(Ke),u=r.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(Qe&&nn!==null&&(r.mode&1)!==0&&(r.flags&128)===0)rd(),As(),r.flags|=98560,p=!1;else if(p=Ja(r),u!==null&&u.dehydrated!==null){if(t===null){if(!p)throw Error(n(318));if(p=r.memoizedState,p=p!==null?p.dehydrated:null,!p)throw Error(n(317));p[Bn]=r}else As(),(r.flags&128)===0&&(r.memoizedState=null),r.flags|=4;Vt(r),p=!1}else Pn!==null&&(Fc(Pn),Pn=null),p=!0;if(!p)return r.flags&65536?r:null}return(r.flags&128)!==0?(r.lanes=o,r):(u=u!==null,u!==(t!==null&&t.memoizedState!==null)&&u&&(r.child.flags|=8192,(r.mode&1)!==0&&(t===null||(Ke.current&1)!==0?ht===0&&(ht=3):jc())),r.updateQueue!==null&&(r.flags|=4),Vt(r),null);case 4:return ks(),Rc(t,r),t===null&&xo(r.stateNode.containerInfo),Vt(r),null;case 10:return ec(r.type._context),Vt(r),null;case 17:return qt(r.type)&&Qa(),Vt(r),null;case 19:if(qe(Ke),p=r.memoizedState,p===null)return Vt(r),null;if(u=(r.flags&128)!==0,_=p.rendering,_===null)if(u)Bo(p,!1);else{if(ht!==0||t!==null&&(t.flags&128)!==0)for(t=r.child;t!==null;){if(_=il(t),_!==null){for(r.flags|=128,Bo(p,!1),u=_.updateQueue,u!==null&&(r.updateQueue=u,r.flags|=4),r.subtreeFlags=0,u=o,o=r.child;o!==null;)p=o,t=u,p.flags&=14680066,_=p.alternate,_===null?(p.childLanes=0,p.lanes=t,p.child=null,p.subtreeFlags=0,p.memoizedProps=null,p.memoizedState=null,p.updateQueue=null,p.dependencies=null,p.stateNode=null):(p.childLanes=_.childLanes,p.lanes=_.lanes,p.child=_.child,p.subtreeFlags=0,p.deletions=null,p.memoizedProps=_.memoizedProps,p.memoizedState=_.memoizedState,p.updateQueue=_.updateQueue,p.type=_.type,t=_.dependencies,p.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),o=o.sibling;return Be(Ke,Ke.current&1|2),r.child}t=t.sibling}p.tail!==null&&ze()>Ds&&(r.flags|=128,u=!0,Bo(p,!1),r.lanes=4194304)}else{if(!u)if(t=il(_),t!==null){if(r.flags|=128,u=!0,o=t.updateQueue,o!==null&&(r.updateQueue=o,r.flags|=4),Bo(p,!0),p.tail===null&&p.tailMode==="hidden"&&!_.alternate&&!Qe)return Vt(r),null}else 2*ze()-p.renderingStartTime>Ds&&o!==1073741824&&(r.flags|=128,u=!0,Bo(p,!1),r.lanes=4194304);p.isBackwards?(_.sibling=r.child,r.child=_):(o=p.last,o!==null?o.sibling=_:r.child=_,p.last=_)}return p.tail!==null?(r=p.tail,p.rendering=r,p.tail=r.sibling,p.renderingStartTime=ze(),r.sibling=null,o=Ke.current,Be(Ke,u?o&1|2:o&1),r):(Vt(r),null);case 22:case 23:return Uc(),u=r.memoizedState!==null,t!==null&&t.memoizedState!==null!==u&&(r.flags|=8192),u&&(r.mode&1)!==0?(rn&1073741824)!==0&&(Vt(r),r.subtreeFlags&6&&(r.flags|=8192)):Vt(r),null;case 24:return null;case 25:return null}throw Error(n(156,r.tag))}function L_(t,r){switch(Ku(r),r.tag){case 1:return qt(r.type)&&Qa(),t=r.flags,t&65536?(r.flags=t&-65537|128,r):null;case 3:return ks(),qe($t),qe(xt),ac(),t=r.flags,(t&65536)!==0&&(t&128)===0?(r.flags=t&-65537|128,r):null;case 5:return sc(r),null;case 13:if(qe(Ke),t=r.memoizedState,t!==null&&t.dehydrated!==null){if(r.alternate===null)throw Error(n(340));As()}return t=r.flags,t&65536?(r.flags=t&-65537|128,r):null;case 19:return qe(Ke),null;case 4:return ks(),null;case 10:return ec(r.type._context),null;case 22:case 23:return Uc(),null;case 24:return null;default:return null}}var dl=!1,Dt=!1,O_=typeof WeakSet=="function"?WeakSet:Set,re=null;function Ns(t,r){var o=t.ref;if(o!==null)if(typeof o=="function")try{o(null)}catch(u){Xe(t,r,u)}else o.current=null}function Cc(t,r,o){try{o()}catch(u){Xe(t,r,u)}}var tp=!1;function M_(t,r){if(Uu=Pr,t=Df(),Nu(t)){if("selectionStart"in t)var o={start:t.selectionStart,end:t.selectionEnd};else e:{o=(o=t.ownerDocument)&&o.defaultView||window;var u=o.getSelection&&o.getSelection();if(u&&u.rangeCount!==0){o=u.anchorNode;var h=u.anchorOffset,p=u.focusNode;u=u.focusOffset;try{o.nodeType,p.nodeType}catch{o=null;break e}var _=0,T=-1,R=-1,b=0,H=0,W=t,q=null;t:for(;;){for(var ee;W!==o||h!==0&&W.nodeType!==3||(T=_+h),W!==p||u!==0&&W.nodeType!==3||(R=_+u),W.nodeType===3&&(_+=W.nodeValue.length),(ee=W.firstChild)!==null;)q=W,W=ee;for(;;){if(W===t)break t;if(q===o&&++b===h&&(T=_),q===p&&++H===u&&(R=_),(ee=W.nextSibling)!==null)break;W=q,q=W.parentNode}W=ee}o=T===-1||R===-1?null:{start:T,end:R}}else o=null}o=o||{start:0,end:0}}else o=null;for(ju={focusedElem:t,selectionRange:o},Pr=!1,re=r;re!==null;)if(r=re,t=r.child,(r.subtreeFlags&1028)!==0&&t!==null)t.return=r,re=t;else for(;re!==null;){r=re;try{var ie=r.alternate;if((r.flags&1024)!==0)switch(r.tag){case 0:case 11:case 15:break;case 1:if(ie!==null){var oe=ie.memoizedProps,tt=ie.memoizedState,M=r.stateNode,C=M.getSnapshotBeforeUpdate(r.elementType===r.type?oe:kn(r.type,oe),tt);M.__reactInternalSnapshotBeforeUpdate=C}break;case 3:var F=r.stateNode.containerInfo;F.nodeType===1?F.textContent="":F.nodeType===9&&F.documentElement&&F.removeChild(F.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(n(163))}}catch(K){Xe(r,r.return,K)}if(t=r.sibling,t!==null){t.return=r.return,re=t;break}re=r.return}return ie=tp,tp=!1,ie}function $o(t,r,o){var u=r.updateQueue;if(u=u!==null?u.lastEffect:null,u!==null){var h=u=u.next;do{if((h.tag&t)===t){var p=h.destroy;h.destroy=void 0,p!==void 0&&Cc(r,o,p)}h=h.next}while(h!==u)}}function pl(t,r){if(r=r.updateQueue,r=r!==null?r.lastEffect:null,r!==null){var o=r=r.next;do{if((o.tag&t)===t){var u=o.create;o.destroy=u()}o=o.next}while(o!==r)}}function Pc(t){var r=t.ref;if(r!==null){var o=t.stateNode;switch(t.tag){case 5:t=o;break;default:t=o}typeof r=="function"?r(t):r.current=t}}function np(t){var r=t.alternate;r!==null&&(t.alternate=null,np(r)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(r=t.stateNode,r!==null&&(delete r[Bn],delete r[Vo],delete r[qu],delete r[__],delete r[v_])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function rp(t){return t.tag===5||t.tag===3||t.tag===4}function ip(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||rp(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function kc(t,r,o){var u=t.tag;if(u===5||u===6)t=t.stateNode,r?o.nodeType===8?o.parentNode.insertBefore(t,r):o.insertBefore(t,r):(o.nodeType===8?(r=o.parentNode,r.insertBefore(t,o)):(r=o,r.appendChild(t)),o=o._reactRootContainer,o!=null||r.onclick!==null||(r.onclick=Ha));else if(u!==4&&(t=t.child,t!==null))for(kc(t,r,o),t=t.sibling;t!==null;)kc(t,r,o),t=t.sibling}function xc(t,r,o){var u=t.tag;if(u===5||u===6)t=t.stateNode,r?o.insertBefore(t,r):o.appendChild(t);else if(u!==4&&(t=t.child,t!==null))for(xc(t,r,o),t=t.sibling;t!==null;)xc(t,r,o),t=t.sibling}var Tt=null,xn=!1;function Fr(t,r,o){for(o=o.child;o!==null;)sp(t,r,o),o=o.sibling}function sp(t,r,o){if(Xt&&typeof Xt.onCommitFiberUnmount=="function")try{Xt.onCommitFiberUnmount(fi,o)}catch{}switch(o.tag){case 5:Dt||Ns(o,r);case 6:var u=Tt,h=xn;Tt=null,Fr(t,r,o),Tt=u,xn=h,Tt!==null&&(xn?(t=Tt,o=o.stateNode,t.nodeType===8?t.parentNode.removeChild(o):t.removeChild(o)):Tt.removeChild(o.stateNode));break;case 18:Tt!==null&&(xn?(t=Tt,o=o.stateNode,t.nodeType===8?$u(t.parentNode,o):t.nodeType===1&&$u(t,o),An(t)):$u(Tt,o.stateNode));break;case 4:u=Tt,h=xn,Tt=o.stateNode.containerInfo,xn=!0,Fr(t,r,o),Tt=u,xn=h;break;case 0:case 11:case 14:case 15:if(!Dt&&(u=o.updateQueue,u!==null&&(u=u.lastEffect,u!==null))){h=u=u.next;do{var p=h,_=p.destroy;p=p.tag,_!==void 0&&((p&2)!==0||(p&4)!==0)&&Cc(o,r,_),h=h.next}while(h!==u)}Fr(t,r,o);break;case 1:if(!Dt&&(Ns(o,r),u=o.stateNode,typeof u.componentWillUnmount=="function"))try{u.props=o.memoizedProps,u.state=o.memoizedState,u.componentWillUnmount()}catch(T){Xe(o,r,T)}Fr(t,r,o);break;case 21:Fr(t,r,o);break;case 22:o.mode&1?(Dt=(u=Dt)||o.memoizedState!==null,Fr(t,r,o),Dt=u):Fr(t,r,o);break;default:Fr(t,r,o)}}function op(t){var r=t.updateQueue;if(r!==null){t.updateQueue=null;var o=t.stateNode;o===null&&(o=t.stateNode=new O_),r.forEach(function(u){var h=H_.bind(null,t,u);o.has(u)||(o.add(u),u.then(h,h))})}}function Nn(t,r){var o=r.deletions;if(o!==null)for(var u=0;u<o.length;u++){var h=o[u];try{var p=t,_=r,T=_;e:for(;T!==null;){switch(T.tag){case 5:Tt=T.stateNode,xn=!1;break e;case 3:Tt=T.stateNode.containerInfo,xn=!0;break e;case 4:Tt=T.stateNode.containerInfo,xn=!0;break e}T=T.return}if(Tt===null)throw Error(n(160));sp(p,_,h),Tt=null,xn=!1;var R=h.alternate;R!==null&&(R.return=null),h.return=null}catch(b){Xe(h,r,b)}}if(r.subtreeFlags&12854)for(r=r.child;r!==null;)ap(r,t),r=r.sibling}function ap(t,r){var o=t.alternate,u=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(Nn(r,t),Hn(t),u&4){try{$o(3,t,t.return),pl(3,t)}catch(oe){Xe(t,t.return,oe)}try{$o(5,t,t.return)}catch(oe){Xe(t,t.return,oe)}}break;case 1:Nn(r,t),Hn(t),u&512&&o!==null&&Ns(o,o.return);break;case 5:if(Nn(r,t),Hn(t),u&512&&o!==null&&Ns(o,o.return),t.flags&32){var h=t.stateNode;try{wr(h,"")}catch(oe){Xe(t,t.return,oe)}}if(u&4&&(h=t.stateNode,h!=null)){var p=t.memoizedProps,_=o!==null?o.memoizedProps:p,T=t.type,R=t.updateQueue;if(t.updateQueue=null,R!==null)try{T==="input"&&p.type==="radio"&&p.name!=null&&Zs(h,p),lo(T,_);var b=lo(T,p);for(_=0;_<R.length;_+=2){var H=R[_],W=R[_+1];H==="style"?so(h,W):H==="dangerouslySetInnerHTML"?ro(h,W):H==="children"?wr(h,W):we(h,H,W,b)}switch(T){case"input":eo(h,p);break;case"textarea":Qi(h,p);break;case"select":var q=h._wrapperState.wasMultiple;h._wrapperState.wasMultiple=!!p.multiple;var ee=p.value;ee!=null?Jn(h,!!p.multiple,ee,!1):q!==!!p.multiple&&(p.defaultValue!=null?Jn(h,!!p.multiple,p.defaultValue,!0):Jn(h,!!p.multiple,p.multiple?[]:"",!1))}h[Vo]=p}catch(oe){Xe(t,t.return,oe)}}break;case 6:if(Nn(r,t),Hn(t),u&4){if(t.stateNode===null)throw Error(n(162));h=t.stateNode,p=t.memoizedProps;try{h.nodeValue=p}catch(oe){Xe(t,t.return,oe)}}break;case 3:if(Nn(r,t),Hn(t),u&4&&o!==null&&o.memoizedState.isDehydrated)try{An(r.containerInfo)}catch(oe){Xe(t,t.return,oe)}break;case 4:Nn(r,t),Hn(t);break;case 13:Nn(r,t),Hn(t),h=t.child,h.flags&8192&&(p=h.memoizedState!==null,h.stateNode.isHidden=p,!p||h.alternate!==null&&h.alternate.memoizedState!==null||(Dc=ze())),u&4&&op(t);break;case 22:if(H=o!==null&&o.memoizedState!==null,t.mode&1?(Dt=(b=Dt)||H,Nn(r,t),Dt=b):Nn(r,t),Hn(t),u&8192){if(b=t.memoizedState!==null,(t.stateNode.isHidden=b)&&!H&&(t.mode&1)!==0)for(re=t,H=t.child;H!==null;){for(W=re=H;re!==null;){switch(q=re,ee=q.child,q.tag){case 0:case 11:case 14:case 15:$o(4,q,q.return);break;case 1:Ns(q,q.return);var ie=q.stateNode;if(typeof ie.componentWillUnmount=="function"){u=q,o=q.return;try{r=u,ie.props=r.memoizedProps,ie.state=r.memoizedState,ie.componentWillUnmount()}catch(oe){Xe(u,o,oe)}}break;case 5:Ns(q,q.return);break;case 22:if(q.memoizedState!==null){cp(W);continue}}ee!==null?(ee.return=q,re=ee):cp(W)}H=H.sibling}e:for(H=null,W=t;;){if(W.tag===5){if(H===null){H=W;try{h=W.stateNode,b?(p=h.style,typeof p.setProperty=="function"?p.setProperty("display","none","important"):p.display="none"):(T=W.stateNode,R=W.memoizedProps.style,_=R!=null&&R.hasOwnProperty("display")?R.display:null,T.style.display=io("display",_))}catch(oe){Xe(t,t.return,oe)}}}else if(W.tag===6){if(H===null)try{W.stateNode.nodeValue=b?"":W.memoizedProps}catch(oe){Xe(t,t.return,oe)}}else if((W.tag!==22&&W.tag!==23||W.memoizedState===null||W===t)&&W.child!==null){W.child.return=W,W=W.child;continue}if(W===t)break e;for(;W.sibling===null;){if(W.return===null||W.return===t)break e;H===W&&(H=null),W=W.return}H===W&&(H=null),W.sibling.return=W.return,W=W.sibling}}break;case 19:Nn(r,t),Hn(t),u&4&&op(t);break;case 21:break;default:Nn(r,t),Hn(t)}}function Hn(t){var r=t.flags;if(r&2){try{e:{for(var o=t.return;o!==null;){if(rp(o)){var u=o;break e}o=o.return}throw Error(n(160))}switch(u.tag){case 5:var h=u.stateNode;u.flags&32&&(wr(h,""),u.flags&=-33);var p=ip(t);xc(t,p,h);break;case 3:case 4:var _=u.stateNode.containerInfo,T=ip(t);kc(t,T,_);break;default:throw Error(n(161))}}catch(R){Xe(t,t.return,R)}t.flags&=-3}r&4096&&(t.flags&=-4097)}function F_(t,r,o){re=t,lp(t)}function lp(t,r,o){for(var u=(t.mode&1)!==0;re!==null;){var h=re,p=h.child;if(h.tag===22&&u){var _=h.memoizedState!==null||dl;if(!_){var T=h.alternate,R=T!==null&&T.memoizedState!==null||Dt;T=dl;var b=Dt;if(dl=_,(Dt=R)&&!b)for(re=h;re!==null;)_=re,R=_.child,_.tag===22&&_.memoizedState!==null?hp(h):R!==null?(R.return=_,re=R):hp(h);for(;p!==null;)re=p,lp(p),p=p.sibling;re=h,dl=T,Dt=b}up(t)}else(h.subtreeFlags&8772)!==0&&p!==null?(p.return=h,re=p):up(t)}}function up(t){for(;re!==null;){var r=re;if((r.flags&8772)!==0){var o=r.alternate;try{if((r.flags&8772)!==0)switch(r.tag){case 0:case 11:case 15:Dt||pl(5,r);break;case 1:var u=r.stateNode;if(r.flags&4&&!Dt)if(o===null)u.componentDidMount();else{var h=r.elementType===r.type?o.memoizedProps:kn(r.type,o.memoizedProps);u.componentDidUpdate(h,o.memoizedState,u.__reactInternalSnapshotBeforeUpdate)}var p=r.updateQueue;p!==null&&cd(r,p,u);break;case 3:var _=r.updateQueue;if(_!==null){if(o=null,r.child!==null)switch(r.child.tag){case 5:o=r.child.stateNode;break;case 1:o=r.child.stateNode}cd(r,_,o)}break;case 5:var T=r.stateNode;if(o===null&&r.flags&4){o=T;var R=r.memoizedProps;switch(r.type){case"button":case"input":case"select":case"textarea":R.autoFocus&&o.focus();break;case"img":R.src&&(o.src=R.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(r.memoizedState===null){var b=r.alternate;if(b!==null){var H=b.memoizedState;if(H!==null){var W=H.dehydrated;W!==null&&An(W)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(n(163))}Dt||r.flags&512&&Pc(r)}catch(q){Xe(r,r.return,q)}}if(r===t){re=null;break}if(o=r.sibling,o!==null){o.return=r.return,re=o;break}re=r.return}}function cp(t){for(;re!==null;){var r=re;if(r===t){re=null;break}var o=r.sibling;if(o!==null){o.return=r.return,re=o;break}re=r.return}}function hp(t){for(;re!==null;){var r=re;try{switch(r.tag){case 0:case 11:case 15:var o=r.return;try{pl(4,r)}catch(R){Xe(r,o,R)}break;case 1:var u=r.stateNode;if(typeof u.componentDidMount=="function"){var h=r.return;try{u.componentDidMount()}catch(R){Xe(r,h,R)}}var p=r.return;try{Pc(r)}catch(R){Xe(r,p,R)}break;case 5:var _=r.return;try{Pc(r)}catch(R){Xe(r,_,R)}}}catch(R){Xe(r,r.return,R)}if(r===t){re=null;break}var T=r.sibling;if(T!==null){T.return=r.return,re=T;break}re=r.return}}var b_=Math.ceil,ml=Se.ReactCurrentDispatcher,Nc=Se.ReactCurrentOwner,pn=Se.ReactCurrentBatchConfig,Ve=0,gt=null,it=null,It=0,rn=0,Vs=Vr(0),ht=0,qo=null,Ri=0,gl=0,Vc=0,Ho=null,Wt=null,Dc=0,Ds=1/0,dr=null,yl=!1,Lc=null,br=null,_l=!1,Ur=null,vl=0,Wo=0,Oc=null,wl=-1,El=0;function jt(){return(Ve&6)!==0?ze():wl!==-1?wl:wl=ze()}function jr(t){return(t.mode&1)===0?1:(Ve&2)!==0&&It!==0?It&-It:E_.transition!==null?(El===0&&(El=pi()),El):(t=Ae,t!==0||(t=window.event,t=t===void 0?16:wo(t.type)),t)}function Vn(t,r,o,u){if(50<Wo)throw Wo=0,Oc=null,Error(n(185));Sr(t,o,u),((Ve&2)===0||t!==gt)&&(t===gt&&((Ve&2)===0&&(gl|=o),ht===4&&zr(t,It)),Qt(t,u),o===1&&Ve===0&&(r.mode&1)===0&&(Ds=ze()+500,Ga&&Lr()))}function Qt(t,r){var o=t.callbackNode;tr(t,r);var u=di(t,t===gt?It:0);if(u===0)o!==null&&mo(o),t.callbackNode=null,t.callbackPriority=0;else if(r=u&-u,t.callbackPriority!==r){if(o!=null&&mo(o),r===1)t.tag===0?w_(dp.bind(null,t)):Jf(dp.bind(null,t)),g_(function(){(Ve&6)===0&&Lr()}),o=null;else{switch(Rr(u)){case 1:o=hi;break;case 4:o=Er;break;case 16:o=an;break;case 536870912:o=Ea;break;default:o=an}o=Ep(o,fp.bind(null,t))}t.callbackPriority=r,t.callbackNode=o}}function fp(t,r){if(wl=-1,El=0,(Ve&6)!==0)throw Error(n(327));var o=t.callbackNode;if(Ls()&&t.callbackNode!==o)return null;var u=di(t,t===gt?It:0);if(u===0)return null;if((u&30)!==0||(u&t.expiredLanes)!==0||r)r=Tl(t,u);else{r=u;var h=Ve;Ve|=2;var p=mp();(gt!==t||It!==r)&&(dr=null,Ds=ze()+500,Pi(t,r));do try{z_();break}catch(T){pp(t,T)}while(!0);Zu(),ml.current=p,Ve=h,it!==null?r=0:(gt=null,It=0,r=ht)}if(r!==0){if(r===2&&(h=Jt(t),h!==0&&(u=h,r=Mc(t,h))),r===1)throw o=qo,Pi(t,0),zr(t,u),Qt(t,ze()),o;if(r===6)zr(t,u);else{if(h=t.current.alternate,(u&30)===0&&!U_(h)&&(r=Tl(t,u),r===2&&(p=Jt(t),p!==0&&(u=p,r=Mc(t,p))),r===1))throw o=qo,Pi(t,0),zr(t,u),Qt(t,ze()),o;switch(t.finishedWork=h,t.finishedLanes=u,r){case 0:case 1:throw Error(n(345));case 2:ki(t,Wt,dr);break;case 3:if(zr(t,u),(u&130023424)===u&&(r=Dc+500-ze(),10<r)){if(di(t,0)!==0)break;if(h=t.suspendedLanes,(h&u)!==u){jt(),t.pingedLanes|=t.suspendedLanes&h;break}t.timeoutHandle=Bu(ki.bind(null,t,Wt,dr),r);break}ki(t,Wt,dr);break;case 4:if(zr(t,u),(u&4194240)===u)break;for(r=t.eventTimes,h=-1;0<u;){var _=31-Ft(u);p=1<<_,_=r[_],_>h&&(h=_),u&=~p}if(u=h,u=ze()-u,u=(120>u?120:480>u?480:1080>u?1080:1920>u?1920:3e3>u?3e3:4320>u?4320:1960*b_(u/1960))-u,10<u){t.timeoutHandle=Bu(ki.bind(null,t,Wt,dr),u);break}ki(t,Wt,dr);break;case 5:ki(t,Wt,dr);break;default:throw Error(n(329))}}}return Qt(t,ze()),t.callbackNode===o?fp.bind(null,t):null}function Mc(t,r){var o=Ho;return t.current.memoizedState.isDehydrated&&(Pi(t,r).flags|=256),t=Tl(t,r),t!==2&&(r=Wt,Wt=o,r!==null&&Fc(r)),t}function Fc(t){Wt===null?Wt=t:Wt.push.apply(Wt,t)}function U_(t){for(var r=t;;){if(r.flags&16384){var o=r.updateQueue;if(o!==null&&(o=o.stores,o!==null))for(var u=0;u<o.length;u++){var h=o[u],p=h.getSnapshot;h=h.value;try{if(!Cn(p(),h))return!1}catch{return!1}}}if(o=r.child,r.subtreeFlags&16384&&o!==null)o.return=r,r=o;else{if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return!0;r=r.return}r.sibling.return=r.return,r=r.sibling}}return!0}function zr(t,r){for(r&=~Vc,r&=~gl,t.suspendedLanes|=r,t.pingedLanes&=~r,t=t.expirationTimes;0<r;){var o=31-Ft(r),u=1<<o;t[o]=-1,r&=~u}}function dp(t){if((Ve&6)!==0)throw Error(n(327));Ls();var r=di(t,0);if((r&1)===0)return Qt(t,ze()),null;var o=Tl(t,r);if(t.tag!==0&&o===2){var u=Jt(t);u!==0&&(r=u,o=Mc(t,u))}if(o===1)throw o=qo,Pi(t,0),zr(t,r),Qt(t,ze()),o;if(o===6)throw Error(n(345));return t.finishedWork=t.current.alternate,t.finishedLanes=r,ki(t,Wt,dr),Qt(t,ze()),null}function bc(t,r){var o=Ve;Ve|=1;try{return t(r)}finally{Ve=o,Ve===0&&(Ds=ze()+500,Ga&&Lr())}}function Ci(t){Ur!==null&&Ur.tag===0&&(Ve&6)===0&&Ls();var r=Ve;Ve|=1;var o=pn.transition,u=Ae;try{if(pn.transition=null,Ae=1,t)return t()}finally{Ae=u,pn.transition=o,Ve=r,(Ve&6)===0&&Lr()}}function Uc(){rn=Vs.current,qe(Vs)}function Pi(t,r){t.finishedWork=null,t.finishedLanes=0;var o=t.timeoutHandle;if(o!==-1&&(t.timeoutHandle=-1,m_(o)),it!==null)for(o=it.return;o!==null;){var u=o;switch(Ku(u),u.tag){case 1:u=u.type.childContextTypes,u!=null&&Qa();break;case 3:ks(),qe($t),qe(xt),ac();break;case 5:sc(u);break;case 4:ks();break;case 13:qe(Ke);break;case 19:qe(Ke);break;case 10:ec(u.type._context);break;case 22:case 23:Uc()}o=o.return}if(gt=t,it=t=Br(t.current,null),It=rn=r,ht=0,qo=null,Vc=gl=Ri=0,Wt=Ho=null,Ii!==null){for(r=0;r<Ii.length;r++)if(o=Ii[r],u=o.interleaved,u!==null){o.interleaved=null;var h=u.next,p=o.pending;if(p!==null){var _=p.next;p.next=h,u.next=_}o.pending=u}Ii=null}return t}function pp(t,r){do{var o=it;try{if(Zu(),sl.current=ul,ol){for(var u=Ge.memoizedState;u!==null;){var h=u.queue;h!==null&&(h.pending=null),u=u.next}ol=!1}if(Ai=0,mt=ct=Ge=null,bo=!1,Uo=0,Nc.current=null,o===null||o.return===null){ht=1,qo=r,it=null;break}e:{var p=t,_=o.return,T=o,R=r;if(r=It,T.flags|=32768,R!==null&&typeof R=="object"&&typeof R.then=="function"){var b=R,H=T,W=H.tag;if((H.mode&1)===0&&(W===0||W===11||W===15)){var q=H.alternate;q?(H.updateQueue=q.updateQueue,H.memoizedState=q.memoizedState,H.lanes=q.lanes):(H.updateQueue=null,H.memoizedState=null)}var ee=Ud(_);if(ee!==null){ee.flags&=-257,jd(ee,_,T,p,r),ee.mode&1&&bd(p,b,r),r=ee,R=b;var ie=r.updateQueue;if(ie===null){var oe=new Set;oe.add(R),r.updateQueue=oe}else ie.add(R);break e}else{if((r&1)===0){bd(p,b,r),jc();break e}R=Error(n(426))}}else if(Qe&&T.mode&1){var tt=Ud(_);if(tt!==null){(tt.flags&65536)===0&&(tt.flags|=256),jd(tt,_,T,p,r),Xu(xs(R,T));break e}}p=R=xs(R,T),ht!==4&&(ht=2),Ho===null?Ho=[p]:Ho.push(p),p=_;do{switch(p.tag){case 3:p.flags|=65536,r&=-r,p.lanes|=r;var M=Md(p,R,r);ud(p,M);break e;case 1:T=R;var C=p.type,F=p.stateNode;if((p.flags&128)===0&&(typeof C.getDerivedStateFromError=="function"||F!==null&&typeof F.componentDidCatch=="function"&&(br===null||!br.has(F)))){p.flags|=65536,r&=-r,p.lanes|=r;var K=Fd(p,T,r);ud(p,K);break e}}p=p.return}while(p!==null)}yp(o)}catch(ae){r=ae,it===o&&o!==null&&(it=o=o.return);continue}break}while(!0)}function mp(){var t=ml.current;return ml.current=ul,t===null?ul:t}function jc(){(ht===0||ht===3||ht===2)&&(ht=4),gt===null||(Ri&268435455)===0&&(gl&268435455)===0||zr(gt,It)}function Tl(t,r){var o=Ve;Ve|=2;var u=mp();(gt!==t||It!==r)&&(dr=null,Pi(t,r));do try{j_();break}catch(h){pp(t,h)}while(!0);if(Zu(),Ve=o,ml.current=u,it!==null)throw Error(n(261));return gt=null,It=0,ht}function j_(){for(;it!==null;)gp(it)}function z_(){for(;it!==null&&!va();)gp(it)}function gp(t){var r=wp(t.alternate,t,rn);t.memoizedProps=t.pendingProps,r===null?yp(t):it=r,Nc.current=null}function yp(t){var r=t;do{var o=r.alternate;if(t=r.return,(r.flags&32768)===0){if(o=D_(o,r,rn),o!==null){it=o;return}}else{if(o=L_(o,r),o!==null){o.flags&=32767,it=o;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{ht=6,it=null;return}}if(r=r.sibling,r!==null){it=r;return}it=r=t}while(r!==null);ht===0&&(ht=5)}function ki(t,r,o){var u=Ae,h=pn.transition;try{pn.transition=null,Ae=1,B_(t,r,o,u)}finally{pn.transition=h,Ae=u}return null}function B_(t,r,o,u){do Ls();while(Ur!==null);if((Ve&6)!==0)throw Error(n(327));o=t.finishedWork;var h=t.finishedLanes;if(o===null)return null;if(t.finishedWork=null,t.finishedLanes=0,o===t.current)throw Error(n(177));t.callbackNode=null,t.callbackPriority=0;var p=o.lanes|o.childLanes;if(Ue(t,p),t===gt&&(it=gt=null,It=0),(o.subtreeFlags&2064)===0&&(o.flags&2064)===0||_l||(_l=!0,Ep(an,function(){return Ls(),null})),p=(o.flags&15990)!==0,(o.subtreeFlags&15990)!==0||p){p=pn.transition,pn.transition=null;var _=Ae;Ae=1;var T=Ve;Ve|=4,Nc.current=null,M_(t,o),ap(o,t),l_(ju),Pr=!!Uu,ju=Uu=null,t.current=o,F_(o),Iu(),Ve=T,Ae=_,pn.transition=p}else t.current=o;if(_l&&(_l=!1,Ur=t,vl=h),p=t.pendingLanes,p===0&&(br=null),Ta(o.stateNode),Qt(t,ze()),r!==null)for(u=t.onRecoverableError,o=0;o<r.length;o++)h=r[o],u(h.value,{componentStack:h.stack,digest:h.digest});if(yl)throw yl=!1,t=Lc,Lc=null,t;return(vl&1)!==0&&t.tag!==0&&Ls(),p=t.pendingLanes,(p&1)!==0?t===Oc?Wo++:(Wo=0,Oc=t):Wo=0,Lr(),null}function Ls(){if(Ur!==null){var t=Rr(vl),r=pn.transition,o=Ae;try{if(pn.transition=null,Ae=16>t?16:t,Ur===null)var u=!1;else{if(t=Ur,Ur=null,vl=0,(Ve&6)!==0)throw Error(n(331));var h=Ve;for(Ve|=4,re=t.current;re!==null;){var p=re,_=p.child;if((re.flags&16)!==0){var T=p.deletions;if(T!==null){for(var R=0;R<T.length;R++){var b=T[R];for(re=b;re!==null;){var H=re;switch(H.tag){case 0:case 11:case 15:$o(8,H,p)}var W=H.child;if(W!==null)W.return=H,re=W;else for(;re!==null;){H=re;var q=H.sibling,ee=H.return;if(np(H),H===b){re=null;break}if(q!==null){q.return=ee,re=q;break}re=ee}}}var ie=p.alternate;if(ie!==null){var oe=ie.child;if(oe!==null){ie.child=null;do{var tt=oe.sibling;oe.sibling=null,oe=tt}while(oe!==null)}}re=p}}if((p.subtreeFlags&2064)!==0&&_!==null)_.return=p,re=_;else e:for(;re!==null;){if(p=re,(p.flags&2048)!==0)switch(p.tag){case 0:case 11:case 15:$o(9,p,p.return)}var M=p.sibling;if(M!==null){M.return=p.return,re=M;break e}re=p.return}}var C=t.current;for(re=C;re!==null;){_=re;var F=_.child;if((_.subtreeFlags&2064)!==0&&F!==null)F.return=_,re=F;else e:for(_=C;re!==null;){if(T=re,(T.flags&2048)!==0)try{switch(T.tag){case 0:case 11:case 15:pl(9,T)}}catch(ae){Xe(T,T.return,ae)}if(T===_){re=null;break e}var K=T.sibling;if(K!==null){K.return=T.return,re=K;break e}re=T.return}}if(Ve=h,Lr(),Xt&&typeof Xt.onPostCommitFiberRoot=="function")try{Xt.onPostCommitFiberRoot(fi,t)}catch{}u=!0}return u}finally{Ae=o,pn.transition=r}}return!1}function _p(t,r,o){r=xs(o,r),r=Md(t,r,1),t=Mr(t,r,1),r=jt(),t!==null&&(Sr(t,1,r),Qt(t,r))}function Xe(t,r,o){if(t.tag===3)_p(t,t,o);else for(;r!==null;){if(r.tag===3){_p(r,t,o);break}else if(r.tag===1){var u=r.stateNode;if(typeof r.type.getDerivedStateFromError=="function"||typeof u.componentDidCatch=="function"&&(br===null||!br.has(u))){t=xs(o,t),t=Fd(r,t,1),r=Mr(r,t,1),t=jt(),r!==null&&(Sr(r,1,t),Qt(r,t));break}}r=r.return}}function $_(t,r,o){var u=t.pingCache;u!==null&&u.delete(r),r=jt(),t.pingedLanes|=t.suspendedLanes&o,gt===t&&(It&o)===o&&(ht===4||ht===3&&(It&130023424)===It&&500>ze()-Dc?Pi(t,0):Vc|=o),Qt(t,r)}function vp(t,r){r===0&&((t.mode&1)===0?r=1:(r=rs,rs<<=1,(rs&130023424)===0&&(rs=4194304)));var o=jt();t=cr(t,r),t!==null&&(Sr(t,r,o),Qt(t,o))}function q_(t){var r=t.memoizedState,o=0;r!==null&&(o=r.retryLane),vp(t,o)}function H_(t,r){var o=0;switch(t.tag){case 13:var u=t.stateNode,h=t.memoizedState;h!==null&&(o=h.retryLane);break;case 19:u=t.stateNode;break;default:throw Error(n(314))}u!==null&&u.delete(r),vp(t,o)}var wp;wp=function(t,r,o){if(t!==null)if(t.memoizedProps!==r.pendingProps||$t.current)Ht=!0;else{if((t.lanes&o)===0&&(r.flags&128)===0)return Ht=!1,V_(t,r,o);Ht=(t.flags&131072)!==0}else Ht=!1,Qe&&(r.flags&1048576)!==0&&Zf(r,Xa,r.index);switch(r.lanes=0,r.tag){case 2:var u=r.type;fl(t,r),t=r.pendingProps;var h=Ts(r,xt.current);Ps(r,o),h=cc(null,r,u,t,h,o);var p=hc();return r.flags|=1,typeof h=="object"&&h!==null&&typeof h.render=="function"&&h.$$typeof===void 0?(r.tag=1,r.memoizedState=null,r.updateQueue=null,qt(u)?(p=!0,Ka(r)):p=!1,r.memoizedState=h.state!==null&&h.state!==void 0?h.state:null,rc(r),h.updater=cl,r.stateNode=h,h._reactInternals=r,yc(r,u,t,o),r=Ec(null,r,u,!0,p,o)):(r.tag=0,Qe&&p&&Qu(r),Ut(null,r,h,o),r=r.child),r;case 16:u=r.elementType;e:{switch(fl(t,r),t=r.pendingProps,h=u._init,u=h(u._payload),r.type=u,h=r.tag=Q_(u),t=kn(u,t),h){case 0:r=wc(null,r,u,t,o);break e;case 1:r=Wd(null,r,u,t,o);break e;case 11:r=zd(null,r,u,t,o);break e;case 14:r=Bd(null,r,u,kn(u.type,t),o);break e}throw Error(n(306,u,""))}return r;case 0:return u=r.type,h=r.pendingProps,h=r.elementType===u?h:kn(u,h),wc(t,r,u,h,o);case 1:return u=r.type,h=r.pendingProps,h=r.elementType===u?h:kn(u,h),Wd(t,r,u,h,o);case 3:e:{if(Qd(r),t===null)throw Error(n(387));u=r.pendingProps,p=r.memoizedState,h=p.element,ld(t,r),rl(r,u,null,o);var _=r.memoizedState;if(u=_.element,p.isDehydrated)if(p={element:u,isDehydrated:!1,cache:_.cache,pendingSuspenseBoundaries:_.pendingSuspenseBoundaries,transitions:_.transitions},r.updateQueue.baseState=p,r.memoizedState=p,r.flags&256){h=xs(Error(n(423)),r),r=Kd(t,r,u,o,h);break e}else if(u!==h){h=xs(Error(n(424)),r),r=Kd(t,r,u,o,h);break e}else for(nn=Nr(r.stateNode.containerInfo.firstChild),tn=r,Qe=!0,Pn=null,o=od(r,null,u,o),r.child=o;o;)o.flags=o.flags&-3|4096,o=o.sibling;else{if(As(),u===h){r=fr(t,r,o);break e}Ut(t,r,u,o)}r=r.child}return r;case 5:return hd(r),t===null&&Yu(r),u=r.type,h=r.pendingProps,p=t!==null?t.memoizedProps:null,_=h.children,zu(u,h)?_=null:p!==null&&zu(u,p)&&(r.flags|=32),Hd(t,r),Ut(t,r,_,o),r.child;case 6:return t===null&&Yu(r),null;case 13:return Gd(t,r,o);case 4:return ic(r,r.stateNode.containerInfo),u=r.pendingProps,t===null?r.child=Rs(r,null,u,o):Ut(t,r,u,o),r.child;case 11:return u=r.type,h=r.pendingProps,h=r.elementType===u?h:kn(u,h),zd(t,r,u,h,o);case 7:return Ut(t,r,r.pendingProps,o),r.child;case 8:return Ut(t,r,r.pendingProps.children,o),r.child;case 12:return Ut(t,r,r.pendingProps.children,o),r.child;case 10:e:{if(u=r.type._context,h=r.pendingProps,p=r.memoizedProps,_=h.value,Be(el,u._currentValue),u._currentValue=_,p!==null)if(Cn(p.value,_)){if(p.children===h.children&&!$t.current){r=fr(t,r,o);break e}}else for(p=r.child,p!==null&&(p.return=r);p!==null;){var T=p.dependencies;if(T!==null){_=p.child;for(var R=T.firstContext;R!==null;){if(R.context===u){if(p.tag===1){R=hr(-1,o&-o),R.tag=2;var b=p.updateQueue;if(b!==null){b=b.shared;var H=b.pending;H===null?R.next=R:(R.next=H.next,H.next=R),b.pending=R}}p.lanes|=o,R=p.alternate,R!==null&&(R.lanes|=o),tc(p.return,o,r),T.lanes|=o;break}R=R.next}}else if(p.tag===10)_=p.type===r.type?null:p.child;else if(p.tag===18){if(_=p.return,_===null)throw Error(n(341));_.lanes|=o,T=_.alternate,T!==null&&(T.lanes|=o),tc(_,o,r),_=p.sibling}else _=p.child;if(_!==null)_.return=p;else for(_=p;_!==null;){if(_===r){_=null;break}if(p=_.sibling,p!==null){p.return=_.return,_=p;break}_=_.return}p=_}Ut(t,r,h.children,o),r=r.child}return r;case 9:return h=r.type,u=r.pendingProps.children,Ps(r,o),h=fn(h),u=u(h),r.flags|=1,Ut(t,r,u,o),r.child;case 14:return u=r.type,h=kn(u,r.pendingProps),h=kn(u.type,h),Bd(t,r,u,h,o);case 15:return $d(t,r,r.type,r.pendingProps,o);case 17:return u=r.type,h=r.pendingProps,h=r.elementType===u?h:kn(u,h),fl(t,r),r.tag=1,qt(u)?(t=!0,Ka(r)):t=!1,Ps(r,o),Ld(r,u,h),yc(r,u,h,o),Ec(null,r,u,!0,t,o);case 19:return Xd(t,r,o);case 22:return qd(t,r,o)}throw Error(n(156,r.tag))};function Ep(t,r){return ts(t,r)}function W_(t,r,o,u){this.tag=t,this.key=o,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=r,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=u,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function mn(t,r,o,u){return new W_(t,r,o,u)}function zc(t){return t=t.prototype,!(!t||!t.isReactComponent)}function Q_(t){if(typeof t=="function")return zc(t)?1:0;if(t!=null){if(t=t.$$typeof,t===L)return 11;if(t===Pt)return 14}return 2}function Br(t,r){var o=t.alternate;return o===null?(o=mn(t.tag,r,t.key,t.mode),o.elementType=t.elementType,o.type=t.type,o.stateNode=t.stateNode,o.alternate=t,t.alternate=o):(o.pendingProps=r,o.type=t.type,o.flags=0,o.subtreeFlags=0,o.deletions=null),o.flags=t.flags&14680064,o.childLanes=t.childLanes,o.lanes=t.lanes,o.child=t.child,o.memoizedProps=t.memoizedProps,o.memoizedState=t.memoizedState,o.updateQueue=t.updateQueue,r=t.dependencies,o.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext},o.sibling=t.sibling,o.index=t.index,o.ref=t.ref,o}function Il(t,r,o,u,h,p){var _=2;if(u=t,typeof t=="function")zc(t)&&(_=1);else if(typeof t=="string")_=5;else e:switch(t){case x:return xi(o.children,h,p,r);case I:_=8,h|=8;break;case A:return t=mn(12,o,r,h|2),t.elementType=A,t.lanes=p,t;case S:return t=mn(13,o,r,h),t.elementType=S,t.lanes=p,t;case Ze:return t=mn(19,o,r,h),t.elementType=Ze,t.lanes=p,t;case be:return Sl(o,h,p,r);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case P:_=10;break e;case N:_=9;break e;case L:_=11;break e;case Pt:_=14;break e;case kt:_=16,u=null;break e}throw Error(n(130,t==null?t:typeof t,""))}return r=mn(_,o,r,h),r.elementType=t,r.type=u,r.lanes=p,r}function xi(t,r,o,u){return t=mn(7,t,u,r),t.lanes=o,t}function Sl(t,r,o,u){return t=mn(22,t,u,r),t.elementType=be,t.lanes=o,t.stateNode={isHidden:!1},t}function Bc(t,r,o){return t=mn(6,t,null,r),t.lanes=o,t}function $c(t,r,o){return r=mn(4,t.children!==null?t.children:[],t.key,r),r.lanes=o,r.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},r}function K_(t,r,o,u,h){this.tag=r,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Ir(0),this.expirationTimes=Ir(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ir(0),this.identifierPrefix=u,this.onRecoverableError=h,this.mutableSourceEagerHydrationData=null}function qc(t,r,o,u,h,p,_,T,R){return t=new K_(t,r,o,T,R),r===1?(r=1,p===!0&&(r|=8)):r=0,p=mn(3,null,null,r),t.current=p,p.stateNode=t,p.memoizedState={element:u,isDehydrated:o,cache:null,transitions:null,pendingSuspenseBoundaries:null},rc(p),t}function G_(t,r,o){var u=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Ne,key:u==null?null:""+u,children:t,containerInfo:r,implementation:o}}function Tp(t){if(!t)return Dr;t=t._reactInternals;e:{if(wn(t)!==t||t.tag!==1)throw Error(n(170));var r=t;do{switch(r.tag){case 3:r=r.stateNode.context;break e;case 1:if(qt(r.type)){r=r.stateNode.__reactInternalMemoizedMergedChildContext;break e}}r=r.return}while(r!==null);throw Error(n(171))}if(t.tag===1){var o=t.type;if(qt(o))return Yf(t,o,r)}return r}function Ip(t,r,o,u,h,p,_,T,R){return t=qc(o,u,!0,t,h,p,_,T,R),t.context=Tp(null),o=t.current,u=jt(),h=jr(o),p=hr(u,h),p.callback=r??null,Mr(o,p,h),t.current.lanes=h,Sr(t,h,u),Qt(t,u),t}function Al(t,r,o,u){var h=r.current,p=jt(),_=jr(h);return o=Tp(o),r.context===null?r.context=o:r.pendingContext=o,r=hr(p,_),r.payload={element:t},u=u===void 0?null:u,u!==null&&(r.callback=u),t=Mr(h,r,_),t!==null&&(Vn(t,h,_,p),nl(t,h,_)),_}function Rl(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function Sp(t,r){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var o=t.retryLane;t.retryLane=o!==0&&o<r?o:r}}function Hc(t,r){Sp(t,r),(t=t.alternate)&&Sp(t,r)}function Y_(){return null}var Ap=typeof reportError=="function"?reportError:function(t){console.error(t)};function Wc(t){this._internalRoot=t}Cl.prototype.render=Wc.prototype.render=function(t){var r=this._internalRoot;if(r===null)throw Error(n(409));Al(t,r,null,null)},Cl.prototype.unmount=Wc.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var r=t.containerInfo;Ci(function(){Al(null,t,null,null)}),r[or]=null}};function Cl(t){this._internalRoot=t}Cl.prototype.unstable_scheduleHydration=function(t){if(t){var r=Ca();t={blockedOn:null,target:t,priority:r};for(var o=0;o<bn.length&&r!==0&&r<bn[o].priority;o++);bn.splice(o,0,t),o===0&&xa(t)}};function Qc(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function Pl(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function Rp(){}function X_(t,r,o,u,h){if(h){if(typeof u=="function"){var p=u;u=function(){var b=Rl(_);p.call(b)}}var _=Ip(r,u,t,0,null,!1,!1,"",Rp);return t._reactRootContainer=_,t[or]=_.current,xo(t.nodeType===8?t.parentNode:t),Ci(),_}for(;h=t.lastChild;)t.removeChild(h);if(typeof u=="function"){var T=u;u=function(){var b=Rl(R);T.call(b)}}var R=qc(t,0,!1,null,null,!1,!1,"",Rp);return t._reactRootContainer=R,t[or]=R.current,xo(t.nodeType===8?t.parentNode:t),Ci(function(){Al(r,R,o,u)}),R}function kl(t,r,o,u,h){var p=o._reactRootContainer;if(p){var _=p;if(typeof h=="function"){var T=h;h=function(){var R=Rl(_);T.call(R)}}Al(r,_,t,h)}else _=X_(o,r,t,h,u);return Rl(_)}Aa=function(t){switch(t.tag){case 3:var r=t.stateNode;if(r.current.memoizedState.isDehydrated){var o=Tr(r.pendingLanes);o!==0&&(Ar(r,o|1),Qt(r,ze()),(Ve&6)===0&&(Ds=ze()+500,Lr()))}break;case 13:Ci(function(){var u=cr(t,1);if(u!==null){var h=jt();Vn(u,t,1,h)}}),Hc(t,1)}},is=function(t){if(t.tag===13){var r=cr(t,134217728);if(r!==null){var o=jt();Vn(r,t,134217728,o)}Hc(t,134217728)}},Ra=function(t){if(t.tag===13){var r=jr(t),o=cr(t,r);if(o!==null){var u=jt();Vn(o,t,r,u)}Hc(t,r)}},Ca=function(){return Ae},Pa=function(t,r){var o=Ae;try{return Ae=t,r()}finally{Ae=o}},Gi=function(t,r,o){switch(r){case"input":if(eo(t,o),r=o.name,o.type==="radio"&&r!=null){for(o=t;o.parentNode;)o=o.parentNode;for(o=o.querySelectorAll("input[name="+JSON.stringify(""+r)+'][type="radio"]'),r=0;r<o.length;r++){var u=o[r];if(u!==t&&u.form===t.form){var h=Wa(u);if(!h)throw Error(n(90));$i(u),eo(u,h)}}}break;case"textarea":Qi(t,o);break;case"select":r=o.value,r!=null&&Jn(t,!!o.multiple,r,!1)}},ai=bc,co=Ci;var J_={usingClientEntryPoint:!1,Events:[Do,ws,Wa,Mn,uo,bc]},Qo={findFiberByHostInstance:vi,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},Z_={bundleType:Qo.bundleType,version:Qo.version,rendererPackageName:Qo.rendererPackageName,rendererConfig:Qo.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Se.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=po(t),t===null?null:t.stateNode},findFiberByHostInstance:Qo.findFiberByHostInstance||Y_,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var xl=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!xl.isDisabled&&xl.supportsFiber)try{fi=xl.inject(Z_),Xt=xl}catch{}}return Kt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=J_,Kt.createPortal=function(t,r){var o=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Qc(r))throw Error(n(200));return G_(t,r,null,o)},Kt.createRoot=function(t,r){if(!Qc(t))throw Error(n(299));var o=!1,u="",h=Ap;return r!=null&&(r.unstable_strictMode===!0&&(o=!0),r.identifierPrefix!==void 0&&(u=r.identifierPrefix),r.onRecoverableError!==void 0&&(h=r.onRecoverableError)),r=qc(t,1,!1,null,null,o,!1,u,h),t[or]=r.current,xo(t.nodeType===8?t.parentNode:t),new Wc(r)},Kt.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var r=t._reactInternals;if(r===void 0)throw typeof t.render=="function"?Error(n(188)):(t=Object.keys(t).join(","),Error(n(268,t)));return t=po(r),t=t===null?null:t.stateNode,t},Kt.flushSync=function(t){return Ci(t)},Kt.hydrate=function(t,r,o){if(!Pl(r))throw Error(n(200));return kl(null,t,r,!0,o)},Kt.hydrateRoot=function(t,r,o){if(!Qc(t))throw Error(n(405));var u=o!=null&&o.hydratedSources||null,h=!1,p="",_=Ap;if(o!=null&&(o.unstable_strictMode===!0&&(h=!0),o.identifierPrefix!==void 0&&(p=o.identifierPrefix),o.onRecoverableError!==void 0&&(_=o.onRecoverableError)),r=Ip(r,null,t,1,o??null,h,!1,p,_),t[or]=r.current,xo(t),u)for(t=0;t<u.length;t++)o=u[t],h=o._getVersion,h=h(o._source),r.mutableSourceEagerHydrationData==null?r.mutableSourceEagerHydrationData=[o,h]:r.mutableSourceEagerHydrationData.push(o,h);return new Cl(r)},Kt.render=function(t,r,o){if(!Pl(r))throw Error(n(200));return kl(null,t,r,!1,o)},Kt.unmountComponentAtNode=function(t){if(!Pl(t))throw Error(n(40));return t._reactRootContainer?(Ci(function(){kl(null,null,t,!1,function(){t._reactRootContainer=null,t[or]=null})}),!0):!1},Kt.unstable_batchedUpdates=bc,Kt.unstable_renderSubtreeIntoContainer=function(t,r,o,u){if(!Pl(o))throw Error(n(200));if(t==null||t._reactInternals===void 0)throw Error(n(38));return kl(t,r,o,!1,u)},Kt.version="18.3.1-next-f1338f8080-20240426",Kt}var Lp;function av(){if(Lp)return Yc.exports;Lp=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(e){console.error(e)}}return i(),Yc.exports=ov(),Yc.exports}var Op;function lv(){if(Op)return Nl;Op=1;var i=av();return Nl.createRoot=i.createRoot,Nl.hydrateRoot=i.hydrateRoot,Nl}var uv=lv();/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var cv={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hv=i=>i.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),Qs=(i,e)=>{const n=Li.forwardRef(({color:s="currentColor",size:a=24,strokeWidth:c=2,absoluteStrokeWidth:f,className:m="",children:y,...v},E)=>Li.createElement("svg",{ref:E,...cv,width:a,height:a,stroke:s,strokeWidth:f?Number(c)*24/Number(a):c,className:["lucide",`lucide-${hv(i)}`,m].join(" "),...v},[...e.map(([k,V])=>Li.createElement(k,V)),...Array.isArray(y)?y:[y]]));return n.displayName=`${i}`,n};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mp=Qs("Brain",[["path",{d:"M12 5a3 3 0 1 0-5.997.125 4 4 0 0 0-2.526 5.77 4 4 0 0 0 .556 6.588A4 4 0 1 0 12 18Z",key:"l5xja"}],["path",{d:"M12 5a3 3 0 1 1 5.997.125 4 4 0 0 1 2.526 5.77 4 4 0 0 1-.556 6.588A4 4 0 1 1 12 18Z",key:"ep3f8r"}],["path",{d:"M15 13a4.5 4.5 0 0 1-3-4 4.5 4.5 0 0 1-3 4",key:"1p4c4q"}],["path",{d:"M17.599 6.5a3 3 0 0 0 .399-1.375",key:"tmeiqw"}],["path",{d:"M6.003 5.125A3 3 0 0 0 6.401 6.5",key:"105sqy"}],["path",{d:"M3.477 10.896a4 4 0 0 1 .585-.396",key:"ql3yin"}],["path",{d:"M19.938 10.5a4 4 0 0 1 .585.396",key:"1qfode"}],["path",{d:"M6 18a4 4 0 0 1-1.967-.516",key:"2e4loj"}],["path",{d:"M19.967 17.484A4 4 0 0 1 18 18",key:"159ez6"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zc=Qs("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eh=Qs("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fp=Qs("Dumbbell",[["path",{d:"m6.5 6.5 11 11",key:"f7oqzb"}],["path",{d:"m21 21-1-1",key:"cpc6if"}],["path",{d:"m3 3 1 1",key:"d3rpuf"}],["path",{d:"m18 22 4-4",key:"1e32o6"}],["path",{d:"m2 6 4-4",key:"189tqz"}],["path",{d:"m3 10 7-7",key:"1bxui2"}],["path",{d:"m14 21 7-7",key:"16x78n"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bp=Qs("Heart",[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const th=Qs("HelpCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3",key:"1u773s"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);var Up={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xm=function(i){const e=[];let n=0;for(let s=0;s<i.length;s++){let a=i.charCodeAt(s);a<128?e[n++]=a:a<2048?(e[n++]=a>>6|192,e[n++]=a&63|128):(a&64512)===55296&&s+1<i.length&&(i.charCodeAt(s+1)&64512)===56320?(a=65536+((a&1023)<<10)+(i.charCodeAt(++s)&1023),e[n++]=a>>18|240,e[n++]=a>>12&63|128,e[n++]=a>>6&63|128,e[n++]=a&63|128):(e[n++]=a>>12|224,e[n++]=a>>6&63|128,e[n++]=a&63|128)}return e},fv=function(i){const e=[];let n=0,s=0;for(;n<i.length;){const a=i[n++];if(a<128)e[s++]=String.fromCharCode(a);else if(a>191&&a<224){const c=i[n++];e[s++]=String.fromCharCode((a&31)<<6|c&63)}else if(a>239&&a<365){const c=i[n++],f=i[n++],m=i[n++],y=((a&7)<<18|(c&63)<<12|(f&63)<<6|m&63)-65536;e[s++]=String.fromCharCode(55296+(y>>10)),e[s++]=String.fromCharCode(56320+(y&1023))}else{const c=i[n++],f=i[n++];e[s++]=String.fromCharCode((a&15)<<12|(c&63)<<6|f&63)}}return e.join("")},Jm={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(i,e){if(!Array.isArray(i))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let a=0;a<i.length;a+=3){const c=i[a],f=a+1<i.length,m=f?i[a+1]:0,y=a+2<i.length,v=y?i[a+2]:0,E=c>>2,k=(c&3)<<4|m>>4;let V=(m&15)<<2|v>>6,j=v&63;y||(j=64,f||(V=64)),s.push(n[E],n[k],n[V],n[j])}return s.join("")},encodeString(i,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(i):this.encodeByteArray(Xm(i),e)},decodeString(i,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(i):fv(this.decodeStringToByteArray(i,e))},decodeStringToByteArray(i,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let a=0;a<i.length;){const c=n[i.charAt(a++)],m=a<i.length?n[i.charAt(a)]:0;++a;const v=a<i.length?n[i.charAt(a)]:64;++a;const k=a<i.length?n[i.charAt(a)]:64;if(++a,c==null||m==null||v==null||k==null)throw new dv;const V=c<<2|m>>4;if(s.push(V),v!==64){const j=m<<4&240|v>>2;if(s.push(j),k!==64){const G=v<<6&192|k;s.push(G)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let i=0;i<this.ENCODED_VALS.length;i++)this.byteToCharMap_[i]=this.ENCODED_VALS.charAt(i),this.charToByteMap_[this.byteToCharMap_[i]]=i,this.byteToCharMapWebSafe_[i]=this.ENCODED_VALS_WEBSAFE.charAt(i),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[i]]=i,i>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(i)]=i,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(i)]=i)}}};class dv extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const pv=function(i){const e=Xm(i);return Jm.encodeByteArray(e,!0)},$l=function(i){return pv(i).replace(/\./g,"")},mv=function(i){try{return Jm.decodeString(i,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gv(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yv=()=>gv().__FIREBASE_DEFAULTS__,_v=()=>{if(typeof process>"u"||typeof Up>"u")return;const i=Up.__FIREBASE_DEFAULTS__;if(i)return JSON.parse(i)},vv=()=>{if(typeof document>"u")return;let i;try{i=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=i&&mv(i[1]);return e&&JSON.parse(e)},Fh=()=>{try{return yv()||_v()||vv()}catch(i){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${i}`);return}},wv=i=>{var e,n;return(n=(e=Fh())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[i]},Ev=i=>{const e=wv(i);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const s=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),s]:[e.substring(0,n),s]},Zm=()=>{var i;return(i=Fh())===null||i===void 0?void 0:i.config};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tv{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,s)=>{n?this.reject(n):this.resolve(s),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,s))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Iv(i,e){if(i.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},s=e||"demo-project",a=i.iat||0,c=i.sub||i.user_id;if(!c)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const f=Object.assign({iss:`https://securetoken.google.com/${s}`,aud:s,iat:a,exp:a+3600,auth_time:a,sub:c,user_id:c,firebase:{sign_in_provider:"custom",identities:{}}},i);return[$l(JSON.stringify(n)),$l(JSON.stringify(f)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Sv(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function Av(){var i;const e=(i=Fh())===null||i===void 0?void 0:i.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function Rv(){const i=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof i=="object"&&i.id!==void 0}function Cv(){return!Av()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function eg(){try{return typeof indexedDB=="object"}catch{return!1}}function tg(){return new Promise((i,e)=>{try{let n=!0;const s="validate-browser-context-for-indexeddb-analytics-module",a=self.indexedDB.open(s);a.onsuccess=()=>{a.result.close(),n||self.indexedDB.deleteDatabase(s),i(!0)},a.onupgradeneeded=()=>{n=!1},a.onerror=()=>{var c;e(((c=a.error)===null||c===void 0?void 0:c.message)||"")}}catch(n){e(n)}})}function Pv(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kv="FirebaseError";class ni extends Error{constructor(e,n,s){super(n),this.code=e,this.customData=s,this.name=kv,Object.setPrototypeOf(this,ni.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,su.prototype.create)}}class su{constructor(e,n,s){this.service=e,this.serviceName=n,this.errors=s}create(e,...n){const s=n[0]||{},a=`${this.service}/${e}`,c=this.errors[e],f=c?xv(c,s):"Error",m=`${this.serviceName}: ${f} (${a}).`;return new ni(a,m,s)}}function xv(i,e){return i.replace(Nv,(n,s)=>{const a=e[s];return a!=null?String(a):`<${s}?>`})}const Nv=/\{\$([^}]+)}/g;function ql(i,e){if(i===e)return!0;const n=Object.keys(i),s=Object.keys(e);for(const a of n){if(!s.includes(a))return!1;const c=i[a],f=e[a];if(jp(c)&&jp(f)){if(!ql(c,f))return!1}else if(c!==f)return!1}for(const a of s)if(!n.includes(a))return!1;return!0}function jp(i){return i!==null&&typeof i=="object"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vv=1e3,Dv=2,Lv=4*60*60*1e3,Ov=.5;function zp(i,e=Vv,n=Dv){const s=e*Math.pow(n,i),a=Math.round(Ov*s*(Math.random()-.5)*2);return Math.min(Lv,s+a)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gr(i){return i&&i._delegate?i._delegate:i}class mr{constructor(e,n,s){this.name=e,this.instanceFactory=n,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ni="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mv{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const s=new Tv;if(this.instancesDeferred.set(n,s),this.isInitialized(n)||this.shouldAutoInitialize())try{const a=this.getOrInitializeService({instanceIdentifier:n});a&&s.resolve(a)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const s=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),a=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(s)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:s})}catch(c){if(a)return null;throw c}else{if(a)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(bv(e))try{this.getOrInitializeService({instanceIdentifier:Ni})}catch{}for(const[n,s]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(n);try{const c=this.getOrInitializeService({instanceIdentifier:a});s.resolve(c)}catch{}}}}clearInstance(e=Ni){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Ni){return this.instances.has(e)}getOptions(e=Ni){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,s=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const a=this.getOrInitializeService({instanceIdentifier:s,options:n});for(const[c,f]of this.instancesDeferred.entries()){const m=this.normalizeInstanceIdentifier(c);s===m&&f.resolve(a)}return a}onInit(e,n){var s;const a=this.normalizeInstanceIdentifier(n),c=(s=this.onInitCallbacks.get(a))!==null&&s!==void 0?s:new Set;c.add(e),this.onInitCallbacks.set(a,c);const f=this.instances.get(a);return f&&e(f,a),()=>{c.delete(e)}}invokeOnInitCallbacks(e,n){const s=this.onInitCallbacks.get(n);if(s)for(const a of s)try{a(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let s=this.instances.get(e);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:Fv(e),options:n}),this.instances.set(e,s),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(s,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,s)}catch{}return s||null}normalizeInstanceIdentifier(e=Ni){return this.component?this.component.multipleInstances?e:Ni:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function Fv(i){return i===Ni?void 0:i}function bv(i){return i.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uv{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new Mv(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ke;(function(i){i[i.DEBUG=0]="DEBUG",i[i.VERBOSE=1]="VERBOSE",i[i.INFO=2]="INFO",i[i.WARN=3]="WARN",i[i.ERROR=4]="ERROR",i[i.SILENT=5]="SILENT"})(ke||(ke={}));const jv={debug:ke.DEBUG,verbose:ke.VERBOSE,info:ke.INFO,warn:ke.WARN,error:ke.ERROR,silent:ke.SILENT},zv=ke.INFO,Bv={[ke.DEBUG]:"log",[ke.VERBOSE]:"log",[ke.INFO]:"info",[ke.WARN]:"warn",[ke.ERROR]:"error"},$v=(i,e,...n)=>{if(e<i.logLevel)return;const s=new Date().toISOString(),a=Bv[e];if(a)console[a](`[${s}]  ${i.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class bh{constructor(e){this.name=e,this._logLevel=zv,this._logHandler=$v,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in ke))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?jv[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,ke.DEBUG,...e),this._logHandler(this,ke.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,ke.VERBOSE,...e),this._logHandler(this,ke.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,ke.INFO,...e),this._logHandler(this,ke.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,ke.WARN,...e),this._logHandler(this,ke.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,ke.ERROR,...e),this._logHandler(this,ke.ERROR,...e)}}const qv=(i,e)=>e.some(n=>i instanceof n);let Bp,$p;function Hv(){return Bp||(Bp=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function Wv(){return $p||($p=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const ng=new WeakMap,mh=new WeakMap,rg=new WeakMap,nh=new WeakMap,Uh=new WeakMap;function Qv(i){const e=new Promise((n,s)=>{const a=()=>{i.removeEventListener("success",c),i.removeEventListener("error",f)},c=()=>{n(Hr(i.result)),a()},f=()=>{s(i.error),a()};i.addEventListener("success",c),i.addEventListener("error",f)});return e.then(n=>{n instanceof IDBCursor&&ng.set(n,i)}).catch(()=>{}),Uh.set(e,i),e}function Kv(i){if(mh.has(i))return;const e=new Promise((n,s)=>{const a=()=>{i.removeEventListener("complete",c),i.removeEventListener("error",f),i.removeEventListener("abort",f)},c=()=>{n(),a()},f=()=>{s(i.error||new DOMException("AbortError","AbortError")),a()};i.addEventListener("complete",c),i.addEventListener("error",f),i.addEventListener("abort",f)});mh.set(i,e)}let gh={get(i,e,n){if(i instanceof IDBTransaction){if(e==="done")return mh.get(i);if(e==="objectStoreNames")return i.objectStoreNames||rg.get(i);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Hr(i[e])},set(i,e,n){return i[e]=n,!0},has(i,e){return i instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in i}};function Gv(i){gh=i(gh)}function Yv(i){return i===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const s=i.call(rh(this),e,...n);return rg.set(s,e.sort?e.sort():[e]),Hr(s)}:Wv().includes(i)?function(...e){return i.apply(rh(this),e),Hr(ng.get(this))}:function(...e){return Hr(i.apply(rh(this),e))}}function Xv(i){return typeof i=="function"?Yv(i):(i instanceof IDBTransaction&&Kv(i),qv(i,Hv())?new Proxy(i,gh):i)}function Hr(i){if(i instanceof IDBRequest)return Qv(i);if(nh.has(i))return nh.get(i);const e=Xv(i);return e!==i&&(nh.set(i,e),Uh.set(e,i)),e}const rh=i=>Uh.get(i);function ig(i,e,{blocked:n,upgrade:s,blocking:a,terminated:c}={}){const f=indexedDB.open(i,e),m=Hr(f);return s&&f.addEventListener("upgradeneeded",y=>{s(Hr(f.result),y.oldVersion,y.newVersion,Hr(f.transaction),y)}),n&&f.addEventListener("blocked",y=>n(y.oldVersion,y.newVersion,y)),m.then(y=>{c&&y.addEventListener("close",()=>c()),a&&y.addEventListener("versionchange",v=>a(v.oldVersion,v.newVersion,v))}).catch(()=>{}),m}const Jv=["get","getKey","getAll","getAllKeys","count"],Zv=["put","add","delete","clear"],ih=new Map;function qp(i,e){if(!(i instanceof IDBDatabase&&!(e in i)&&typeof e=="string"))return;if(ih.get(e))return ih.get(e);const n=e.replace(/FromIndex$/,""),s=e!==n,a=Zv.includes(n);if(!(n in(s?IDBIndex:IDBObjectStore).prototype)||!(a||Jv.includes(n)))return;const c=async function(f,...m){const y=this.transaction(f,a?"readwrite":"readonly");let v=y.store;return s&&(v=v.index(m.shift())),(await Promise.all([v[n](...m),a&&y.done]))[0]};return ih.set(e,c),c}Gv(i=>({...i,get:(e,n,s)=>qp(e,n)||i.get(e,n,s),has:(e,n)=>!!qp(e,n)||i.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class e0{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(t0(n)){const s=n.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(n=>n).join(" ")}}function t0(i){const e=i.getComponent();return(e==null?void 0:e.type)==="VERSION"}const yh="@firebase/app",Hp="0.10.15";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gr=new bh("@firebase/app"),n0="@firebase/app-compat",r0="@firebase/analytics-compat",i0="@firebase/analytics",s0="@firebase/app-check-compat",o0="@firebase/app-check",a0="@firebase/auth",l0="@firebase/auth-compat",u0="@firebase/database",c0="@firebase/data-connect",h0="@firebase/database-compat",f0="@firebase/functions",d0="@firebase/functions-compat",p0="@firebase/installations",m0="@firebase/installations-compat",g0="@firebase/messaging",y0="@firebase/messaging-compat",_0="@firebase/performance",v0="@firebase/performance-compat",w0="@firebase/remote-config",E0="@firebase/remote-config-compat",T0="@firebase/storage",I0="@firebase/storage-compat",S0="@firebase/firestore",A0="@firebase/vertexai",R0="@firebase/firestore-compat",C0="firebase",P0="11.0.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _h="[DEFAULT]",k0={[yh]:"fire-core",[n0]:"fire-core-compat",[i0]:"fire-analytics",[r0]:"fire-analytics-compat",[o0]:"fire-app-check",[s0]:"fire-app-check-compat",[a0]:"fire-auth",[l0]:"fire-auth-compat",[u0]:"fire-rtdb",[c0]:"fire-data-connect",[h0]:"fire-rtdb-compat",[f0]:"fire-fn",[d0]:"fire-fn-compat",[p0]:"fire-iid",[m0]:"fire-iid-compat",[g0]:"fire-fcm",[y0]:"fire-fcm-compat",[_0]:"fire-perf",[v0]:"fire-perf-compat",[w0]:"fire-rc",[E0]:"fire-rc-compat",[T0]:"fire-gcs",[I0]:"fire-gcs-compat",[S0]:"fire-fst",[R0]:"fire-fst-compat",[A0]:"fire-vertex","fire-js":"fire-js",[C0]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hl=new Map,x0=new Map,vh=new Map;function Wp(i,e){try{i.container.addComponent(e)}catch(n){gr.debug(`Component ${e.name} failed to register with FirebaseApp ${i.name}`,n)}}function Yr(i){const e=i.name;if(vh.has(e))return gr.debug(`There were multiple attempts to register component ${e}.`),!1;vh.set(e,i);for(const n of Hl.values())Wp(n,i);for(const n of x0.values())Wp(n,i);return!0}function ca(i,e){const n=i.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),i.container.getProvider(e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const N0={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Wr=new su("app","Firebase",N0);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class V0{constructor(e,n,s){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new mr("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Wr.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const D0=P0;function sg(i,e={}){let n=i;typeof e!="object"&&(e={name:e});const s=Object.assign({name:_h,automaticDataCollectionEnabled:!1},e),a=s.name;if(typeof a!="string"||!a)throw Wr.create("bad-app-name",{appName:String(a)});if(n||(n=Zm()),!n)throw Wr.create("no-options");const c=Hl.get(a);if(c){if(ql(n,c.options)&&ql(s,c.config))return c;throw Wr.create("duplicate-app",{appName:a})}const f=new Uv(a);for(const y of vh.values())f.addComponent(y);const m=new V0(n,s,f);return Hl.set(a,m),m}function og(i=_h){const e=Hl.get(i);if(!e&&i===_h&&Zm())return sg();if(!e)throw Wr.create("no-app",{appName:i});return e}function Wn(i,e,n){var s;let a=(s=k0[i])!==null&&s!==void 0?s:i;n&&(a+=`-${n}`);const c=a.match(/\s|\//),f=e.match(/\s|\//);if(c||f){const m=[`Unable to register library "${a}" with version "${e}":`];c&&m.push(`library name "${a}" contains illegal characters (whitespace or "/")`),c&&f&&m.push("and"),f&&m.push(`version name "${e}" contains illegal characters (whitespace or "/")`),gr.warn(m.join(" "));return}Yr(new mr(`${a}-version`,()=>({library:a,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const L0="firebase-heartbeat-database",O0=1,ra="firebase-heartbeat-store";let sh=null;function ag(){return sh||(sh=ig(L0,O0,{upgrade:(i,e)=>{switch(e){case 0:try{i.createObjectStore(ra)}catch(n){console.warn(n)}}}}).catch(i=>{throw Wr.create("idb-open",{originalErrorMessage:i.message})})),sh}async function M0(i){try{const n=(await ag()).transaction(ra),s=await n.objectStore(ra).get(lg(i));return await n.done,s}catch(e){if(e instanceof ni)gr.warn(e.message);else{const n=Wr.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});gr.warn(n.message)}}}async function Qp(i,e){try{const s=(await ag()).transaction(ra,"readwrite");await s.objectStore(ra).put(e,lg(i)),await s.done}catch(n){if(n instanceof ni)gr.warn(n.message);else{const s=Wr.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});gr.warn(s.message)}}}function lg(i){return`${i.name}!${i.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const F0=1024,b0=30*24*60*60*1e3;class U0{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new z0(n),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){var e,n;try{const a=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),c=Kp();return((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===c||this._heartbeatsCache.heartbeats.some(f=>f.date===c)?void 0:(this._heartbeatsCache.heartbeats.push({date:c,agent:a}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(f=>{const m=new Date(f.date).valueOf();return Date.now()-m<=b0}),this._storage.overwrite(this._heartbeatsCache))}catch(s){gr.warn(s)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=Kp(),{heartbeatsToSend:s,unsentEntries:a}=j0(this._heartbeatsCache.heartbeats),c=$l(JSON.stringify({version:2,heartbeats:s}));return this._heartbeatsCache.lastSentHeartbeatDate=n,a.length>0?(this._heartbeatsCache.heartbeats=a,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),c}catch(n){return gr.warn(n),""}}}function Kp(){return new Date().toISOString().substring(0,10)}function j0(i,e=F0){const n=[];let s=i.slice();for(const a of i){const c=n.find(f=>f.agent===a.agent);if(c){if(c.dates.push(a.date),Gp(n)>e){c.dates.pop();break}}else if(n.push({agent:a.agent,dates:[a.date]}),Gp(n)>e){n.pop();break}s=s.slice(1)}return{heartbeatsToSend:n,unsentEntries:s}}class z0{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return eg()?tg().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await M0(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const a=await this.read();return Qp(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:a.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const a=await this.read();return Qp(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:a.lastSentHeartbeatDate,heartbeats:[...a.heartbeats,...e.heartbeats]})}else return}}function Gp(i){return $l(JSON.stringify({version:2,heartbeats:i})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function B0(i){Yr(new mr("platform-logger",e=>new e0(e),"PRIVATE")),Yr(new mr("heartbeat",e=>new U0(e),"PRIVATE")),Wn(yh,Hp,i),Wn(yh,Hp,"esm2017"),Wn("fire-js","")}B0("");var $0="firebase",q0="11.0.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Wn($0,q0,"app");const ug="@firebase/installations",jh="0.6.10";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cg=1e4,hg=`w:${jh}`,fg="FIS_v2",H0="https://firebaseinstallations.googleapis.com/v1",W0=60*60*1e3,Q0="installations",K0="Installations";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const G0={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."},Mi=new su(Q0,K0,G0);function dg(i){return i instanceof ni&&i.code.includes("request-failed")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pg({projectId:i}){return`${H0}/projects/${i}/installations`}function mg(i){return{token:i.token,requestStatus:2,expiresIn:X0(i.expiresIn),creationTime:Date.now()}}async function gg(i,e){const s=(await e.json()).error;return Mi.create("request-failed",{requestName:i,serverCode:s.code,serverMessage:s.message,serverStatus:s.status})}function yg({apiKey:i}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":i})}function Y0(i,{refreshToken:e}){const n=yg(i);return n.append("Authorization",J0(e)),n}async function _g(i){const e=await i();return e.status>=500&&e.status<600?i():e}function X0(i){return Number(i.replace("s","000"))}function J0(i){return`${fg} ${i}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Z0({appConfig:i,heartbeatServiceProvider:e},{fid:n}){const s=pg(i),a=yg(i),c=e.getImmediate({optional:!0});if(c){const v=await c.getHeartbeatsHeader();v&&a.append("x-firebase-client",v)}const f={fid:n,authVersion:fg,appId:i.appId,sdkVersion:hg},m={method:"POST",headers:a,body:JSON.stringify(f)},y=await _g(()=>fetch(s,m));if(y.ok){const v=await y.json();return{fid:v.fid||n,registrationStatus:2,refreshToken:v.refreshToken,authToken:mg(v.authToken)}}else throw await gg("Create Installation",y)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vg(i){return new Promise(e=>{setTimeout(e,i)})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ew(i){return btoa(String.fromCharCode(...i)).replace(/\+/g,"-").replace(/\//g,"_")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tw=/^[cdef][\w-]{21}$/,wh="";function nw(){try{const i=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(i),i[0]=112+i[0]%16;const n=rw(i);return tw.test(n)?n:wh}catch{return wh}}function rw(i){return ew(i).substr(0,22)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ou(i){return`${i.appName}!${i.appId}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wg=new Map;function Eg(i,e){const n=ou(i);Tg(n,e),iw(n,e)}function Tg(i,e){const n=wg.get(i);if(n)for(const s of n)s(e)}function iw(i,e){const n=sw();n&&n.postMessage({key:i,fid:e}),ow()}let Vi=null;function sw(){return!Vi&&"BroadcastChannel"in self&&(Vi=new BroadcastChannel("[Firebase] FID Change"),Vi.onmessage=i=>{Tg(i.data.key,i.data.fid)}),Vi}function ow(){wg.size===0&&Vi&&(Vi.close(),Vi=null)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aw="firebase-installations-database",lw=1,Fi="firebase-installations-store";let oh=null;function zh(){return oh||(oh=ig(aw,lw,{upgrade:(i,e)=>{switch(e){case 0:i.createObjectStore(Fi)}}})),oh}async function Wl(i,e){const n=ou(i),a=(await zh()).transaction(Fi,"readwrite"),c=a.objectStore(Fi),f=await c.get(n);return await c.put(e,n),await a.done,(!f||f.fid!==e.fid)&&Eg(i,e.fid),e}async function Ig(i){const e=ou(i),s=(await zh()).transaction(Fi,"readwrite");await s.objectStore(Fi).delete(e),await s.done}async function au(i,e){const n=ou(i),a=(await zh()).transaction(Fi,"readwrite"),c=a.objectStore(Fi),f=await c.get(n),m=e(f);return m===void 0?await c.delete(n):await c.put(m,n),await a.done,m&&(!f||f.fid!==m.fid)&&Eg(i,m.fid),m}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Bh(i){let e;const n=await au(i.appConfig,s=>{const a=uw(s),c=cw(i,a);return e=c.registrationPromise,c.installationEntry});return n.fid===wh?{installationEntry:await e}:{installationEntry:n,registrationPromise:e}}function uw(i){const e=i||{fid:nw(),registrationStatus:0};return Sg(e)}function cw(i,e){if(e.registrationStatus===0){if(!navigator.onLine){const a=Promise.reject(Mi.create("app-offline"));return{installationEntry:e,registrationPromise:a}}const n={fid:e.fid,registrationStatus:1,registrationTime:Date.now()},s=hw(i,n);return{installationEntry:n,registrationPromise:s}}else return e.registrationStatus===1?{installationEntry:e,registrationPromise:fw(i)}:{installationEntry:e}}async function hw(i,e){try{const n=await Z0(i,e);return Wl(i.appConfig,n)}catch(n){throw dg(n)&&n.customData.serverCode===409?await Ig(i.appConfig):await Wl(i.appConfig,{fid:e.fid,registrationStatus:0}),n}}async function fw(i){let e=await Yp(i.appConfig);for(;e.registrationStatus===1;)await vg(100),e=await Yp(i.appConfig);if(e.registrationStatus===0){const{installationEntry:n,registrationPromise:s}=await Bh(i);return s||n}return e}function Yp(i){return au(i,e=>{if(!e)throw Mi.create("installation-not-found");return Sg(e)})}function Sg(i){return dw(i)?{fid:i.fid,registrationStatus:0}:i}function dw(i){return i.registrationStatus===1&&i.registrationTime+cg<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function pw({appConfig:i,heartbeatServiceProvider:e},n){const s=mw(i,n),a=Y0(i,n),c=e.getImmediate({optional:!0});if(c){const v=await c.getHeartbeatsHeader();v&&a.append("x-firebase-client",v)}const f={installation:{sdkVersion:hg,appId:i.appId}},m={method:"POST",headers:a,body:JSON.stringify(f)},y=await _g(()=>fetch(s,m));if(y.ok){const v=await y.json();return mg(v)}else throw await gg("Generate Auth Token",y)}function mw(i,{fid:e}){return`${pg(i)}/${e}/authTokens:generate`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function $h(i,e=!1){let n;const s=await au(i.appConfig,c=>{if(!Ag(c))throw Mi.create("not-registered");const f=c.authToken;if(!e&&_w(f))return c;if(f.requestStatus===1)return n=gw(i,e),c;{if(!navigator.onLine)throw Mi.create("app-offline");const m=ww(c);return n=yw(i,m),m}});return n?await n:s.authToken}async function gw(i,e){let n=await Xp(i.appConfig);for(;n.authToken.requestStatus===1;)await vg(100),n=await Xp(i.appConfig);const s=n.authToken;return s.requestStatus===0?$h(i,e):s}function Xp(i){return au(i,e=>{if(!Ag(e))throw Mi.create("not-registered");const n=e.authToken;return Ew(n)?Object.assign(Object.assign({},e),{authToken:{requestStatus:0}}):e})}async function yw(i,e){try{const n=await pw(i,e),s=Object.assign(Object.assign({},e),{authToken:n});return await Wl(i.appConfig,s),n}catch(n){if(dg(n)&&(n.customData.serverCode===401||n.customData.serverCode===404))await Ig(i.appConfig);else{const s=Object.assign(Object.assign({},e),{authToken:{requestStatus:0}});await Wl(i.appConfig,s)}throw n}}function Ag(i){return i!==void 0&&i.registrationStatus===2}function _w(i){return i.requestStatus===2&&!vw(i)}function vw(i){const e=Date.now();return e<i.creationTime||i.creationTime+i.expiresIn<e+W0}function ww(i){const e={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},i),{authToken:e})}function Ew(i){return i.requestStatus===1&&i.requestTime+cg<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Tw(i){const e=i,{installationEntry:n,registrationPromise:s}=await Bh(e);return s?s.catch(console.error):$h(e).catch(console.error),n.fid}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Iw(i,e=!1){const n=i;return await Sw(n),(await $h(n,e)).token}async function Sw(i){const{registrationPromise:e}=await Bh(i);e&&await e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Aw(i){if(!i||!i.options)throw ah("App Configuration");if(!i.name)throw ah("App Name");const e=["projectId","apiKey","appId"];for(const n of e)if(!i.options[n])throw ah(n);return{appName:i.name,projectId:i.options.projectId,apiKey:i.options.apiKey,appId:i.options.appId}}function ah(i){return Mi.create("missing-app-config-values",{valueName:i})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rg="installations",Rw="installations-internal",Cw=i=>{const e=i.getProvider("app").getImmediate(),n=Aw(e),s=ca(e,"heartbeat");return{app:e,appConfig:n,heartbeatServiceProvider:s,_delete:()=>Promise.resolve()}},Pw=i=>{const e=i.getProvider("app").getImmediate(),n=ca(e,Rg).getImmediate();return{getId:()=>Tw(n),getToken:a=>Iw(n,a)}};function kw(){Yr(new mr(Rg,Cw,"PUBLIC")),Yr(new mr(Rw,Pw,"PRIVATE"))}kw();Wn(ug,jh);Wn(ug,jh,"esm2017");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ql="analytics",xw="firebase_id",Nw="origin",Vw=60*1e3,Dw="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",qh="https://www.googletagmanager.com/gtag/js";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yt=new bh("@firebase/analytics");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lw={"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-initialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."},sn=new su("analytics","Analytics",Lw);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ow(i){if(!i.startsWith(qh)){const e=sn.create("invalid-gtag-resource",{gtagURL:i});return Yt.warn(e.message),""}return i}function Cg(i){return Promise.all(i.map(e=>e.catch(n=>n)))}function Mw(i,e){let n;return window.trustedTypes&&(n=window.trustedTypes.createPolicy(i,e)),n}function Fw(i,e){const n=Mw("firebase-js-sdk-policy",{createScriptURL:Ow}),s=document.createElement("script"),a=`${qh}?l=${i}&id=${e}`;s.src=n?n==null?void 0:n.createScriptURL(a):a,s.async=!0,document.head.appendChild(s)}function bw(i){let e=[];return Array.isArray(window[i])?e=window[i]:window[i]=e,e}async function Uw(i,e,n,s,a,c){const f=s[a];try{if(f)await e[f];else{const y=(await Cg(n)).find(v=>v.measurementId===a);y&&await e[y.appId]}}catch(m){Yt.error(m)}i("config",a,c)}async function jw(i,e,n,s,a){try{let c=[];if(a&&a.send_to){let f=a.send_to;Array.isArray(f)||(f=[f]);const m=await Cg(n);for(const y of f){const v=m.find(k=>k.measurementId===y),E=v&&e[v.appId];if(E)c.push(E);else{c=[];break}}}c.length===0&&(c=Object.values(e)),await Promise.all(c),i("event",s,a||{})}catch(c){Yt.error(c)}}function zw(i,e,n,s){async function a(c,...f){try{if(c==="event"){const[m,y]=f;await jw(i,e,n,m,y)}else if(c==="config"){const[m,y]=f;await Uw(i,e,n,s,m,y)}else if(c==="consent"){const[m,y]=f;i("consent",m,y)}else if(c==="get"){const[m,y,v]=f;i("get",m,y,v)}else if(c==="set"){const[m]=f;i("set",m)}else i(c,...f)}catch(m){Yt.error(m)}}return a}function Bw(i,e,n,s,a){let c=function(...f){window[s].push(arguments)};return window[a]&&typeof window[a]=="function"&&(c=window[a]),window[a]=zw(c,i,e,n),{gtagCore:c,wrappedGtag:window[a]}}function $w(i){const e=window.document.getElementsByTagName("script");for(const n of Object.values(e))if(n.src&&n.src.includes(qh)&&n.src.includes(i))return n;return null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qw=30,Hw=1e3;class Ww{constructor(e={},n=Hw){this.throttleMetadata=e,this.intervalMillis=n}getThrottleMetadata(e){return this.throttleMetadata[e]}setThrottleMetadata(e,n){this.throttleMetadata[e]=n}deleteThrottleMetadata(e){delete this.throttleMetadata[e]}}const Pg=new Ww;function Qw(i){return new Headers({Accept:"application/json","x-goog-api-key":i})}async function Kw(i){var e;const{appId:n,apiKey:s}=i,a={method:"GET",headers:Qw(s)},c=Dw.replace("{app-id}",n),f=await fetch(c,a);if(f.status!==200&&f.status!==304){let m="";try{const y=await f.json();!((e=y.error)===null||e===void 0)&&e.message&&(m=y.error.message)}catch{}throw sn.create("config-fetch-failed",{httpStatus:f.status,responseMessage:m})}return f.json()}async function Gw(i,e=Pg,n){const{appId:s,apiKey:a,measurementId:c}=i.options;if(!s)throw sn.create("no-app-id");if(!a){if(c)return{measurementId:c,appId:s};throw sn.create("no-api-key")}const f=e.getThrottleMetadata(s)||{backoffCount:0,throttleEndTimeMillis:Date.now()},m=new Jw;return setTimeout(async()=>{m.abort()},Vw),kg({appId:s,apiKey:a,measurementId:c},f,m,e)}async function kg(i,{throttleEndTimeMillis:e,backoffCount:n},s,a=Pg){var c;const{appId:f,measurementId:m}=i;try{await Yw(s,e)}catch(y){if(m)return Yt.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${m} provided in the "measurementId" field in the local Firebase config. [${y==null?void 0:y.message}]`),{appId:f,measurementId:m};throw y}try{const y=await Kw(i);return a.deleteThrottleMetadata(f),y}catch(y){const v=y;if(!Xw(v)){if(a.deleteThrottleMetadata(f),m)return Yt.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${m} provided in the "measurementId" field in the local Firebase config. [${v==null?void 0:v.message}]`),{appId:f,measurementId:m};throw y}const E=Number((c=v==null?void 0:v.customData)===null||c===void 0?void 0:c.httpStatus)===503?zp(n,a.intervalMillis,qw):zp(n,a.intervalMillis),k={throttleEndTimeMillis:Date.now()+E,backoffCount:n+1};return a.setThrottleMetadata(f,k),Yt.debug(`Calling attemptFetch again in ${E} millis`),kg(i,k,s,a)}}function Yw(i,e){return new Promise((n,s)=>{const a=Math.max(e-Date.now(),0),c=setTimeout(n,a);i.addEventListener(()=>{clearTimeout(c),s(sn.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}function Xw(i){if(!(i instanceof ni)||!i.customData)return!1;const e=Number(i.customData.httpStatus);return e===429||e===500||e===503||e===504}class Jw{constructor(){this.listeners=[]}addEventListener(e){this.listeners.push(e)}abort(){this.listeners.forEach(e=>e())}}async function Zw(i,e,n,s,a){if(a&&a.global){i("event",n,s);return}else{const c=await e,f=Object.assign(Object.assign({},s),{send_to:c});i("event",n,f)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function eE(){if(eg())try{await tg()}catch(i){return Yt.warn(sn.create("indexeddb-unavailable",{errorInfo:i==null?void 0:i.toString()}).message),!1}else return Yt.warn(sn.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;return!0}async function tE(i,e,n,s,a,c,f){var m;const y=Gw(i);y.then(j=>{n[j.measurementId]=j.appId,i.options.measurementId&&j.measurementId!==i.options.measurementId&&Yt.warn(`The measurement ID in the local Firebase config (${i.options.measurementId}) does not match the measurement ID fetched from the server (${j.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(j=>Yt.error(j)),e.push(y);const v=eE().then(j=>{if(j)return s.getId()}),[E,k]=await Promise.all([y,v]);$w(c)||Fw(c,E.measurementId),a("js",new Date);const V=(m=f==null?void 0:f.config)!==null&&m!==void 0?m:{};return V[Nw]="firebase",V.update=!0,k!=null&&(V[xw]=k),a("config",E.measurementId,V),E.measurementId}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nE{constructor(e){this.app=e}_delete(){return delete Jo[this.app.options.appId],Promise.resolve()}}let Jo={},Jp=[];const Zp={};let lh="dataLayer",rE="gtag",em,xg,tm=!1;function iE(){const i=[];if(Rv()&&i.push("This is a browser extension environment."),Pv()||i.push("Cookies are not available."),i.length>0){const e=i.map((s,a)=>`(${a+1}) ${s}`).join(" "),n=sn.create("invalid-analytics-context",{errorInfo:e});Yt.warn(n.message)}}function sE(i,e,n){iE();const s=i.options.appId;if(!s)throw sn.create("no-app-id");if(!i.options.apiKey)if(i.options.measurementId)Yt.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${i.options.measurementId} provided in the "measurementId" field in the local Firebase config.`);else throw sn.create("no-api-key");if(Jo[s]!=null)throw sn.create("already-exists",{id:s});if(!tm){bw(lh);const{wrappedGtag:c,gtagCore:f}=Bw(Jo,Jp,Zp,lh,rE);xg=c,em=f,tm=!0}return Jo[s]=tE(i,Jp,Zp,e,em,lh,n),new nE(i)}function oE(i=og()){i=Gr(i);const e=ca(i,Ql);return e.isInitialized()?e.getImmediate():aE(i)}function aE(i,e={}){const n=ca(i,Ql);if(n.isInitialized()){const a=n.getImmediate();if(ql(e,n.getOptions()))return a;throw sn.create("already-initialized")}return n.initialize({options:e})}function lE(i,e,n,s){i=Gr(i),Zw(xg,Jo[i.app.options.appId],e,n,s).catch(a=>Yt.error(a))}const nm="@firebase/analytics",rm="0.10.9";function uE(){Yr(new mr(Ql,(e,{options:n})=>{const s=e.getProvider("app").getImmediate(),a=e.getProvider("installations-internal").getImmediate();return sE(s,a,n)},"PUBLIC")),Yr(new mr("analytics-internal",i,"PRIVATE")),Wn(nm,rm),Wn(nm,rm,"esm2017");function i(e){try{const n=e.getProvider(Ql).getImmediate();return{logEvent:(s,a,c)=>lE(n,s,a,c)}}catch(n){throw sn.create("interop-component-reg-failed",{reason:n})}}}uE();var im=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Oi,Ng;(function(){var i;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(x,I){function A(){}A.prototype=I.prototype,x.D=I.prototype,x.prototype=new A,x.prototype.constructor=x,x.C=function(P,N,L){for(var S=Array(arguments.length-2),Ze=2;Ze<arguments.length;Ze++)S[Ze-2]=arguments[Ze];return I.prototype[N].apply(P,S)}}function n(){this.blockSize=-1}function s(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(s,n),s.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function a(x,I,A){A||(A=0);var P=Array(16);if(typeof I=="string")for(var N=0;16>N;++N)P[N]=I.charCodeAt(A++)|I.charCodeAt(A++)<<8|I.charCodeAt(A++)<<16|I.charCodeAt(A++)<<24;else for(N=0;16>N;++N)P[N]=I[A++]|I[A++]<<8|I[A++]<<16|I[A++]<<24;I=x.g[0],A=x.g[1],N=x.g[2];var L=x.g[3],S=I+(L^A&(N^L))+P[0]+3614090360&4294967295;I=A+(S<<7&4294967295|S>>>25),S=L+(N^I&(A^N))+P[1]+3905402710&4294967295,L=I+(S<<12&4294967295|S>>>20),S=N+(A^L&(I^A))+P[2]+606105819&4294967295,N=L+(S<<17&4294967295|S>>>15),S=A+(I^N&(L^I))+P[3]+3250441966&4294967295,A=N+(S<<22&4294967295|S>>>10),S=I+(L^A&(N^L))+P[4]+4118548399&4294967295,I=A+(S<<7&4294967295|S>>>25),S=L+(N^I&(A^N))+P[5]+1200080426&4294967295,L=I+(S<<12&4294967295|S>>>20),S=N+(A^L&(I^A))+P[6]+2821735955&4294967295,N=L+(S<<17&4294967295|S>>>15),S=A+(I^N&(L^I))+P[7]+4249261313&4294967295,A=N+(S<<22&4294967295|S>>>10),S=I+(L^A&(N^L))+P[8]+1770035416&4294967295,I=A+(S<<7&4294967295|S>>>25),S=L+(N^I&(A^N))+P[9]+2336552879&4294967295,L=I+(S<<12&4294967295|S>>>20),S=N+(A^L&(I^A))+P[10]+4294925233&4294967295,N=L+(S<<17&4294967295|S>>>15),S=A+(I^N&(L^I))+P[11]+2304563134&4294967295,A=N+(S<<22&4294967295|S>>>10),S=I+(L^A&(N^L))+P[12]+1804603682&4294967295,I=A+(S<<7&4294967295|S>>>25),S=L+(N^I&(A^N))+P[13]+4254626195&4294967295,L=I+(S<<12&4294967295|S>>>20),S=N+(A^L&(I^A))+P[14]+2792965006&4294967295,N=L+(S<<17&4294967295|S>>>15),S=A+(I^N&(L^I))+P[15]+1236535329&4294967295,A=N+(S<<22&4294967295|S>>>10),S=I+(N^L&(A^N))+P[1]+4129170786&4294967295,I=A+(S<<5&4294967295|S>>>27),S=L+(A^N&(I^A))+P[6]+3225465664&4294967295,L=I+(S<<9&4294967295|S>>>23),S=N+(I^A&(L^I))+P[11]+643717713&4294967295,N=L+(S<<14&4294967295|S>>>18),S=A+(L^I&(N^L))+P[0]+3921069994&4294967295,A=N+(S<<20&4294967295|S>>>12),S=I+(N^L&(A^N))+P[5]+3593408605&4294967295,I=A+(S<<5&4294967295|S>>>27),S=L+(A^N&(I^A))+P[10]+38016083&4294967295,L=I+(S<<9&4294967295|S>>>23),S=N+(I^A&(L^I))+P[15]+3634488961&4294967295,N=L+(S<<14&4294967295|S>>>18),S=A+(L^I&(N^L))+P[4]+3889429448&4294967295,A=N+(S<<20&4294967295|S>>>12),S=I+(N^L&(A^N))+P[9]+568446438&4294967295,I=A+(S<<5&4294967295|S>>>27),S=L+(A^N&(I^A))+P[14]+3275163606&4294967295,L=I+(S<<9&4294967295|S>>>23),S=N+(I^A&(L^I))+P[3]+4107603335&4294967295,N=L+(S<<14&4294967295|S>>>18),S=A+(L^I&(N^L))+P[8]+1163531501&4294967295,A=N+(S<<20&4294967295|S>>>12),S=I+(N^L&(A^N))+P[13]+2850285829&4294967295,I=A+(S<<5&4294967295|S>>>27),S=L+(A^N&(I^A))+P[2]+4243563512&4294967295,L=I+(S<<9&4294967295|S>>>23),S=N+(I^A&(L^I))+P[7]+1735328473&4294967295,N=L+(S<<14&4294967295|S>>>18),S=A+(L^I&(N^L))+P[12]+2368359562&4294967295,A=N+(S<<20&4294967295|S>>>12),S=I+(A^N^L)+P[5]+4294588738&4294967295,I=A+(S<<4&4294967295|S>>>28),S=L+(I^A^N)+P[8]+2272392833&4294967295,L=I+(S<<11&4294967295|S>>>21),S=N+(L^I^A)+P[11]+1839030562&4294967295,N=L+(S<<16&4294967295|S>>>16),S=A+(N^L^I)+P[14]+4259657740&4294967295,A=N+(S<<23&4294967295|S>>>9),S=I+(A^N^L)+P[1]+2763975236&4294967295,I=A+(S<<4&4294967295|S>>>28),S=L+(I^A^N)+P[4]+1272893353&4294967295,L=I+(S<<11&4294967295|S>>>21),S=N+(L^I^A)+P[7]+4139469664&4294967295,N=L+(S<<16&4294967295|S>>>16),S=A+(N^L^I)+P[10]+3200236656&4294967295,A=N+(S<<23&4294967295|S>>>9),S=I+(A^N^L)+P[13]+681279174&4294967295,I=A+(S<<4&4294967295|S>>>28),S=L+(I^A^N)+P[0]+3936430074&4294967295,L=I+(S<<11&4294967295|S>>>21),S=N+(L^I^A)+P[3]+3572445317&4294967295,N=L+(S<<16&4294967295|S>>>16),S=A+(N^L^I)+P[6]+76029189&4294967295,A=N+(S<<23&4294967295|S>>>9),S=I+(A^N^L)+P[9]+3654602809&4294967295,I=A+(S<<4&4294967295|S>>>28),S=L+(I^A^N)+P[12]+3873151461&4294967295,L=I+(S<<11&4294967295|S>>>21),S=N+(L^I^A)+P[15]+530742520&4294967295,N=L+(S<<16&4294967295|S>>>16),S=A+(N^L^I)+P[2]+3299628645&4294967295,A=N+(S<<23&4294967295|S>>>9),S=I+(N^(A|~L))+P[0]+4096336452&4294967295,I=A+(S<<6&4294967295|S>>>26),S=L+(A^(I|~N))+P[7]+1126891415&4294967295,L=I+(S<<10&4294967295|S>>>22),S=N+(I^(L|~A))+P[14]+2878612391&4294967295,N=L+(S<<15&4294967295|S>>>17),S=A+(L^(N|~I))+P[5]+4237533241&4294967295,A=N+(S<<21&4294967295|S>>>11),S=I+(N^(A|~L))+P[12]+1700485571&4294967295,I=A+(S<<6&4294967295|S>>>26),S=L+(A^(I|~N))+P[3]+2399980690&4294967295,L=I+(S<<10&4294967295|S>>>22),S=N+(I^(L|~A))+P[10]+4293915773&4294967295,N=L+(S<<15&4294967295|S>>>17),S=A+(L^(N|~I))+P[1]+2240044497&4294967295,A=N+(S<<21&4294967295|S>>>11),S=I+(N^(A|~L))+P[8]+1873313359&4294967295,I=A+(S<<6&4294967295|S>>>26),S=L+(A^(I|~N))+P[15]+4264355552&4294967295,L=I+(S<<10&4294967295|S>>>22),S=N+(I^(L|~A))+P[6]+2734768916&4294967295,N=L+(S<<15&4294967295|S>>>17),S=A+(L^(N|~I))+P[13]+1309151649&4294967295,A=N+(S<<21&4294967295|S>>>11),S=I+(N^(A|~L))+P[4]+4149444226&4294967295,I=A+(S<<6&4294967295|S>>>26),S=L+(A^(I|~N))+P[11]+3174756917&4294967295,L=I+(S<<10&4294967295|S>>>22),S=N+(I^(L|~A))+P[2]+718787259&4294967295,N=L+(S<<15&4294967295|S>>>17),S=A+(L^(N|~I))+P[9]+3951481745&4294967295,x.g[0]=x.g[0]+I&4294967295,x.g[1]=x.g[1]+(N+(S<<21&4294967295|S>>>11))&4294967295,x.g[2]=x.g[2]+N&4294967295,x.g[3]=x.g[3]+L&4294967295}s.prototype.u=function(x,I){I===void 0&&(I=x.length);for(var A=I-this.blockSize,P=this.B,N=this.h,L=0;L<I;){if(N==0)for(;L<=A;)a(this,x,L),L+=this.blockSize;if(typeof x=="string"){for(;L<I;)if(P[N++]=x.charCodeAt(L++),N==this.blockSize){a(this,P),N=0;break}}else for(;L<I;)if(P[N++]=x[L++],N==this.blockSize){a(this,P),N=0;break}}this.h=N,this.o+=I},s.prototype.v=function(){var x=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);x[0]=128;for(var I=1;I<x.length-8;++I)x[I]=0;var A=8*this.o;for(I=x.length-8;I<x.length;++I)x[I]=A&255,A/=256;for(this.u(x),x=Array(16),I=A=0;4>I;++I)for(var P=0;32>P;P+=8)x[A++]=this.g[I]>>>P&255;return x};function c(x,I){var A=m;return Object.prototype.hasOwnProperty.call(A,x)?A[x]:A[x]=I(x)}function f(x,I){this.h=I;for(var A=[],P=!0,N=x.length-1;0<=N;N--){var L=x[N]|0;P&&L==I||(A[N]=L,P=!1)}this.g=A}var m={};function y(x){return-128<=x&&128>x?c(x,function(I){return new f([I|0],0>I?-1:0)}):new f([x|0],0>x?-1:0)}function v(x){if(isNaN(x)||!isFinite(x))return k;if(0>x)return Q(v(-x));for(var I=[],A=1,P=0;x>=A;P++)I[P]=x/A|0,A*=4294967296;return new f(I,0)}function E(x,I){if(x.length==0)throw Error("number format error: empty string");if(I=I||10,2>I||36<I)throw Error("radix out of range: "+I);if(x.charAt(0)=="-")return Q(E(x.substring(1),I));if(0<=x.indexOf("-"))throw Error('number format error: interior "-" character');for(var A=v(Math.pow(I,8)),P=k,N=0;N<x.length;N+=8){var L=Math.min(8,x.length-N),S=parseInt(x.substring(N,N+L),I);8>L?(L=v(Math.pow(I,L)),P=P.j(L).add(v(S))):(P=P.j(A),P=P.add(v(S)))}return P}var k=y(0),V=y(1),j=y(16777216);i=f.prototype,i.m=function(){if(Z(this))return-Q(this).m();for(var x=0,I=1,A=0;A<this.g.length;A++){var P=this.i(A);x+=(0<=P?P:4294967296+P)*I,I*=4294967296}return x},i.toString=function(x){if(x=x||10,2>x||36<x)throw Error("radix out of range: "+x);if(G(this))return"0";if(Z(this))return"-"+Q(this).toString(x);for(var I=v(Math.pow(x,6)),A=this,P="";;){var N=Se(A,I).g;A=ve(A,N.j(I));var L=((0<A.g.length?A.g[0]:A.h)>>>0).toString(x);if(A=N,G(A))return L+P;for(;6>L.length;)L="0"+L;P=L+P}},i.i=function(x){return 0>x?0:x<this.g.length?this.g[x]:this.h};function G(x){if(x.h!=0)return!1;for(var I=0;I<x.g.length;I++)if(x.g[I]!=0)return!1;return!0}function Z(x){return x.h==-1}i.l=function(x){return x=ve(this,x),Z(x)?-1:G(x)?0:1};function Q(x){for(var I=x.g.length,A=[],P=0;P<I;P++)A[P]=~x.g[P];return new f(A,~x.h).add(V)}i.abs=function(){return Z(this)?Q(this):this},i.add=function(x){for(var I=Math.max(this.g.length,x.g.length),A=[],P=0,N=0;N<=I;N++){var L=P+(this.i(N)&65535)+(x.i(N)&65535),S=(L>>>16)+(this.i(N)>>>16)+(x.i(N)>>>16);P=S>>>16,L&=65535,S&=65535,A[N]=S<<16|L}return new f(A,A[A.length-1]&-2147483648?-1:0)};function ve(x,I){return x.add(Q(I))}i.j=function(x){if(G(this)||G(x))return k;if(Z(this))return Z(x)?Q(this).j(Q(x)):Q(Q(this).j(x));if(Z(x))return Q(this.j(Q(x)));if(0>this.l(j)&&0>x.l(j))return v(this.m()*x.m());for(var I=this.g.length+x.g.length,A=[],P=0;P<2*I;P++)A[P]=0;for(P=0;P<this.g.length;P++)for(var N=0;N<x.g.length;N++){var L=this.i(P)>>>16,S=this.i(P)&65535,Ze=x.i(N)>>>16,Pt=x.i(N)&65535;A[2*P+2*N]+=S*Pt,ye(A,2*P+2*N),A[2*P+2*N+1]+=L*Pt,ye(A,2*P+2*N+1),A[2*P+2*N+1]+=S*Ze,ye(A,2*P+2*N+1),A[2*P+2*N+2]+=L*Ze,ye(A,2*P+2*N+2)}for(P=0;P<I;P++)A[P]=A[2*P+1]<<16|A[2*P];for(P=I;P<2*I;P++)A[P]=0;return new f(A,0)};function ye(x,I){for(;(x[I]&65535)!=x[I];)x[I+1]+=x[I]>>>16,x[I]&=65535,I++}function we(x,I){this.g=x,this.h=I}function Se(x,I){if(G(I))throw Error("division by zero");if(G(x))return new we(k,k);if(Z(x))return I=Se(Q(x),I),new we(Q(I.g),Q(I.h));if(Z(I))return I=Se(x,Q(I)),new we(Q(I.g),I.h);if(30<x.g.length){if(Z(x)||Z(I))throw Error("slowDivide_ only works with positive integers.");for(var A=V,P=I;0>=P.l(x);)A=Je(A),P=Je(P);var N=Ne(A,1),L=Ne(P,1);for(P=Ne(P,2),A=Ne(A,2);!G(P);){var S=L.add(P);0>=S.l(x)&&(N=N.add(A),L=S),P=Ne(P,1),A=Ne(A,1)}return I=ve(x,N.j(I)),new we(N,I)}for(N=k;0<=x.l(I);){for(A=Math.max(1,Math.floor(x.m()/I.m())),P=Math.ceil(Math.log(A)/Math.LN2),P=48>=P?1:Math.pow(2,P-48),L=v(A),S=L.j(I);Z(S)||0<S.l(x);)A-=P,L=v(A),S=L.j(I);G(L)&&(L=V),N=N.add(L),x=ve(x,S)}return new we(N,x)}i.A=function(x){return Se(this,x).h},i.and=function(x){for(var I=Math.max(this.g.length,x.g.length),A=[],P=0;P<I;P++)A[P]=this.i(P)&x.i(P);return new f(A,this.h&x.h)},i.or=function(x){for(var I=Math.max(this.g.length,x.g.length),A=[],P=0;P<I;P++)A[P]=this.i(P)|x.i(P);return new f(A,this.h|x.h)},i.xor=function(x){for(var I=Math.max(this.g.length,x.g.length),A=[],P=0;P<I;P++)A[P]=this.i(P)^x.i(P);return new f(A,this.h^x.h)};function Je(x){for(var I=x.g.length+1,A=[],P=0;P<I;P++)A[P]=x.i(P)<<1|x.i(P-1)>>>31;return new f(A,x.h)}function Ne(x,I){var A=I>>5;I%=32;for(var P=x.g.length-A,N=[],L=0;L<P;L++)N[L]=0<I?x.i(L+A)>>>I|x.i(L+A+1)<<32-I:x.i(L+A);return new f(N,x.h)}s.prototype.digest=s.prototype.v,s.prototype.reset=s.prototype.s,s.prototype.update=s.prototype.u,Ng=s,f.prototype.add=f.prototype.add,f.prototype.multiply=f.prototype.j,f.prototype.modulo=f.prototype.A,f.prototype.compare=f.prototype.l,f.prototype.toNumber=f.prototype.m,f.prototype.toString=f.prototype.toString,f.prototype.getBits=f.prototype.i,f.fromNumber=v,f.fromString=E,Oi=f}).apply(typeof im<"u"?im:typeof self<"u"?self:typeof window<"u"?window:{});var Vl=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Vg,Go,Dg,Fl,Eh,Lg,Og,Mg;(function(){var i,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(l,d,g){return l==Array.prototype||l==Object.prototype||(l[d]=g.value),l};function n(l){l=[typeof globalThis=="object"&&globalThis,l,typeof window=="object"&&window,typeof self=="object"&&self,typeof Vl=="object"&&Vl];for(var d=0;d<l.length;++d){var g=l[d];if(g&&g.Math==Math)return g}throw Error("Cannot find global object")}var s=n(this);function a(l,d){if(d)e:{var g=s;l=l.split(".");for(var w=0;w<l.length-1;w++){var O=l[w];if(!(O in g))break e;g=g[O]}l=l[l.length-1],w=g[l],d=d(w),d!=w&&d!=null&&e(g,l,{configurable:!0,writable:!0,value:d})}}function c(l,d){l instanceof String&&(l+="");var g=0,w=!1,O={next:function(){if(!w&&g<l.length){var U=g++;return{value:d(U,l[U]),done:!1}}return w=!0,{done:!0,value:void 0}}};return O[Symbol.iterator]=function(){return O},O}a("Array.prototype.values",function(l){return l||function(){return c(this,function(d,g){return g})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var f=f||{},m=this||self;function y(l){var d=typeof l;return d=d!="object"?d:l?Array.isArray(l)?"array":d:"null",d=="array"||d=="object"&&typeof l.length=="number"}function v(l){var d=typeof l;return d=="object"&&l!=null||d=="function"}function E(l,d,g){return l.call.apply(l.bind,arguments)}function k(l,d,g){if(!l)throw Error();if(2<arguments.length){var w=Array.prototype.slice.call(arguments,2);return function(){var O=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(O,w),l.apply(d,O)}}return function(){return l.apply(d,arguments)}}function V(l,d,g){return V=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?E:k,V.apply(null,arguments)}function j(l,d){var g=Array.prototype.slice.call(arguments,1);return function(){var w=g.slice();return w.push.apply(w,arguments),l.apply(this,w)}}function G(l,d){function g(){}g.prototype=d.prototype,l.aa=d.prototype,l.prototype=new g,l.prototype.constructor=l,l.Qb=function(w,O,U){for(var Y=Array(arguments.length-2),Fe=2;Fe<arguments.length;Fe++)Y[Fe-2]=arguments[Fe];return d.prototype[O].apply(w,Y)}}function Z(l){const d=l.length;if(0<d){const g=Array(d);for(let w=0;w<d;w++)g[w]=l[w];return g}return[]}function Q(l,d){for(let g=1;g<arguments.length;g++){const w=arguments[g];if(y(w)){const O=l.length||0,U=w.length||0;l.length=O+U;for(let Y=0;Y<U;Y++)l[O+Y]=w[Y]}else l.push(w)}}class ve{constructor(d,g){this.i=d,this.j=g,this.h=0,this.g=null}get(){let d;return 0<this.h?(this.h--,d=this.g,this.g=d.next,d.next=null):d=this.i(),d}}function ye(l){return/^[\s\xa0]*$/.test(l)}function we(){var l=m.navigator;return l&&(l=l.userAgent)?l:""}function Se(l){return Se[" "](l),l}Se[" "]=function(){};var Je=we().indexOf("Gecko")!=-1&&!(we().toLowerCase().indexOf("webkit")!=-1&&we().indexOf("Edge")==-1)&&!(we().indexOf("Trident")!=-1||we().indexOf("MSIE")!=-1)&&we().indexOf("Edge")==-1;function Ne(l,d,g){for(const w in l)d.call(g,l[w],w,l)}function x(l,d){for(const g in l)d.call(void 0,l[g],g,l)}function I(l){const d={};for(const g in l)d[g]=l[g];return d}const A="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function P(l,d){let g,w;for(let O=1;O<arguments.length;O++){w=arguments[O];for(g in w)l[g]=w[g];for(let U=0;U<A.length;U++)g=A[U],Object.prototype.hasOwnProperty.call(w,g)&&(l[g]=w[g])}}function N(l){var d=1;l=l.split(":");const g=[];for(;0<d&&l.length;)g.push(l.shift()),d--;return l.length&&g.push(l.join(":")),g}function L(l){m.setTimeout(()=>{throw l},0)}function S(){var l=ce;let d=null;return l.g&&(d=l.g,l.g=l.g.next,l.g||(l.h=null),d.next=null),d}class Ze{constructor(){this.h=this.g=null}add(d,g){const w=Pt.get();w.set(d,g),this.h?this.h.next=w:this.g=w,this.h=w}}var Pt=new ve(()=>new kt,l=>l.reset());class kt{constructor(){this.next=this.g=this.h=null}set(d,g){this.h=d,this.g=g,this.next=null}reset(){this.next=this.g=this.h=null}}let be,X=!1,ce=new Ze,te=()=>{const l=m.Promise.resolve(void 0);be=()=>{l.then(D)}};var D=()=>{for(var l;l=S();){try{l.h.call(l.g)}catch(g){L(g)}var d=Pt;d.j(l),100>d.h&&(d.h++,l.next=d.g,d.g=l)}X=!1};function B(){this.s=this.s,this.C=this.C}B.prototype.s=!1,B.prototype.ma=function(){this.s||(this.s=!0,this.N())},B.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function le(l,d){this.type=l,this.g=this.target=d,this.defaultPrevented=!1}le.prototype.h=function(){this.defaultPrevented=!0};var _e=function(){if(!m.addEventListener||!Object.defineProperty)return!1;var l=!1,d=Object.defineProperty({},"passive",{get:function(){l=!0}});try{const g=()=>{};m.addEventListener("test",g,d),m.removeEventListener("test",g,d)}catch{}return l}();function Ee(l,d){if(le.call(this,l?l.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,l){var g=this.type=l.type,w=l.changedTouches&&l.changedTouches.length?l.changedTouches[0]:null;if(this.target=l.target||l.srcElement,this.g=d,d=l.relatedTarget){if(Je){e:{try{Se(d.nodeName);var O=!0;break e}catch{}O=!1}O||(d=null)}}else g=="mouseover"?d=l.fromElement:g=="mouseout"&&(d=l.toElement);this.relatedTarget=d,w?(this.clientX=w.clientX!==void 0?w.clientX:w.pageX,this.clientY=w.clientY!==void 0?w.clientY:w.pageY,this.screenX=w.screenX||0,this.screenY=w.screenY||0):(this.clientX=l.clientX!==void 0?l.clientX:l.pageX,this.clientY=l.clientY!==void 0?l.clientY:l.pageY,this.screenX=l.screenX||0,this.screenY=l.screenY||0),this.button=l.button,this.key=l.key||"",this.ctrlKey=l.ctrlKey,this.altKey=l.altKey,this.shiftKey=l.shiftKey,this.metaKey=l.metaKey,this.pointerId=l.pointerId||0,this.pointerType=typeof l.pointerType=="string"?l.pointerType:Re[l.pointerType]||"",this.state=l.state,this.i=l,l.defaultPrevented&&Ee.aa.h.call(this)}}G(Ee,le);var Re={2:"touch",3:"pen",4:"mouse"};Ee.prototype.h=function(){Ee.aa.h.call(this);var l=this.i;l.preventDefault?l.preventDefault():l.returnValue=!1};var Le="closure_listenable_"+(1e6*Math.random()|0),Oe=0;function je(l,d,g,w,O){this.listener=l,this.proxy=null,this.src=d,this.type=g,this.capture=!!w,this.ha=O,this.key=++Oe,this.da=this.fa=!1}function dt(l){l.da=!0,l.listener=null,l.proxy=null,l.src=null,l.ha=null}function Yn(l){this.src=l,this.g={},this.h=0}Yn.prototype.add=function(l,d,g,w,O){var U=l.toString();l=this.g[U],l||(l=this.g[U]=[],this.h++);var Y=vr(l,d,w,O);return-1<Y?(d=l[Y],g||(d.fa=!1)):(d=new je(d,this.src,U,!!w,O),d.fa=g,l.push(d)),d};function $i(l,d){var g=d.type;if(g in l.g){var w=l.g[g],O=Array.prototype.indexOf.call(w,d,void 0),U;(U=0<=O)&&Array.prototype.splice.call(w,O,1),U&&(dt(d),l.g[g].length==0&&(delete l.g[g],l.h--))}}function vr(l,d,g,w){for(var O=0;O<l.length;++O){var U=l[O];if(!U.da&&U.listener==d&&U.capture==!!g&&U.ha==w)return O}return-1}var ri="closure_lm_"+(1e6*Math.random()|0),qi={};function Zs(l,d,g,w,O){if(Array.isArray(d)){for(var U=0;U<d.length;U++)Zs(l,d[U],g,w,O);return null}return g=no(g),l&&l[Le]?l.K(d,g,v(w)?!!w.capture:!1,O):eo(l,d,g,!1,w,O)}function eo(l,d,g,w,O,U){if(!d)throw Error("Invalid event type");var Y=v(O)?!!O.capture:!!O,Fe=Wi(l);if(Fe||(l[ri]=Fe=new Yn(l)),g=Fe.add(d,g,w,Y,U),g.proxy)return g;if(w=ga(),g.proxy=w,w.src=l,w.listener=g,l.addEventListener)_e||(O=Y),O===void 0&&(O=!1),l.addEventListener(d.toString(),w,O);else if(l.attachEvent)l.attachEvent(Jn(d.toString()),w);else if(l.addListener&&l.removeListener)l.addListener(w);else throw Error("addEventListener and attachEvent are unavailable.");return g}function ga(){function l(g){return d.call(l.src,l.listener,g)}const d=to;return l}function Hi(l,d,g,w,O){if(Array.isArray(d))for(var U=0;U<d.length;U++)Hi(l,d[U],g,w,O);else w=v(w)?!!w.capture:!!w,g=no(g),l&&l[Le]?(l=l.i,d=String(d).toString(),d in l.g&&(U=l.g[d],g=vr(U,g,w,O),-1<g&&(dt(U[g]),Array.prototype.splice.call(U,g,1),U.length==0&&(delete l.g[d],l.h--)))):l&&(l=Wi(l))&&(d=l.g[d.toString()],l=-1,d&&(l=vr(d,g,w,O)),(g=-1<l?d[l]:null)&&Xn(g))}function Xn(l){if(typeof l!="number"&&l&&!l.da){var d=l.src;if(d&&d[Le])$i(d.i,l);else{var g=l.type,w=l.proxy;d.removeEventListener?d.removeEventListener(g,w,l.capture):d.detachEvent?d.detachEvent(Jn(g),w):d.addListener&&d.removeListener&&d.removeListener(w),(g=Wi(d))?($i(g,l),g.h==0&&(g.src=null,d[ri]=null)):dt(l)}}}function Jn(l){return l in qi?qi[l]:qi[l]="on"+l}function to(l,d){if(l.da)l=!0;else{d=new Ee(d,this);var g=l.listener,w=l.ha||l.src;l.fa&&Xn(l),l=g.call(w,d)}return l}function Wi(l){return l=l[ri],l instanceof Yn?l:null}var Qi="__closure_events_fn_"+(1e9*Math.random()>>>0);function no(l){return typeof l=="function"?l:(l[Qi]||(l[Qi]=function(d){return l.handleEvent(d)}),l[Qi])}function at(){B.call(this),this.i=new Yn(this),this.M=this,this.F=null}G(at,B),at.prototype[Le]=!0,at.prototype.removeEventListener=function(l,d,g,w){Hi(this,l,d,g,w)};function lt(l,d){var g,w=l.F;if(w)for(g=[];w;w=w.F)g.push(w);if(l=l.M,w=d.type||d,typeof d=="string")d=new le(d,l);else if(d instanceof le)d.target=d.target||l;else{var O=d;d=new le(w,l),P(d,O)}if(O=!0,g)for(var U=g.length-1;0<=U;U--){var Y=d.g=g[U];O=Zn(Y,w,!0,d)&&O}if(Y=d.g=l,O=Zn(Y,w,!0,d)&&O,O=Zn(Y,w,!1,d)&&O,g)for(U=0;U<g.length;U++)Y=d.g=g[U],O=Zn(Y,w,!1,d)&&O}at.prototype.N=function(){if(at.aa.N.call(this),this.i){var l=this.i,d;for(d in l.g){for(var g=l.g[d],w=0;w<g.length;w++)dt(g[w]);delete l.g[d],l.h--}}this.F=null},at.prototype.K=function(l,d,g,w){return this.i.add(String(l),d,!1,g,w)},at.prototype.L=function(l,d,g,w){return this.i.add(String(l),d,!0,g,w)};function Zn(l,d,g,w){if(d=l.i.g[String(d)],!d)return!0;d=d.concat();for(var O=!0,U=0;U<d.length;++U){var Y=d[U];if(Y&&!Y.da&&Y.capture==g){var Fe=Y.listener,ut=Y.ha||Y.src;Y.fa&&$i(l.i,Y),O=Fe.call(ut,w)!==!1&&O}}return O&&!w.defaultPrevented}function ro(l,d,g){if(typeof l=="function")g&&(l=V(l,g));else if(l&&typeof l.handleEvent=="function")l=V(l.handleEvent,l);else throw Error("Invalid listener argument");return 2147483647<Number(d)?-1:m.setTimeout(l,d||0)}function wr(l){l.g=ro(()=>{l.g=null,l.i&&(l.i=!1,wr(l))},l.l);const d=l.h;l.h=null,l.m.apply(null,d)}class ii extends B{constructor(d,g){super(),this.m=d,this.l=g,this.h=null,this.i=!1,this.g=null}j(d){this.h=arguments,this.g?this.i=!0:wr(this)}N(){super.N(),this.g&&(m.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function si(l){B.call(this),this.h=l,this.g={}}G(si,B);var io=[];function so(l){Ne(l.g,function(d,g){this.g.hasOwnProperty(g)&&Xn(d)},l),l.g={}}si.prototype.N=function(){si.aa.N.call(this),so(this)},si.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var oo=m.JSON.stringify,ao=m.JSON.parse,lo=class{stringify(l){return m.JSON.stringify(l,void 0)}parse(l){return m.JSON.parse(l,void 0)}};function oi(){}oi.prototype.h=null;function Ki(l){return l.h||(l.h=l.i())}function Gi(){}var on={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function On(){le.call(this,"d")}G(On,le);function Yi(){le.call(this,"c")}G(Yi,le);var Mn={},uo=null;function ai(){return uo=uo||new at}Mn.La="serverreachability";function co(l){le.call(this,Mn.La,l)}G(co,le);function er(l){const d=ai();lt(d,new co(d))}Mn.STAT_EVENT="statevent";function ho(l,d){le.call(this,Mn.STAT_EVENT,l),this.stat=d}G(ho,le);function et(l){const d=ai();lt(d,new ho(d,l))}Mn.Ma="timingevent";function Xi(l,d){le.call(this,Mn.Ma,l),this.size=d}G(Xi,le);function _n(l,d){if(typeof l!="function")throw Error("Fn must not be null and must be a function");return m.setTimeout(function(){l()},d)}function li(){this.g=!0}li.prototype.xa=function(){this.g=!1};function ui(l,d,g,w,O,U){l.info(function(){if(l.g)if(U)for(var Y="",Fe=U.split("&"),ut=0;ut<Fe.length;ut++){var Ce=Fe[ut].split("=");if(1<Ce.length){var pt=Ce[0];Ce=Ce[1];var rt=pt.split("_");Y=2<=rt.length&&rt[1]=="type"?Y+(pt+"="+Ce+"&"):Y+(pt+"=redacted&")}}else Y=null;else Y=U;return"XMLHTTP REQ ("+w+") [attempt "+O+"]: "+d+`
`+g+`
`+Y})}function Ji(l,d,g,w,O,U,Y){l.info(function(){return"XMLHTTP RESP ("+w+") [ attempt "+O+"]: "+d+`
`+g+`
`+U+" "+Y})}function vn(l,d,g,w){l.info(function(){return"XMLHTTP TEXT ("+d+"): "+Tu(l,g)+(w?" "+w:"")})}function fo(l,d){l.info(function(){return"TIMEOUT: "+d})}li.prototype.info=function(){};function Tu(l,d){if(!l.g)return d;if(!d)return null;try{var g=JSON.parse(d);if(g){for(l=0;l<g.length;l++)if(Array.isArray(g[l])){var w=g[l];if(!(2>w.length)){var O=w[1];if(Array.isArray(O)&&!(1>O.length)){var U=O[0];if(U!="noop"&&U!="stop"&&U!="close")for(var Y=1;Y<O.length;Y++)O[Y]=""}}}}return oo(g)}catch{return d}}var Zi={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},ya={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},wn;function ci(){}G(ci,oi),ci.prototype.g=function(){return new XMLHttpRequest},ci.prototype.i=function(){return{}},wn=new ci;function En(l,d,g,w){this.j=l,this.i=d,this.l=g,this.R=w||1,this.U=new si(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new _a}function _a(){this.i=null,this.g="",this.h=!1}var po={},es={};function ts(l,d,g){l.L=1,l.v=Ar(Jt(d)),l.m=g,l.P=!0,mo(l,null)}function mo(l,d){l.F=Date.now(),ze(l),l.A=Jt(l.v);var g=l.A,w=l.R;Array.isArray(w)||(w=[String(w)]),Cr(g.i,"t",w),l.C=0,g=l.j.J,l.h=new _a,l.g=Ma(l.j,g?d:null,!l.m),0<l.O&&(l.M=new ii(V(l.Y,l,l.g),l.O)),d=l.U,g=l.g,w=l.ca;var O="readystatechange";Array.isArray(O)||(O&&(io[0]=O.toString()),O=io);for(var U=0;U<O.length;U++){var Y=Zs(g,O[U],w||d.handleEvent,!1,d.h||d);if(!Y)break;d.g[Y.key]=Y}d=l.H?I(l.H):{},l.m?(l.u||(l.u="POST"),d["Content-Type"]="application/x-www-form-urlencoded",l.g.ea(l.A,l.u,l.m,d)):(l.u="GET",l.g.ea(l.A,l.u,null,d)),er(),ui(l.i,l.u,l.A,l.l,l.R,l.m)}En.prototype.ca=function(l){l=l.target;const d=this.M;d&&Bt(l)==3?d.j():this.Y(l)},En.prototype.Y=function(l){try{if(l==this.g)e:{const rt=Bt(this.g);var d=this.g.Ba();const un=this.g.Z();if(!(3>rt)&&(rt!=3||this.g&&(this.h.h||this.g.oa()||Eo(this.g)))){this.J||rt!=4||d==7||(d==8||0>=un?er(3):er(2)),hi(this);var g=this.g.Z();this.X=g;t:if(va(this)){var w=Eo(this.g);l="";var O=w.length,U=Bt(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){an(this),Er(this);var Y="";break t}this.h.i=new m.TextDecoder}for(d=0;d<O;d++)this.h.h=!0,l+=this.h.i.decode(w[d],{stream:!(U&&d==O-1)});w.length=0,this.h.g+=l,this.C=0,Y=this.h.g}else Y=this.g.oa();if(this.o=g==200,Ji(this.i,this.u,this.A,this.l,this.R,rt,g),this.o){if(this.T&&!this.K){t:{if(this.g){var Fe,ut=this.g;if((Fe=ut.g?ut.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!ye(Fe)){var Ce=Fe;break t}}Ce=null}if(g=Ce)vn(this.i,this.l,g,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,go(this,g);else{this.o=!1,this.s=3,et(12),an(this),Er(this);break e}}if(this.P){g=!0;let en;for(;!this.J&&this.C<Y.length;)if(en=Iu(this,Y),en==es){rt==4&&(this.s=4,et(14),g=!1),vn(this.i,this.l,null,"[Incomplete Response]");break}else if(en==po){this.s=4,et(15),vn(this.i,this.l,Y,"[Invalid Chunk]"),g=!1;break}else vn(this.i,this.l,en,null),go(this,en);if(va(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),rt!=4||Y.length!=0||this.h.h||(this.s=1,et(16),g=!1),this.o=this.o&&g,!g)vn(this.i,this.l,Y,"[Invalid Chunked Response]"),an(this),Er(this);else if(0<Y.length&&!this.W){this.W=!0;var pt=this.j;pt.g==this&&pt.ba&&!pt.M&&(pt.j.info("Great, no buffering proxy detected. Bytes received: "+Y.length),Io(pt),pt.M=!0,et(11))}}else vn(this.i,this.l,Y,null),go(this,Y);rt==4&&an(this),this.o&&!this.J&&(rt==4?fs(this.j,this):(this.o=!1,ze(this)))}else as(this.g),g==400&&0<Y.indexOf("Unknown SID")?(this.s=3,et(12)):(this.s=0,et(13)),an(this),Er(this)}}}catch{}finally{}};function va(l){return l.g?l.u=="GET"&&l.L!=2&&l.j.Ca:!1}function Iu(l,d){var g=l.C,w=d.indexOf(`
`,g);return w==-1?es:(g=Number(d.substring(g,w)),isNaN(g)?po:(w+=1,w+g>d.length?es:(d=d.slice(w,w+g),l.C=w+g,d)))}En.prototype.cancel=function(){this.J=!0,an(this)};function ze(l){l.S=Date.now()+l.I,wa(l,l.I)}function wa(l,d){if(l.B!=null)throw Error("WatchDog timer not null");l.B=_n(V(l.ba,l),d)}function hi(l){l.B&&(m.clearTimeout(l.B),l.B=null)}En.prototype.ba=function(){this.B=null;const l=Date.now();0<=l-this.S?(fo(this.i,this.A),this.L!=2&&(er(),et(17)),an(this),this.s=2,Er(this)):wa(this,this.S-l)};function Er(l){l.j.G==0||l.J||fs(l.j,l)}function an(l){hi(l);var d=l.M;d&&typeof d.ma=="function"&&d.ma(),l.M=null,so(l.U),l.g&&(d=l.g,l.g=null,d.abort(),d.ma())}function go(l,d){try{var g=l.j;if(g.G!=0&&(g.g==l||Ft(g.h,l))){if(!l.K&&Ft(g.h,l)&&g.G==3){try{var w=g.Da.g.parse(d)}catch{w=null}if(Array.isArray(w)&&w.length==3){var O=w;if(O[0]==0){e:if(!g.u){if(g.g)if(g.g.F+3e3<l.F)hs(g),Rn(g);else break e;cs(g),et(18)}}else g.za=O[1],0<g.za-g.T&&37500>O[2]&&g.F&&g.v==0&&!g.C&&(g.C=_n(V(g.Za,g),6e3));if(1>=Ta(g.h)&&g.ca){try{g.ca()}catch{}g.ca=void 0}}else sr(g,11)}else if((l.K||g.g==l)&&hs(g),!ye(d))for(O=g.Da.g.parse(d),d=0;d<O.length;d++){let Ce=O[d];if(g.T=Ce[0],Ce=Ce[1],g.G==2)if(Ce[0]=="c"){g.K=Ce[1],g.ia=Ce[2];const pt=Ce[3];pt!=null&&(g.la=pt,g.j.info("VER="+g.la));const rt=Ce[4];rt!=null&&(g.Aa=rt,g.j.info("SVER="+g.Aa));const un=Ce[5];un!=null&&typeof un=="number"&&0<un&&(w=1.5*un,g.L=w,g.j.info("backChannelRequestTimeoutMs_="+w)),w=g;const en=l.g;if(en){const _i=en.g?en.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(_i){var U=w.h;U.g||_i.indexOf("spdy")==-1&&_i.indexOf("quic")==-1&&_i.indexOf("h2")==-1||(U.j=U.l,U.g=new Set,U.h&&(yo(U,U.h),U.h=null))}if(w.D){const ps=en.g?en.g.getResponseHeader("X-HTTP-Session-Id"):null;ps&&(w.ya=ps,Ue(w.I,w.D,ps))}}g.G=3,g.l&&g.l.ua(),g.ba&&(g.R=Date.now()-l.F,g.j.info("Handshake RTT: "+g.R+"ms")),w=g;var Y=l;if(w.qa=Oa(w,w.J?w.ia:null,w.W),Y.K){Ia(w.h,Y);var Fe=Y,ut=w.L;ut&&(Fe.I=ut),Fe.B&&(hi(Fe),ze(Fe)),w.g=Y}else yi(w);0<g.i.length&&jn(g)}else Ce[0]!="stop"&&Ce[0]!="close"||sr(g,7);else g.G==3&&(Ce[0]=="stop"||Ce[0]=="close"?Ce[0]=="stop"?sr(g,7):Et(g):Ce[0]!="noop"&&g.l&&g.l.ta(Ce),g.v=0)}}er(4)}catch{}}var Ea=class{constructor(l,d){this.g=l,this.map=d}};function fi(l){this.l=l||10,m.PerformanceNavigationTiming?(l=m.performance.getEntriesByType("navigation"),l=0<l.length&&(l[0].nextHopProtocol=="hq"||l[0].nextHopProtocol=="h2")):l=!!(m.chrome&&m.chrome.loadTimes&&m.chrome.loadTimes()&&m.chrome.loadTimes().wasFetchedViaSpdy),this.j=l?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Xt(l){return l.h?!0:l.g?l.g.size>=l.j:!1}function Ta(l){return l.h?1:l.g?l.g.size:0}function Ft(l,d){return l.h?l.h==d:l.g?l.g.has(d):!1}function yo(l,d){l.g?l.g.add(d):l.h=d}function Ia(l,d){l.h&&l.h==d?l.h=null:l.g&&l.g.has(d)&&l.g.delete(d)}fi.prototype.cancel=function(){if(this.i=Sa(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const l of this.g.values())l.cancel();this.g.clear()}};function Sa(l){if(l.h!=null)return l.i.concat(l.h.D);if(l.g!=null&&l.g.size!==0){let d=l.i;for(const g of l.g.values())d=d.concat(g.D);return d}return Z(l.i)}function ns(l){if(l.V&&typeof l.V=="function")return l.V();if(typeof Map<"u"&&l instanceof Map||typeof Set<"u"&&l instanceof Set)return Array.from(l.values());if(typeof l=="string")return l.split("");if(y(l)){for(var d=[],g=l.length,w=0;w<g;w++)d.push(l[w]);return d}d=[],g=0;for(w in l)d[g++]=l[w];return d}function rs(l){if(l.na&&typeof l.na=="function")return l.na();if(!l.V||typeof l.V!="function"){if(typeof Map<"u"&&l instanceof Map)return Array.from(l.keys());if(!(typeof Set<"u"&&l instanceof Set)){if(y(l)||typeof l=="string"){var d=[];l=l.length;for(var g=0;g<l;g++)d.push(g);return d}d=[],g=0;for(const w in l)d[g++]=w;return d}}}function Tr(l,d){if(l.forEach&&typeof l.forEach=="function")l.forEach(d,void 0);else if(y(l)||typeof l=="string")Array.prototype.forEach.call(l,d,void 0);else for(var g=rs(l),w=ns(l),O=w.length,U=0;U<O;U++)d.call(void 0,w[U],g&&g[U],l)}var di=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Su(l,d){if(l){l=l.split("&");for(var g=0;g<l.length;g++){var w=l[g].indexOf("="),O=null;if(0<=w){var U=l[g].substring(0,w);O=l[g].substring(w+1)}else U=l[g];d(U,O?decodeURIComponent(O.replace(/\+/g," ")):"")}}}function tr(l){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,l instanceof tr){this.h=l.h,pi(this,l.j),this.o=l.o,this.g=l.g,Ir(this,l.s),this.l=l.l;var d=l.i,g=new Fn;g.i=d.i,d.g&&(g.g=new Map(d.g),g.h=d.h),Sr(this,g),this.m=l.m}else l&&(d=String(l).match(di))?(this.h=!1,pi(this,d[1]||"",!0),this.o=Ae(d[2]||""),this.g=Ae(d[3]||"",!0),Ir(this,d[4]),this.l=Ae(d[5]||"",!0),Sr(this,d[6]||"",!0),this.m=Ae(d[7]||"")):(this.h=!1,this.i=new Fn(null,this.h))}tr.prototype.toString=function(){var l=[],d=this.j;d&&l.push(Rr(d,is,!0),":");var g=this.g;return(g||d=="file")&&(l.push("//"),(d=this.o)&&l.push(Rr(d,is,!0),"@"),l.push(encodeURIComponent(String(g)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),g=this.s,g!=null&&l.push(":",String(g))),(g=this.l)&&(this.g&&g.charAt(0)!="/"&&l.push("/"),l.push(Rr(g,g.charAt(0)=="/"?Ca:Ra,!0))),(g=this.i.toString())&&l.push("?",g),(g=this.m)&&l.push("#",Rr(g,_o)),l.join("")};function Jt(l){return new tr(l)}function pi(l,d,g){l.j=g?Ae(d,!0):d,l.j&&(l.j=l.j.replace(/:$/,""))}function Ir(l,d){if(d){if(d=Number(d),isNaN(d)||0>d)throw Error("Bad port number "+d);l.s=d}else l.s=null}function Sr(l,d,g){d instanceof Fn?(l.i=d,bn(l.i,l.h)):(g||(d=Rr(d,Pa)),l.i=new Fn(d,l.h))}function Ue(l,d,g){l.i.set(d,g)}function Ar(l){return Ue(l,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),l}function Ae(l,d){return l?d?decodeURI(l.replace(/%25/g,"%2525")):decodeURIComponent(l):""}function Rr(l,d,g){return typeof l=="string"?(l=encodeURI(l).replace(d,Aa),g&&(l=l.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),l):null}function Aa(l){return l=l.charCodeAt(0),"%"+(l>>4&15).toString(16)+(l&15).toString(16)}var is=/[#\/\?@]/g,Ra=/[#\?:]/g,Ca=/[#\?]/g,Pa=/[#\?@]/g,_o=/#/g;function Fn(l,d){this.h=this.g=null,this.i=l||null,this.j=!!d}function wt(l){l.g||(l.g=new Map,l.h=0,l.i&&Su(l.i,function(d,g){l.add(decodeURIComponent(d.replace(/\+/g," ")),g)}))}i=Fn.prototype,i.add=function(l,d){wt(this),this.i=null,l=ln(this,l);var g=this.g.get(l);return g||this.g.set(l,g=[]),g.push(d),this.h+=1,this};function Tn(l,d){wt(l),d=ln(l,d),l.g.has(d)&&(l.i=null,l.h-=l.g.get(d).length,l.g.delete(d))}function In(l,d){return wt(l),d=ln(l,d),l.g.has(d)}i.forEach=function(l,d){wt(this),this.g.forEach(function(g,w){g.forEach(function(O){l.call(d,O,w,this)},this)},this)},i.na=function(){wt(this);const l=Array.from(this.g.values()),d=Array.from(this.g.keys()),g=[];for(let w=0;w<d.length;w++){const O=l[w];for(let U=0;U<O.length;U++)g.push(d[w])}return g},i.V=function(l){wt(this);let d=[];if(typeof l=="string")In(this,l)&&(d=d.concat(this.g.get(ln(this,l))));else{l=Array.from(this.g.values());for(let g=0;g<l.length;g++)d=d.concat(l[g])}return d},i.set=function(l,d){return wt(this),this.i=null,l=ln(this,l),In(this,l)&&(this.h-=this.g.get(l).length),this.g.set(l,[d]),this.h+=1,this},i.get=function(l,d){return l?(l=this.V(l),0<l.length?String(l[0]):d):d};function Cr(l,d,g){Tn(l,d),0<g.length&&(l.i=null,l.g.set(ln(l,d),Z(g)),l.h+=g.length)}i.toString=function(){if(this.i)return this.i;if(!this.g)return"";const l=[],d=Array.from(this.g.keys());for(var g=0;g<d.length;g++){var w=d[g];const U=encodeURIComponent(String(w)),Y=this.V(w);for(w=0;w<Y.length;w++){var O=U;Y[w]!==""&&(O+="="+encodeURIComponent(String(Y[w]))),l.push(O)}}return this.i=l.join("&")};function ln(l,d){return d=String(d),l.j&&(d=d.toLowerCase()),d}function bn(l,d){d&&!l.j&&(wt(l),l.i=null,l.g.forEach(function(g,w){var O=w.toLowerCase();w!=O&&(Tn(this,w),Cr(this,O,g))},l)),l.j=d}function Au(l,d){const g=new li;if(m.Image){const w=new Image;w.onload=j(zt,g,"TestLoadImage: loaded",!0,d,w),w.onerror=j(zt,g,"TestLoadImage: error",!1,d,w),w.onabort=j(zt,g,"TestLoadImage: abort",!1,d,w),w.ontimeout=j(zt,g,"TestLoadImage: timeout",!1,d,w),m.setTimeout(function(){w.ontimeout&&w.ontimeout()},1e4),w.src=l}else d(!1)}function ka(l,d){const g=new li,w=new AbortController,O=setTimeout(()=>{w.abort(),zt(g,"TestPingServer: timeout",!1,d)},1e4);fetch(l,{signal:w.signal}).then(U=>{clearTimeout(O),U.ok?zt(g,"TestPingServer: ok",!0,d):zt(g,"TestPingServer: server error",!1,d)}).catch(()=>{clearTimeout(O),zt(g,"TestPingServer: error",!1,d)})}function zt(l,d,g,w,O){try{O&&(O.onload=null,O.onerror=null,O.onabort=null,O.ontimeout=null),w(g)}catch{}}function Ru(){this.g=new lo}function xa(l,d,g){const w=g||"";try{Tr(l,function(O,U){let Y=O;v(O)&&(Y=oo(O)),d.push(w+U+"="+encodeURIComponent(Y))})}catch(O){throw d.push(w+"type="+encodeURIComponent("_badmap")),O}}function nr(l){this.l=l.Ub||null,this.j=l.eb||!1}G(nr,oi),nr.prototype.g=function(){return new mi(this.l,this.j)},nr.prototype.i=function(l){return function(){return l}}({});function mi(l,d){at.call(this),this.D=l,this.o=d,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}G(mi,at),i=mi.prototype,i.open=function(l,d){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=l,this.A=d,this.readyState=1,An(this)},i.send=function(l){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const d={headers:this.u,method:this.B,credentials:this.m,cache:void 0};l&&(d.body=l),(this.D||m).fetch(new Request(this.A,d)).then(this.Sa.bind(this),this.ga.bind(this))},i.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Sn(this)),this.readyState=0},i.Sa=function(l){if(this.g&&(this.l=l,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=l.headers,this.readyState=2,An(this)),this.g&&(this.readyState=3,An(this),this.g)))if(this.responseType==="arraybuffer")l.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof m.ReadableStream<"u"&&"body"in l){if(this.j=l.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Na(this)}else l.text().then(this.Ra.bind(this),this.ga.bind(this))};function Na(l){l.j.read().then(l.Pa.bind(l)).catch(l.ga.bind(l))}i.Pa=function(l){if(this.g){if(this.o&&l.value)this.response.push(l.value);else if(!this.o){var d=l.value?l.value:new Uint8Array(0);(d=this.v.decode(d,{stream:!l.done}))&&(this.response=this.responseText+=d)}l.done?Sn(this):An(this),this.readyState==3&&Na(this)}},i.Ra=function(l){this.g&&(this.response=this.responseText=l,Sn(this))},i.Qa=function(l){this.g&&(this.response=l,Sn(this))},i.ga=function(){this.g&&Sn(this)};function Sn(l){l.readyState=4,l.l=null,l.j=null,l.v=null,An(l)}i.setRequestHeader=function(l,d){this.u.append(l,d)},i.getResponseHeader=function(l){return this.h&&this.h.get(l.toLowerCase())||""},i.getAllResponseHeaders=function(){if(!this.h)return"";const l=[],d=this.h.entries();for(var g=d.next();!g.done;)g=g.value,l.push(g[0]+": "+g[1]),g=d.next();return l.join(`\r
`)};function An(l){l.onreadystatechange&&l.onreadystatechange.call(l)}Object.defineProperty(mi.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(l){this.m=l?"include":"same-origin"}});function rr(l){let d="";return Ne(l,function(g,w){d+=w,d+=":",d+=g,d+=`\r
`}),d}function Pr(l,d,g){e:{for(w in g){var w=!1;break e}w=!0}w||(g=rr(g),typeof l=="string"?g!=null&&encodeURIComponent(String(g)):Ue(l,d,g))}function We(l){at.call(this),this.headers=new Map,this.o=l||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}G(We,at);var Cu=/^https?$/i,vo=["POST","PUT"];i=We.prototype,i.Ha=function(l){this.J=l},i.ea=function(l,d,g,w){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+l);d=d?d.toUpperCase():"GET",this.D=l,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():wn.g(),this.v=this.o?Ki(this.o):Ki(wn),this.g.onreadystatechange=V(this.Ea,this);try{this.B=!0,this.g.open(d,String(l),!0),this.B=!1}catch(U){gi(this,U);return}if(l=g||"",g=new Map(this.headers),w)if(Object.getPrototypeOf(w)===Object.prototype)for(var O in w)g.set(O,w[O]);else if(typeof w.keys=="function"&&typeof w.get=="function")for(const U of w.keys())g.set(U,w.get(U));else throw Error("Unknown input type for opt_headers: "+String(w));w=Array.from(g.keys()).find(U=>U.toLowerCase()=="content-type"),O=m.FormData&&l instanceof m.FormData,!(0<=Array.prototype.indexOf.call(vo,d,void 0))||w||O||g.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[U,Y]of g)this.g.setRequestHeader(U,Y);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{os(this),this.u=!0,this.g.send(l),this.u=!1}catch(U){gi(this,U)}};function gi(l,d){l.h=!1,l.g&&(l.j=!0,l.g.abort(),l.j=!1),l.l=d,l.m=5,ss(l),Zt(l)}function ss(l){l.A||(l.A=!0,lt(l,"complete"),lt(l,"error"))}i.abort=function(l){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=l||7,lt(this,"complete"),lt(this,"abort"),Zt(this))},i.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Zt(this,!0)),We.aa.N.call(this)},i.Ea=function(){this.s||(this.B||this.u||this.j?wo(this):this.bb())},i.bb=function(){wo(this)};function wo(l){if(l.h&&typeof f<"u"&&(!l.v[1]||Bt(l)!=4||l.Z()!=2)){if(l.u&&Bt(l)==4)ro(l.Ea,0,l);else if(lt(l,"readystatechange"),Bt(l)==4){l.h=!1;try{const Y=l.Z();e:switch(Y){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var d=!0;break e;default:d=!1}var g;if(!(g=d)){var w;if(w=Y===0){var O=String(l.D).match(di)[1]||null;!O&&m.self&&m.self.location&&(O=m.self.location.protocol.slice(0,-1)),w=!Cu.test(O?O.toLowerCase():"")}g=w}if(g)lt(l,"complete"),lt(l,"success");else{l.m=6;try{var U=2<Bt(l)?l.g.statusText:""}catch{U=""}l.l=U+" ["+l.Z()+"]",ss(l)}}finally{Zt(l)}}}}function Zt(l,d){if(l.g){os(l);const g=l.g,w=l.v[0]?()=>{}:null;l.g=null,l.v=null,d||lt(l,"ready");try{g.onreadystatechange=w}catch{}}}function os(l){l.I&&(m.clearTimeout(l.I),l.I=null)}i.isActive=function(){return!!this.g};function Bt(l){return l.g?l.g.readyState:0}i.Z=function(){try{return 2<Bt(this)?this.g.status:-1}catch{return-1}},i.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},i.Oa=function(l){if(this.g){var d=this.g.responseText;return l&&d.indexOf(l)==0&&(d=d.substring(l.length)),ao(d)}};function Eo(l){try{if(!l.g)return null;if("response"in l.g)return l.g.response;switch(l.H){case"":case"text":return l.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in l.g)return l.g.mozResponseArrayBuffer}return null}catch{return null}}function as(l){const d={};l=(l.g&&2<=Bt(l)&&l.g.getAllResponseHeaders()||"").split(`\r
`);for(let w=0;w<l.length;w++){if(ye(l[w]))continue;var g=N(l[w]);const O=g[0];if(g=g[1],typeof g!="string")continue;g=g.trim();const U=d[O]||[];d[O]=U,U.push(g)}x(d,function(w){return w.join(", ")})}i.Ba=function(){return this.m},i.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Un(l,d,g){return g&&g.internalChannelParams&&g.internalChannelParams[l]||d}function To(l){this.Aa=0,this.i=[],this.j=new li,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Un("failFast",!1,l),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Un("baseRetryDelayMs",5e3,l),this.cb=Un("retryDelaySeedMs",1e4,l),this.Wa=Un("forwardChannelMaxRetries",2,l),this.wa=Un("forwardChannelRequestTimeoutMs",2e4,l),this.pa=l&&l.xmlHttpFactory||void 0,this.Xa=l&&l.Tb||void 0,this.Ca=l&&l.useFetchStreams||!1,this.L=void 0,this.J=l&&l.supportsCrossDomainXhr||!1,this.K="",this.h=new fi(l&&l.concurrentRequestLimit),this.Da=new Ru,this.P=l&&l.fastHandshake||!1,this.O=l&&l.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=l&&l.Rb||!1,l&&l.xa&&this.j.xa(),l&&l.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&l&&l.detectBufferingProxy||!1,this.ja=void 0,l&&l.longPollingTimeout&&0<l.longPollingTimeout&&(this.ja=l.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}i=To.prototype,i.la=8,i.G=1,i.connect=function(l,d,g,w){et(0),this.W=l,this.H=d||{},g&&w!==void 0&&(this.H.OSID=g,this.H.OAID=w),this.F=this.X,this.I=Oa(this,null,this.W),jn(this)};function Et(l){if(ls(l),l.G==3){var d=l.U++,g=Jt(l.I);if(Ue(g,"SID",l.K),Ue(g,"RID",d),Ue(g,"TYPE","terminate"),ir(l,g),d=new En(l,l.j,d),d.L=2,d.v=Ar(Jt(g)),g=!1,m.navigator&&m.navigator.sendBeacon)try{g=m.navigator.sendBeacon(d.v.toString(),"")}catch{}!g&&m.Image&&(new Image().src=d.v,g=!0),g||(d.g=Ma(d.j,null),d.g.ea(d.v)),d.F=Date.now(),ze(d)}La(l)}function Rn(l){l.g&&(Io(l),l.g.cancel(),l.g=null)}function ls(l){Rn(l),l.u&&(m.clearTimeout(l.u),l.u=null),hs(l),l.h.cancel(),l.s&&(typeof l.s=="number"&&m.clearTimeout(l.s),l.s=null)}function jn(l){if(!Xt(l.h)&&!l.s){l.s=!0;var d=l.Ga;be||te(),X||(be(),X=!0),ce.add(d,l),l.B=0}}function Pu(l,d){return Ta(l.h)>=l.h.j-(l.s?1:0)?!1:l.s?(l.i=d.D.concat(l.i),!0):l.G==1||l.G==2||l.B>=(l.Va?0:l.Wa)?!1:(l.s=_n(V(l.Ga,l,d),Da(l,l.B)),l.B++,!0)}i.Ga=function(l){if(this.s)if(this.s=null,this.G==1){if(!l){this.U=Math.floor(1e5*Math.random()),l=this.U++;const O=new En(this,this.j,l);let U=this.o;if(this.S&&(U?(U=I(U),P(U,this.S)):U=this.S),this.m!==null||this.O||(O.H=U,U=null),this.P)e:{for(var d=0,g=0;g<this.i.length;g++){t:{var w=this.i[g];if("__data__"in w.map&&(w=w.map.__data__,typeof w=="string")){w=w.length;break t}w=void 0}if(w===void 0)break;if(d+=w,4096<d){d=g;break e}if(d===4096||g===this.i.length-1){d=g+1;break e}}d=1e3}else d=1e3;d=kr(this,O,d),g=Jt(this.I),Ue(g,"RID",l),Ue(g,"CVER",22),this.D&&Ue(g,"X-HTTP-Session-Id",this.D),ir(this,g),U&&(this.O?d="headers="+encodeURIComponent(String(rr(U)))+"&"+d:this.m&&Pr(g,this.m,U)),yo(this.h,O),this.Ua&&Ue(g,"TYPE","init"),this.P?(Ue(g,"$req",d),Ue(g,"SID","null"),O.T=!0,ts(O,g,null)):ts(O,g,d),this.G=2}}else this.G==3&&(l?us(this,l):this.i.length==0||Xt(this.h)||us(this))};function us(l,d){var g;d?g=d.l:g=l.U++;const w=Jt(l.I);Ue(w,"SID",l.K),Ue(w,"RID",g),Ue(w,"AID",l.T),ir(l,w),l.m&&l.o&&Pr(w,l.m,l.o),g=new En(l,l.j,g,l.B+1),l.m===null&&(g.H=l.o),d&&(l.i=d.D.concat(l.i)),d=kr(l,g,1e3),g.I=Math.round(.5*l.wa)+Math.round(.5*l.wa*Math.random()),yo(l.h,g),ts(g,w,d)}function ir(l,d){l.H&&Ne(l.H,function(g,w){Ue(d,w,g)}),l.l&&Tr({},function(g,w){Ue(d,w,g)})}function kr(l,d,g){g=Math.min(l.i.length,g);var w=l.l?V(l.l.Na,l.l,l):null;e:{var O=l.i;let U=-1;for(;;){const Y=["count="+g];U==-1?0<g?(U=O[0].g,Y.push("ofs="+U)):U=0:Y.push("ofs="+U);let Fe=!0;for(let ut=0;ut<g;ut++){let Ce=O[ut].g;const pt=O[ut].map;if(Ce-=U,0>Ce)U=Math.max(0,O[ut].g-100),Fe=!1;else try{xa(pt,Y,"req"+Ce+"_")}catch{w&&w(pt)}}if(Fe){w=Y.join("&");break e}}}return l=l.i.splice(0,g),d.D=l,w}function yi(l){if(!l.g&&!l.u){l.Y=1;var d=l.Fa;be||te(),X||(be(),X=!0),ce.add(d,l),l.v=0}}function cs(l){return l.g||l.u||3<=l.v?!1:(l.Y++,l.u=_n(V(l.Fa,l),Da(l,l.v)),l.v++,!0)}i.Fa=function(){if(this.u=null,Va(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var l=2*this.R;this.j.info("BP detection timer enabled: "+l),this.A=_n(V(this.ab,this),l)}},i.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,et(10),Rn(this),Va(this))};function Io(l){l.A!=null&&(m.clearTimeout(l.A),l.A=null)}function Va(l){l.g=new En(l,l.j,"rpc",l.Y),l.m===null&&(l.g.H=l.o),l.g.O=0;var d=Jt(l.qa);Ue(d,"RID","rpc"),Ue(d,"SID",l.K),Ue(d,"AID",l.T),Ue(d,"CI",l.F?"0":"1"),!l.F&&l.ja&&Ue(d,"TO",l.ja),Ue(d,"TYPE","xmlhttp"),ir(l,d),l.m&&l.o&&Pr(d,l.m,l.o),l.L&&(l.g.I=l.L);var g=l.g;l=l.ia,g.L=1,g.v=Ar(Jt(d)),g.m=null,g.P=!0,mo(g,l)}i.Za=function(){this.C!=null&&(this.C=null,Rn(this),cs(this),et(19))};function hs(l){l.C!=null&&(m.clearTimeout(l.C),l.C=null)}function fs(l,d){var g=null;if(l.g==d){hs(l),Io(l),l.g=null;var w=2}else if(Ft(l.h,d))g=d.D,Ia(l.h,d),w=1;else return;if(l.G!=0){if(d.o)if(w==1){g=d.m?d.m.length:0,d=Date.now()-d.F;var O=l.B;w=ai(),lt(w,new Xi(w,g)),jn(l)}else yi(l);else if(O=d.s,O==3||O==0&&0<d.X||!(w==1&&Pu(l,d)||w==2&&cs(l)))switch(g&&0<g.length&&(d=l.h,d.i=d.i.concat(g)),O){case 1:sr(l,5);break;case 4:sr(l,10);break;case 3:sr(l,6);break;default:sr(l,2)}}}function Da(l,d){let g=l.Ta+Math.floor(Math.random()*l.cb);return l.isActive()||(g*=2),g*d}function sr(l,d){if(l.j.info("Error code "+d),d==2){var g=V(l.fb,l),w=l.Xa;const O=!w;w=new tr(w||"//www.google.com/images/cleardot.gif"),m.location&&m.location.protocol=="http"||pi(w,"https"),Ar(w),O?Au(w.toString(),g):ka(w.toString(),g)}else et(2);l.G=0,l.l&&l.l.sa(d),La(l),ls(l)}i.fb=function(l){l?(this.j.info("Successfully pinged google.com"),et(2)):(this.j.info("Failed to ping google.com"),et(1))};function La(l){if(l.G=0,l.ka=[],l.l){const d=Sa(l.h);(d.length!=0||l.i.length!=0)&&(Q(l.ka,d),Q(l.ka,l.i),l.h.i.length=0,Z(l.i),l.i.length=0),l.l.ra()}}function Oa(l,d,g){var w=g instanceof tr?Jt(g):new tr(g);if(w.g!="")d&&(w.g=d+"."+w.g),Ir(w,w.s);else{var O=m.location;w=O.protocol,d=d?d+"."+O.hostname:O.hostname,O=+O.port;var U=new tr(null);w&&pi(U,w),d&&(U.g=d),O&&Ir(U,O),g&&(U.l=g),w=U}return g=l.D,d=l.ya,g&&d&&Ue(w,g,d),Ue(w,"VER",l.la),ir(l,w),w}function Ma(l,d,g){if(d&&!l.J)throw Error("Can't create secondary domain capable XhrIo object.");return d=l.Ca&&!l.pa?new We(new nr({eb:g})):new We(l.pa),d.Ha(l.J),d}i.isActive=function(){return!!this.l&&this.l.isActive(this)};function So(){}i=So.prototype,i.ua=function(){},i.ta=function(){},i.sa=function(){},i.ra=function(){},i.isActive=function(){return!0},i.Na=function(){};function ds(){}ds.prototype.g=function(l,d){return new bt(l,d)};function bt(l,d){at.call(this),this.g=new To(d),this.l=l,this.h=d&&d.messageUrlParams||null,l=d&&d.messageHeaders||null,d&&d.clientProtocolHeaderRequired&&(l?l["X-Client-Protocol"]="webchannel":l={"X-Client-Protocol":"webchannel"}),this.g.o=l,l=d&&d.initMessageHeaders||null,d&&d.messageContentType&&(l?l["X-WebChannel-Content-Type"]=d.messageContentType:l={"X-WebChannel-Content-Type":d.messageContentType}),d&&d.va&&(l?l["X-WebChannel-Client-Profile"]=d.va:l={"X-WebChannel-Client-Profile":d.va}),this.g.S=l,(l=d&&d.Sb)&&!ye(l)&&(this.g.m=l),this.v=d&&d.supportsCrossDomainXhr||!1,this.u=d&&d.sendRawJson||!1,(d=d&&d.httpSessionIdParam)&&!ye(d)&&(this.g.D=d,l=this.h,l!==null&&d in l&&(l=this.h,d in l&&delete l[d])),this.j=new zn(this)}G(bt,at),bt.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},bt.prototype.close=function(){Et(this.g)},bt.prototype.o=function(l){var d=this.g;if(typeof l=="string"){var g={};g.__data__=l,l=g}else this.u&&(g={},g.__data__=oo(l),l=g);d.i.push(new Ea(d.Ya++,l)),d.G==3&&jn(d)},bt.prototype.N=function(){this.g.l=null,delete this.j,Et(this.g),delete this.g,bt.aa.N.call(this)};function Fa(l){On.call(this),l.__headers__&&(this.headers=l.__headers__,this.statusCode=l.__status__,delete l.__headers__,delete l.__status__);var d=l.__sm__;if(d){e:{for(const g in d){l=g;break e}l=void 0}(this.i=l)&&(l=this.i,d=d!==null&&l in d?d[l]:void 0),this.data=d}else this.data=l}G(Fa,On);function ba(){Yi.call(this),this.status=1}G(ba,Yi);function zn(l){this.g=l}G(zn,So),zn.prototype.ua=function(){lt(this.g,"a")},zn.prototype.ta=function(l){lt(this.g,new Fa(l))},zn.prototype.sa=function(l){lt(this.g,new ba)},zn.prototype.ra=function(){lt(this.g,"b")},ds.prototype.createWebChannel=ds.prototype.g,bt.prototype.send=bt.prototype.o,bt.prototype.open=bt.prototype.m,bt.prototype.close=bt.prototype.close,Mg=function(){return new ds},Og=function(){return ai()},Lg=Mn,Eh={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Zi.NO_ERROR=0,Zi.TIMEOUT=8,Zi.HTTP_ERROR=6,Fl=Zi,ya.COMPLETE="complete",Dg=ya,Gi.EventType=on,on.OPEN="a",on.CLOSE="b",on.ERROR="c",on.MESSAGE="d",at.prototype.listen=at.prototype.K,Go=Gi,We.prototype.listenOnce=We.prototype.L,We.prototype.getLastError=We.prototype.Ka,We.prototype.getLastErrorCode=We.prototype.Ba,We.prototype.getStatus=We.prototype.Z,We.prototype.getResponseJson=We.prototype.Oa,We.prototype.getResponseText=We.prototype.oa,We.prototype.send=We.prototype.ea,We.prototype.setWithCredentials=We.prototype.Ha,Vg=We}).apply(typeof Vl<"u"?Vl:typeof self<"u"?self:typeof window<"u"?window:{});const sm="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ot{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Ot.UNAUTHENTICATED=new Ot(null),Ot.GOOGLE_CREDENTIALS=new Ot("google-credentials-uid"),Ot.FIRST_PARTY=new Ot("first-party-uid"),Ot.MOCK_USER=new Ot("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ks="11.0.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bi=new bh("@firebase/firestore");function Os(){return bi.logLevel}function ne(i,...e){if(bi.logLevel<=ke.DEBUG){const n=e.map(Hh);bi.debug(`Firestore (${Ks}): ${i}`,...n)}}function yr(i,...e){if(bi.logLevel<=ke.ERROR){const n=e.map(Hh);bi.error(`Firestore (${Ks}): ${i}`,...n)}}function js(i,...e){if(bi.logLevel<=ke.WARN){const n=e.map(Hh);bi.warn(`Firestore (${Ks}): ${i}`,...n)}}function Hh(i){if(typeof i=="string")return i;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(i)}catch{return i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pe(i="Unexpected state"){const e=`FIRESTORE (${Ks}) INTERNAL ASSERTION FAILED: `+i;throw yr(e),new Error(e)}function Me(i,e){i||pe()}function ge(i,e){return i}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class se extends ni{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qr{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fg{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class cE{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(Ot.UNAUTHENTICATED))}shutdown(){}}class hE{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class fE{constructor(e){this.t=e,this.currentUser=Ot.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){Me(this.o===void 0);let s=this.i;const a=y=>this.i!==s?(s=this.i,n(y)):Promise.resolve();let c=new Qr;this.o=()=>{this.i++,this.currentUser=this.u(),c.resolve(),c=new Qr,e.enqueueRetryable(()=>a(this.currentUser))};const f=()=>{const y=c;e.enqueueRetryable(async()=>{await y.promise,await a(this.currentUser)})},m=y=>{ne("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=y,this.o&&(this.auth.addAuthTokenListener(this.o),f())};this.t.onInit(y=>m(y)),setTimeout(()=>{if(!this.auth){const y=this.t.getImmediate({optional:!0});y?m(y):(ne("FirebaseAuthCredentialsProvider","Auth not yet detected"),c.resolve(),c=new Qr)}},0),f()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(s=>this.i!==e?(ne("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(Me(typeof s.accessToken=="string"),new Fg(s.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Me(e===null||typeof e=="string"),new Ot(e)}}class dE{constructor(e,n,s){this.l=e,this.h=n,this.P=s,this.type="FirstParty",this.user=Ot.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class pE{constructor(e,n,s){this.l=e,this.h=n,this.P=s}getToken(){return Promise.resolve(new dE(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable(()=>n(Ot.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class mE{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class gE{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,n){Me(this.o===void 0);const s=c=>{c.error!=null&&ne("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${c.error.message}`);const f=c.token!==this.R;return this.R=c.token,ne("FirebaseAppCheckTokenProvider",`Received ${f?"new":"existing"} token.`),f?n(c.token):Promise.resolve()};this.o=c=>{e.enqueueRetryable(()=>s(c))};const a=c=>{ne("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=c,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(c=>a(c)),setTimeout(()=>{if(!this.appCheck){const c=this.A.getImmediate({optional:!0});c?a(c):ne("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(Me(typeof n.token=="string"),this.R=n.token,new mE(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yE(i){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(i);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let s=0;s<i;s++)n[s]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bg{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length;let s="";for(;s.length<20;){const a=yE(40);for(let c=0;c<a.length;++c)s.length<20&&a[c]<n&&(s+=e.charAt(a[c]%e.length))}return s}}function xe(i,e){return i<e?-1:i>e?1:0}function zs(i,e,n){return i.length===e.length&&i.every((s,a)=>n(s,e[a]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ft{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new se($.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new se($.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new se($.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new se($.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return ft.fromMillis(Date.now())}static fromDate(e){return ft.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),s=Math.floor(1e6*(e-1e3*n));return new ft(n,s)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?xe(this.nanoseconds,e.nanoseconds):xe(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class me{constructor(e){this.timestamp=e}static fromTimestamp(e){return new me(e)}static min(){return new me(new ft(0,0))}static max(){return new me(new ft(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ia{constructor(e,n,s){n===void 0?n=0:n>e.length&&pe(),s===void 0?s=e.length-n:s>e.length-n&&pe(),this.segments=e,this.offset=n,this.len=s}get length(){return this.len}isEqual(e){return ia.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof ia?e.forEach(s=>{n.push(s)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,s=this.limit();n<s;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const s=Math.min(e.length,n.length);for(let a=0;a<s;a++){const c=e.get(a),f=n.get(a);if(c<f)return-1;if(c>f)return 1}return e.length<n.length?-1:e.length>n.length?1:0}}class He extends ia{construct(e,n,s){return new He(e,n,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const s of e){if(s.indexOf("//")>=0)throw new se($.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);n.push(...s.split("/").filter(a=>a.length>0))}return new He(n)}static emptyPath(){return new He([])}}const _E=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Rt extends ia{construct(e,n,s){return new Rt(e,n,s)}static isValidIdentifier(e){return _E.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Rt.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new Rt(["__name__"])}static fromServerFormat(e){const n=[];let s="",a=0;const c=()=>{if(s.length===0)throw new se($.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(s),s=""};let f=!1;for(;a<e.length;){const m=e[a];if(m==="\\"){if(a+1===e.length)throw new se($.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const y=e[a+1];if(y!=="\\"&&y!=="."&&y!=="`")throw new se($.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);s+=y,a+=2}else m==="`"?(f=!f,a++):m!=="."||f?(s+=m,a++):(c(),a++)}if(c(),f)throw new se($.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Rt(n)}static emptyPath(){return new Rt([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ue{constructor(e){this.path=e}static fromPath(e){return new ue(He.fromString(e))}static fromName(e){return new ue(He.fromString(e).popFirst(5))}static empty(){return new ue(He.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&He.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return He.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new ue(new He(e.slice()))}}function vE(i,e){const n=i.toTimestamp().seconds,s=i.toTimestamp().nanoseconds+1,a=me.fromTimestamp(s===1e9?new ft(n+1,0):new ft(n,s));return new Xr(a,ue.empty(),e)}function wE(i){return new Xr(i.readTime,i.key,-1)}class Xr{constructor(e,n,s){this.readTime=e,this.documentKey=n,this.largestBatchId=s}static min(){return new Xr(me.min(),ue.empty(),-1)}static max(){return new Xr(me.max(),ue.empty(),-1)}}function EE(i,e){let n=i.readTime.compareTo(e.readTime);return n!==0?n:(n=ue.comparator(i.documentKey,e.documentKey),n!==0?n:xe(i.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TE="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class IE{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Gs(i){if(i.code!==$.FAILED_PRECONDITION||i.message!==TE)throw i;ne("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class z{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&pe(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new z((s,a)=>{this.nextCallback=c=>{this.wrapSuccess(e,c).next(s,a)},this.catchCallback=c=>{this.wrapFailure(n,c).next(s,a)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof z?n:z.resolve(n)}catch(n){return z.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):z.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):z.reject(n)}static resolve(e){return new z((n,s)=>{n(e)})}static reject(e){return new z((n,s)=>{s(e)})}static waitFor(e){return new z((n,s)=>{let a=0,c=0,f=!1;e.forEach(m=>{++a,m.next(()=>{++c,f&&c===a&&n()},y=>s(y))}),f=!0,c===a&&n()})}static or(e){let n=z.resolve(!1);for(const s of e)n=n.next(a=>a?z.resolve(a):s());return n}static forEach(e,n){const s=[];return e.forEach((a,c)=>{s.push(n.call(this,a,c))}),this.waitFor(s)}static mapArray(e,n){return new z((s,a)=>{const c=e.length,f=new Array(c);let m=0;for(let y=0;y<c;y++){const v=y;n(e[v]).next(E=>{f[v]=E,++m,m===c&&s(f)},E=>a(E))}})}static doWhile(e,n){return new z((s,a)=>{const c=()=>{e()===!0?n().next(()=>{c()},a):s()};c()})}}function SE(i){const e=i.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function Ys(i){return i.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lu{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=s=>this.ie(s),this.se=s=>n.writeSequenceNumber(s))}ie(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.se&&this.se(e),e}}lu.oe=-1;function uu(i){return i==null}function Kl(i){return i===0&&1/i==-1/0}function AE(i){return typeof i=="number"&&Number.isInteger(i)&&!Kl(i)&&i<=Number.MAX_SAFE_INTEGER&&i>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function RE(i){let e="";for(let n=0;n<i.length;n++)e.length>0&&(e=om(e)),e=CE(i.get(n),e);return om(e)}function CE(i,e){let n=e;const s=i.length;for(let a=0;a<s;a++){const c=i.charAt(a);switch(c){case"\0":n+="";break;case"":n+="";break;default:n+=c}}return n}function om(i){return i+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function am(i){let e=0;for(const n in i)Object.prototype.hasOwnProperty.call(i,n)&&e++;return e}function Ui(i,e){for(const n in i)Object.prototype.hasOwnProperty.call(i,n)&&e(n,i[n])}function Ug(i){for(const e in i)if(Object.prototype.hasOwnProperty.call(i,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ye{constructor(e,n){this.comparator=e,this.root=n||At.EMPTY}insert(e,n){return new Ye(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,At.BLACK,null,null))}remove(e){return new Ye(this.comparator,this.root.remove(e,this.comparator).copy(null,null,At.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const s=this.comparator(e,n.key);if(s===0)return n.value;s<0?n=n.left:s>0&&(n=n.right)}return null}indexOf(e){let n=0,s=this.root;for(;!s.isEmpty();){const a=this.comparator(e,s.key);if(a===0)return n+s.left.size;a<0?s=s.left:(n+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,s)=>(e(n,s),!1))}toString(){const e=[];return this.inorderTraversal((n,s)=>(e.push(`${n}:${s}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Dl(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Dl(this.root,e,this.comparator,!1)}getReverseIterator(){return new Dl(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Dl(this.root,e,this.comparator,!0)}}class Dl{constructor(e,n,s,a){this.isReverse=a,this.nodeStack=[];let c=1;for(;!e.isEmpty();)if(c=n?s(e.key,n):1,n&&a&&(c*=-1),c<0)e=this.isReverse?e.left:e.right;else{if(c===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class At{constructor(e,n,s,a,c){this.key=e,this.value=n,this.color=s??At.RED,this.left=a??At.EMPTY,this.right=c??At.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,s,a,c){return new At(e??this.key,n??this.value,s??this.color,a??this.left,c??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,s){let a=this;const c=s(e,a.key);return a=c<0?a.copy(null,null,null,a.left.insert(e,n,s),null):c===0?a.copy(null,n,null,null,null):a.copy(null,null,null,null,a.right.insert(e,n,s)),a.fixUp()}removeMin(){if(this.left.isEmpty())return At.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let s,a=this;if(n(e,a.key)<0)a.left.isEmpty()||a.left.isRed()||a.left.left.isRed()||(a=a.moveRedLeft()),a=a.copy(null,null,null,a.left.remove(e,n),null);else{if(a.left.isRed()&&(a=a.rotateRight()),a.right.isEmpty()||a.right.isRed()||a.right.left.isRed()||(a=a.moveRedRight()),n(e,a.key)===0){if(a.right.isEmpty())return At.EMPTY;s=a.right.min(),a=a.copy(s.key,s.value,null,null,a.right.removeMin())}a=a.copy(null,null,null,null,a.right.remove(e,n))}return a.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,At.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,At.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw pe();const e=this.left.check();if(e!==this.right.check())throw pe();return e+(this.isRed()?0:1)}}At.EMPTY=null,At.RED=!0,At.BLACK=!1;At.EMPTY=new class{constructor(){this.size=0}get key(){throw pe()}get value(){throw pe()}get color(){throw pe()}get left(){throw pe()}get right(){throw pe()}copy(e,n,s,a,c){return this}insert(e,n,s){return new At(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vt{constructor(e){this.comparator=e,this.data=new Ye(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,s)=>(e(n),!1))}forEachInRange(e,n){const s=this.data.getIteratorFrom(e[0]);for(;s.hasNext();){const a=s.getNext();if(this.comparator(a.key,e[1])>=0)return;n(a.key)}}forEachWhile(e,n){let s;for(s=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();s.hasNext();)if(!e(s.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new lm(this.data.getIterator())}getIteratorFrom(e){return new lm(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(s=>{n=n.add(s)}),n}isEqual(e){if(!(e instanceof vt)||this.size!==e.size)return!1;const n=this.data.getIterator(),s=e.data.getIterator();for(;n.hasNext();){const a=n.getNext().key,c=s.getNext().key;if(this.comparator(a,c)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new vt(this.comparator);return n.data=e,n}}class lm{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dn{constructor(e){this.fields=e,e.sort(Rt.comparator)}static empty(){return new Dn([])}unionWith(e){let n=new vt(Rt.comparator);for(const s of this.fields)n=n.add(s);for(const s of e)n=n.add(s);return new Dn(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return zs(this.fields,e.fields,(n,s)=>n.isEqual(s))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jg extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ct{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(a){try{return atob(a)}catch(c){throw typeof DOMException<"u"&&c instanceof DOMException?new jg("Invalid base64 string: "+c):c}}(e);return new Ct(n)}static fromUint8Array(e){const n=function(a){let c="";for(let f=0;f<a.length;++f)c+=String.fromCharCode(a[f]);return c}(e);return new Ct(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const s=new Uint8Array(n.length);for(let a=0;a<n.length;a++)s[a]=n.charCodeAt(a);return s}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return xe(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Ct.EMPTY_BYTE_STRING=new Ct("");const PE=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Jr(i){if(Me(!!i),typeof i=="string"){let e=0;const n=PE.exec(i);if(Me(!!n),n[1]){let a=n[1];a=(a+"000000000").substr(0,9),e=Number(a)}const s=new Date(i);return{seconds:Math.floor(s.getTime()/1e3),nanos:e}}return{seconds:nt(i.seconds),nanos:nt(i.nanos)}}function nt(i){return typeof i=="number"?i:typeof i=="string"?Number(i):0}function Zr(i){return typeof i=="string"?Ct.fromBase64String(i):Ct.fromUint8Array(i)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wh(i){var e,n;return((n=(((e=i==null?void 0:i.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function cu(i){const e=i.mapValue.fields.__previous_value__;return Wh(e)?cu(e):e}function sa(i){const e=Jr(i.mapValue.fields.__local_write_time__.timestampValue);return new ft(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kE{constructor(e,n,s,a,c,f,m,y,v){this.databaseId=e,this.appId=n,this.persistenceKey=s,this.host=a,this.ssl=c,this.forceLongPolling=f,this.autoDetectLongPolling=m,this.longPollingOptions=y,this.useFetchStreams=v}}class oa{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new oa("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof oa&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ll={mapValue:{}};function ei(i){return"nullValue"in i?0:"booleanValue"in i?1:"integerValue"in i||"doubleValue"in i?2:"timestampValue"in i?3:"stringValue"in i?5:"bytesValue"in i?6:"referenceValue"in i?7:"geoPointValue"in i?8:"arrayValue"in i?9:"mapValue"in i?Wh(i)?4:NE(i)?9007199254740991:xE(i)?10:11:pe()}function Gn(i,e){if(i===e)return!0;const n=ei(i);if(n!==ei(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return i.booleanValue===e.booleanValue;case 4:return sa(i).isEqual(sa(e));case 3:return function(a,c){if(typeof a.timestampValue=="string"&&typeof c.timestampValue=="string"&&a.timestampValue.length===c.timestampValue.length)return a.timestampValue===c.timestampValue;const f=Jr(a.timestampValue),m=Jr(c.timestampValue);return f.seconds===m.seconds&&f.nanos===m.nanos}(i,e);case 5:return i.stringValue===e.stringValue;case 6:return function(a,c){return Zr(a.bytesValue).isEqual(Zr(c.bytesValue))}(i,e);case 7:return i.referenceValue===e.referenceValue;case 8:return function(a,c){return nt(a.geoPointValue.latitude)===nt(c.geoPointValue.latitude)&&nt(a.geoPointValue.longitude)===nt(c.geoPointValue.longitude)}(i,e);case 2:return function(a,c){if("integerValue"in a&&"integerValue"in c)return nt(a.integerValue)===nt(c.integerValue);if("doubleValue"in a&&"doubleValue"in c){const f=nt(a.doubleValue),m=nt(c.doubleValue);return f===m?Kl(f)===Kl(m):isNaN(f)&&isNaN(m)}return!1}(i,e);case 9:return zs(i.arrayValue.values||[],e.arrayValue.values||[],Gn);case 10:case 11:return function(a,c){const f=a.mapValue.fields||{},m=c.mapValue.fields||{};if(am(f)!==am(m))return!1;for(const y in f)if(f.hasOwnProperty(y)&&(m[y]===void 0||!Gn(f[y],m[y])))return!1;return!0}(i,e);default:return pe()}}function aa(i,e){return(i.values||[]).find(n=>Gn(n,e))!==void 0}function Bs(i,e){if(i===e)return 0;const n=ei(i),s=ei(e);if(n!==s)return xe(n,s);switch(n){case 0:case 9007199254740991:return 0;case 1:return xe(i.booleanValue,e.booleanValue);case 2:return function(c,f){const m=nt(c.integerValue||c.doubleValue),y=nt(f.integerValue||f.doubleValue);return m<y?-1:m>y?1:m===y?0:isNaN(m)?isNaN(y)?0:-1:1}(i,e);case 3:return um(i.timestampValue,e.timestampValue);case 4:return um(sa(i),sa(e));case 5:return xe(i.stringValue,e.stringValue);case 6:return function(c,f){const m=Zr(c),y=Zr(f);return m.compareTo(y)}(i.bytesValue,e.bytesValue);case 7:return function(c,f){const m=c.split("/"),y=f.split("/");for(let v=0;v<m.length&&v<y.length;v++){const E=xe(m[v],y[v]);if(E!==0)return E}return xe(m.length,y.length)}(i.referenceValue,e.referenceValue);case 8:return function(c,f){const m=xe(nt(c.latitude),nt(f.latitude));return m!==0?m:xe(nt(c.longitude),nt(f.longitude))}(i.geoPointValue,e.geoPointValue);case 9:return cm(i.arrayValue,e.arrayValue);case 10:return function(c,f){var m,y,v,E;const k=c.fields||{},V=f.fields||{},j=(m=k.value)===null||m===void 0?void 0:m.arrayValue,G=(y=V.value)===null||y===void 0?void 0:y.arrayValue,Z=xe(((v=j==null?void 0:j.values)===null||v===void 0?void 0:v.length)||0,((E=G==null?void 0:G.values)===null||E===void 0?void 0:E.length)||0);return Z!==0?Z:cm(j,G)}(i.mapValue,e.mapValue);case 11:return function(c,f){if(c===Ll.mapValue&&f===Ll.mapValue)return 0;if(c===Ll.mapValue)return 1;if(f===Ll.mapValue)return-1;const m=c.fields||{},y=Object.keys(m),v=f.fields||{},E=Object.keys(v);y.sort(),E.sort();for(let k=0;k<y.length&&k<E.length;++k){const V=xe(y[k],E[k]);if(V!==0)return V;const j=Bs(m[y[k]],v[E[k]]);if(j!==0)return j}return xe(y.length,E.length)}(i.mapValue,e.mapValue);default:throw pe()}}function um(i,e){if(typeof i=="string"&&typeof e=="string"&&i.length===e.length)return xe(i,e);const n=Jr(i),s=Jr(e),a=xe(n.seconds,s.seconds);return a!==0?a:xe(n.nanos,s.nanos)}function cm(i,e){const n=i.values||[],s=e.values||[];for(let a=0;a<n.length&&a<s.length;++a){const c=Bs(n[a],s[a]);if(c)return c}return xe(n.length,s.length)}function $s(i){return Th(i)}function Th(i){return"nullValue"in i?"null":"booleanValue"in i?""+i.booleanValue:"integerValue"in i?""+i.integerValue:"doubleValue"in i?""+i.doubleValue:"timestampValue"in i?function(n){const s=Jr(n);return`time(${s.seconds},${s.nanos})`}(i.timestampValue):"stringValue"in i?i.stringValue:"bytesValue"in i?function(n){return Zr(n).toBase64()}(i.bytesValue):"referenceValue"in i?function(n){return ue.fromName(n).toString()}(i.referenceValue):"geoPointValue"in i?function(n){return`geo(${n.latitude},${n.longitude})`}(i.geoPointValue):"arrayValue"in i?function(n){let s="[",a=!0;for(const c of n.values||[])a?a=!1:s+=",",s+=Th(c);return s+"]"}(i.arrayValue):"mapValue"in i?function(n){const s=Object.keys(n.fields||{}).sort();let a="{",c=!0;for(const f of s)c?c=!1:a+=",",a+=`${f}:${Th(n.fields[f])}`;return a+"}"}(i.mapValue):pe()}function bl(i){switch(ei(i)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=cu(i);return e?16+bl(e):16;case 5:return 2*i.stringValue.length;case 6:return Zr(i.bytesValue).approximateByteSize();case 7:return i.referenceValue.length;case 9:return function(s){return(s.values||[]).reduce((a,c)=>a+bl(c),0)}(i.arrayValue);case 10:case 11:return function(s){let a=0;return Ui(s.fields,(c,f)=>{a+=c.length+bl(f)}),a}(i.mapValue);default:throw pe()}}function hm(i,e){return{referenceValue:`projects/${i.projectId}/databases/${i.database}/documents/${e.path.canonicalString()}`}}function Ih(i){return!!i&&"integerValue"in i}function Qh(i){return!!i&&"arrayValue"in i}function fm(i){return!!i&&"nullValue"in i}function dm(i){return!!i&&"doubleValue"in i&&isNaN(Number(i.doubleValue))}function Ul(i){return!!i&&"mapValue"in i}function xE(i){var e,n;return((n=(((e=i==null?void 0:i.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="__vector__"}function Zo(i){if(i.geoPointValue)return{geoPointValue:Object.assign({},i.geoPointValue)};if(i.timestampValue&&typeof i.timestampValue=="object")return{timestampValue:Object.assign({},i.timestampValue)};if(i.mapValue){const e={mapValue:{fields:{}}};return Ui(i.mapValue.fields,(n,s)=>e.mapValue.fields[n]=Zo(s)),e}if(i.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(i.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Zo(i.arrayValue.values[n]);return e}return Object.assign({},i)}function NE(i){return(((i.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gn{constructor(e){this.value=e}static empty(){return new gn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let s=0;s<e.length-1;++s)if(n=(n.mapValue.fields||{})[e.get(s)],!Ul(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Zo(n)}setAll(e){let n=Rt.emptyPath(),s={},a=[];e.forEach((f,m)=>{if(!n.isImmediateParentOf(m)){const y=this.getFieldsMap(n);this.applyChanges(y,s,a),s={},a=[],n=m.popLast()}f?s[m.lastSegment()]=Zo(f):a.push(m.lastSegment())});const c=this.getFieldsMap(n);this.applyChanges(c,s,a)}delete(e){const n=this.field(e.popLast());Ul(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Gn(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let s=0;s<e.length;++s){let a=n.mapValue.fields[e.get(s)];Ul(a)&&a.mapValue.fields||(a={mapValue:{fields:{}}},n.mapValue.fields[e.get(s)]=a),n=a}return n.mapValue.fields}applyChanges(e,n,s){Ui(n,(a,c)=>e[a]=c);for(const a of s)delete e[a]}clone(){return new gn(Zo(this.value))}}function zg(i){const e=[];return Ui(i.fields,(n,s)=>{const a=new Rt([n]);if(Ul(s)){const c=zg(s.mapValue).fields;if(c.length===0)e.push(a);else for(const f of c)e.push(a.child(f))}else e.push(a)}),new Dn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mt{constructor(e,n,s,a,c,f,m){this.key=e,this.documentType=n,this.version=s,this.readTime=a,this.createTime=c,this.data=f,this.documentState=m}static newInvalidDocument(e){return new Mt(e,0,me.min(),me.min(),me.min(),gn.empty(),0)}static newFoundDocument(e,n,s,a){return new Mt(e,1,n,me.min(),s,a,0)}static newNoDocument(e,n){return new Mt(e,2,n,me.min(),me.min(),gn.empty(),0)}static newUnknownDocument(e,n){return new Mt(e,3,n,me.min(),me.min(),gn.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(me.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=gn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=gn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=me.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Mt&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Mt(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gl{constructor(e,n){this.position=e,this.inclusive=n}}function pm(i,e,n){let s=0;for(let a=0;a<i.position.length;a++){const c=e[a],f=i.position[a];if(c.field.isKeyField()?s=ue.comparator(ue.fromName(f.referenceValue),n.key):s=Bs(f,n.data.field(c.field)),c.dir==="desc"&&(s*=-1),s!==0)break}return s}function mm(i,e){if(i===null)return e===null;if(e===null||i.inclusive!==e.inclusive||i.position.length!==e.position.length)return!1;for(let n=0;n<i.position.length;n++)if(!Gn(i.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yl{constructor(e,n="asc"){this.field=e,this.dir=n}}function VE(i,e){return i.dir===e.dir&&i.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bg{}class ot extends Bg{constructor(e,n,s){super(),this.field=e,this.op=n,this.value=s}static create(e,n,s){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,s):new LE(e,n,s):n==="array-contains"?new FE(e,s):n==="in"?new bE(e,s):n==="not-in"?new UE(e,s):n==="array-contains-any"?new jE(e,s):new ot(e,n,s)}static createKeyFieldInFilter(e,n,s){return n==="in"?new OE(e,s):new ME(e,s)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(Bs(n,this.value)):n!==null&&ei(this.value)===ei(n)&&this.matchesComparison(Bs(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return pe()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Ln extends Bg{constructor(e,n){super(),this.filters=e,this.op=n,this.ae=null}static create(e,n){return new Ln(e,n)}matches(e){return $g(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.ae!==null||(this.ae=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}}function $g(i){return i.op==="and"}function qg(i){return DE(i)&&$g(i)}function DE(i){for(const e of i.filters)if(e instanceof Ln)return!1;return!0}function Sh(i){if(i instanceof ot)return i.field.canonicalString()+i.op.toString()+$s(i.value);if(qg(i))return i.filters.map(e=>Sh(e)).join(",");{const e=i.filters.map(n=>Sh(n)).join(",");return`${i.op}(${e})`}}function Hg(i,e){return i instanceof ot?function(s,a){return a instanceof ot&&s.op===a.op&&s.field.isEqual(a.field)&&Gn(s.value,a.value)}(i,e):i instanceof Ln?function(s,a){return a instanceof Ln&&s.op===a.op&&s.filters.length===a.filters.length?s.filters.reduce((c,f,m)=>c&&Hg(f,a.filters[m]),!0):!1}(i,e):void pe()}function Wg(i){return i instanceof ot?function(n){return`${n.field.canonicalString()} ${n.op} ${$s(n.value)}`}(i):i instanceof Ln?function(n){return n.op.toString()+" {"+n.getFilters().map(Wg).join(" ,")+"}"}(i):"Filter"}class LE extends ot{constructor(e,n,s){super(e,n,s),this.key=ue.fromName(s.referenceValue)}matches(e){const n=ue.comparator(e.key,this.key);return this.matchesComparison(n)}}class OE extends ot{constructor(e,n){super(e,"in",n),this.keys=Qg("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class ME extends ot{constructor(e,n){super(e,"not-in",n),this.keys=Qg("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function Qg(i,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(s=>ue.fromName(s.referenceValue))}class FE extends ot{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return Qh(n)&&aa(n.arrayValue,this.value)}}class bE extends ot{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&aa(this.value.arrayValue,n)}}class UE extends ot{constructor(e,n){super(e,"not-in",n)}matches(e){if(aa(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&!aa(this.value.arrayValue,n)}}class jE extends ot{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!Qh(n)||!n.arrayValue.values)&&n.arrayValue.values.some(s=>aa(this.value.arrayValue,s))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zE{constructor(e,n=null,s=[],a=[],c=null,f=null,m=null){this.path=e,this.collectionGroup=n,this.orderBy=s,this.filters=a,this.limit=c,this.startAt=f,this.endAt=m,this.ue=null}}function gm(i,e=null,n=[],s=[],a=null,c=null,f=null){return new zE(i,e,n,s,a,c,f)}function Kh(i){const e=ge(i);if(e.ue===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(s=>Sh(s)).join(","),n+="|ob:",n+=e.orderBy.map(s=>function(c){return c.field.canonicalString()+c.dir}(s)).join(","),uu(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(s=>$s(s)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(s=>$s(s)).join(",")),e.ue=n}return e.ue}function Gh(i,e){if(i.limit!==e.limit||i.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<i.orderBy.length;n++)if(!VE(i.orderBy[n],e.orderBy[n]))return!1;if(i.filters.length!==e.filters.length)return!1;for(let n=0;n<i.filters.length;n++)if(!Hg(i.filters[n],e.filters[n]))return!1;return i.collectionGroup===e.collectionGroup&&!!i.path.isEqual(e.path)&&!!mm(i.startAt,e.startAt)&&mm(i.endAt,e.endAt)}function Ah(i){return ue.isDocumentKey(i.path)&&i.collectionGroup===null&&i.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ha{constructor(e,n=null,s=[],a=[],c=null,f="F",m=null,y=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=s,this.filters=a,this.limit=c,this.limitType=f,this.startAt=m,this.endAt=y,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}}function BE(i,e,n,s,a,c,f,m){return new ha(i,e,n,s,a,c,f,m)}function Kg(i){return new ha(i)}function ym(i){return i.filters.length===0&&i.limit===null&&i.startAt==null&&i.endAt==null&&(i.explicitOrderBy.length===0||i.explicitOrderBy.length===1&&i.explicitOrderBy[0].field.isKeyField())}function Gg(i){return i.collectionGroup!==null}function ea(i){const e=ge(i);if(e.ce===null){e.ce=[];const n=new Set;for(const c of e.explicitOrderBy)e.ce.push(c),n.add(c.field.canonicalString());const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(f){let m=new vt(Rt.comparator);return f.filters.forEach(y=>{y.getFlattenedFilters().forEach(v=>{v.isInequality()&&(m=m.add(v.field))})}),m})(e).forEach(c=>{n.has(c.canonicalString())||c.isKeyField()||e.ce.push(new Yl(c,s))}),n.has(Rt.keyField().canonicalString())||e.ce.push(new Yl(Rt.keyField(),s))}return e.ce}function Qn(i){const e=ge(i);return e.le||(e.le=$E(e,ea(i))),e.le}function $E(i,e){if(i.limitType==="F")return gm(i.path,i.collectionGroup,e,i.filters,i.limit,i.startAt,i.endAt);{e=e.map(a=>{const c=a.dir==="desc"?"asc":"desc";return new Yl(a.field,c)});const n=i.endAt?new Gl(i.endAt.position,i.endAt.inclusive):null,s=i.startAt?new Gl(i.startAt.position,i.startAt.inclusive):null;return gm(i.path,i.collectionGroup,e,i.filters,i.limit,n,s)}}function Rh(i,e){const n=i.filters.concat([e]);return new ha(i.path,i.collectionGroup,i.explicitOrderBy.slice(),n,i.limit,i.limitType,i.startAt,i.endAt)}function Ch(i,e,n){return new ha(i.path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),e,n,i.startAt,i.endAt)}function hu(i,e){return Gh(Qn(i),Qn(e))&&i.limitType===e.limitType}function Yg(i){return`${Kh(Qn(i))}|lt:${i.limitType}`}function Ms(i){return`Query(target=${function(n){let s=n.path.canonicalString();return n.collectionGroup!==null&&(s+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(s+=`, filters: [${n.filters.map(a=>Wg(a)).join(", ")}]`),uu(n.limit)||(s+=", limit: "+n.limit),n.orderBy.length>0&&(s+=`, orderBy: [${n.orderBy.map(a=>function(f){return`${f.field.canonicalString()} (${f.dir})`}(a)).join(", ")}]`),n.startAt&&(s+=", startAt: ",s+=n.startAt.inclusive?"b:":"a:",s+=n.startAt.position.map(a=>$s(a)).join(",")),n.endAt&&(s+=", endAt: ",s+=n.endAt.inclusive?"a:":"b:",s+=n.endAt.position.map(a=>$s(a)).join(",")),`Target(${s})`}(Qn(i))}; limitType=${i.limitType})`}function fu(i,e){return e.isFoundDocument()&&function(s,a){const c=a.key.path;return s.collectionGroup!==null?a.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(c):ue.isDocumentKey(s.path)?s.path.isEqual(c):s.path.isImmediateParentOf(c)}(i,e)&&function(s,a){for(const c of ea(s))if(!c.field.isKeyField()&&a.data.field(c.field)===null)return!1;return!0}(i,e)&&function(s,a){for(const c of s.filters)if(!c.matches(a))return!1;return!0}(i,e)&&function(s,a){return!(s.startAt&&!function(f,m,y){const v=pm(f,m,y);return f.inclusive?v<=0:v<0}(s.startAt,ea(s),a)||s.endAt&&!function(f,m,y){const v=pm(f,m,y);return f.inclusive?v>=0:v>0}(s.endAt,ea(s),a))}(i,e)}function qE(i){return i.collectionGroup||(i.path.length%2==1?i.path.lastSegment():i.path.get(i.path.length-2))}function Xg(i){return(e,n)=>{let s=!1;for(const a of ea(i)){const c=HE(a,e,n);if(c!==0)return c;s=s||a.field.isKeyField()}return 0}}function HE(i,e,n){const s=i.field.isKeyField()?ue.comparator(e.key,n.key):function(c,f,m){const y=f.data.field(c),v=m.data.field(c);return y!==null&&v!==null?Bs(y,v):pe()}(i.field,e,n);switch(i.dir){case"asc":return s;case"desc":return-1*s;default:return pe()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ji{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),s=this.inner[n];if(s!==void 0){for(const[a,c]of s)if(this.equalsFn(a,e))return c}}has(e){return this.get(e)!==void 0}set(e,n){const s=this.mapKeyFn(e),a=this.inner[s];if(a===void 0)return this.inner[s]=[[e,n]],void this.innerSize++;for(let c=0;c<a.length;c++)if(this.equalsFn(a[c][0],e))return void(a[c]=[e,n]);a.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),s=this.inner[n];if(s===void 0)return!1;for(let a=0;a<s.length;a++)if(this.equalsFn(s[a][0],e))return s.length===1?delete this.inner[n]:s.splice(a,1),this.innerSize--,!0;return!1}forEach(e){Ui(this.inner,(n,s)=>{for(const[a,c]of s)e(a,c)})}isEmpty(){return Ug(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WE=new Ye(ue.comparator);function _r(){return WE}const Jg=new Ye(ue.comparator);function Yo(...i){let e=Jg;for(const n of i)e=e.insert(n.key,n);return e}function Zg(i){let e=Jg;return i.forEach((n,s)=>e=e.insert(n,s.overlayedDocument)),e}function Di(){return ta()}function ey(){return ta()}function ta(){return new ji(i=>i.toString(),(i,e)=>i.isEqual(e))}const QE=new Ye(ue.comparator),KE=new vt(ue.comparator);function Ie(...i){let e=KE;for(const n of i)e=e.add(n);return e}const GE=new vt(xe);function YE(){return GE}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yh(i,e){if(i.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Kl(e)?"-0":e}}function ty(i){return{integerValue:""+i}}function XE(i,e){return AE(e)?ty(e):Yh(i,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class du{constructor(){this._=void 0}}function JE(i,e,n){return i instanceof Xl?function(a,c){const f={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:a.seconds,nanos:a.nanoseconds}}}};return c&&Wh(c)&&(c=cu(c)),c&&(f.fields.__previous_value__=c),{mapValue:f}}(n,e):i instanceof la?ry(i,e):i instanceof ua?iy(i,e):function(a,c){const f=ny(a,c),m=_m(f)+_m(a.Pe);return Ih(f)&&Ih(a.Pe)?ty(m):Yh(a.serializer,m)}(i,e)}function ZE(i,e,n){return i instanceof la?ry(i,e):i instanceof ua?iy(i,e):n}function ny(i,e){return i instanceof Jl?function(s){return Ih(s)||function(c){return!!c&&"doubleValue"in c}(s)}(e)?e:{integerValue:0}:null}class Xl extends du{}class la extends du{constructor(e){super(),this.elements=e}}function ry(i,e){const n=sy(e);for(const s of i.elements)n.some(a=>Gn(a,s))||n.push(s);return{arrayValue:{values:n}}}class ua extends du{constructor(e){super(),this.elements=e}}function iy(i,e){let n=sy(e);for(const s of i.elements)n=n.filter(a=>!Gn(a,s));return{arrayValue:{values:n}}}class Jl extends du{constructor(e,n){super(),this.serializer=e,this.Pe=n}}function _m(i){return nt(i.integerValue||i.doubleValue)}function sy(i){return Qh(i)&&i.arrayValue.values?i.arrayValue.values.slice():[]}function eT(i,e){return i.field.isEqual(e.field)&&function(s,a){return s instanceof la&&a instanceof la||s instanceof ua&&a instanceof ua?zs(s.elements,a.elements,Gn):s instanceof Jl&&a instanceof Jl?Gn(s.Pe,a.Pe):s instanceof Xl&&a instanceof Xl}(i.transform,e.transform)}class tT{constructor(e,n){this.version=e,this.transformResults=n}}class pr{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new pr}static exists(e){return new pr(void 0,e)}static updateTime(e){return new pr(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function jl(i,e){return i.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(i.updateTime):i.exists===void 0||i.exists===e.isFoundDocument()}class pu{}function oy(i,e){if(!i.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return i.isNoDocument()?new ly(i.key,pr.none()):new fa(i.key,i.data,pr.none());{const n=i.data,s=gn.empty();let a=new vt(Rt.comparator);for(let c of e.fields)if(!a.has(c)){let f=n.field(c);f===null&&c.length>1&&(c=c.popLast(),f=n.field(c)),f===null?s.delete(c):s.set(c,f),a=a.add(c)}return new zi(i.key,s,new Dn(a.toArray()),pr.none())}}function nT(i,e,n){i instanceof fa?function(a,c,f){const m=a.value.clone(),y=wm(a.fieldTransforms,c,f.transformResults);m.setAll(y),c.convertToFoundDocument(f.version,m).setHasCommittedMutations()}(i,e,n):i instanceof zi?function(a,c,f){if(!jl(a.precondition,c))return void c.convertToUnknownDocument(f.version);const m=wm(a.fieldTransforms,c,f.transformResults),y=c.data;y.setAll(ay(a)),y.setAll(m),c.convertToFoundDocument(f.version,y).setHasCommittedMutations()}(i,e,n):function(a,c,f){c.convertToNoDocument(f.version).setHasCommittedMutations()}(0,e,n)}function na(i,e,n,s){return i instanceof fa?function(c,f,m,y){if(!jl(c.precondition,f))return m;const v=c.value.clone(),E=Em(c.fieldTransforms,y,f);return v.setAll(E),f.convertToFoundDocument(f.version,v).setHasLocalMutations(),null}(i,e,n,s):i instanceof zi?function(c,f,m,y){if(!jl(c.precondition,f))return m;const v=Em(c.fieldTransforms,y,f),E=f.data;return E.setAll(ay(c)),E.setAll(v),f.convertToFoundDocument(f.version,E).setHasLocalMutations(),m===null?null:m.unionWith(c.fieldMask.fields).unionWith(c.fieldTransforms.map(k=>k.field))}(i,e,n,s):function(c,f,m){return jl(c.precondition,f)?(f.convertToNoDocument(f.version).setHasLocalMutations(),null):m}(i,e,n)}function rT(i,e){let n=null;for(const s of i.fieldTransforms){const a=e.data.field(s.field),c=ny(s.transform,a||null);c!=null&&(n===null&&(n=gn.empty()),n.set(s.field,c))}return n||null}function vm(i,e){return i.type===e.type&&!!i.key.isEqual(e.key)&&!!i.precondition.isEqual(e.precondition)&&!!function(s,a){return s===void 0&&a===void 0||!(!s||!a)&&zs(s,a,(c,f)=>eT(c,f))}(i.fieldTransforms,e.fieldTransforms)&&(i.type===0?i.value.isEqual(e.value):i.type!==1||i.data.isEqual(e.data)&&i.fieldMask.isEqual(e.fieldMask))}class fa extends pu{constructor(e,n,s,a=[]){super(),this.key=e,this.value=n,this.precondition=s,this.fieldTransforms=a,this.type=0}getFieldMask(){return null}}class zi extends pu{constructor(e,n,s,a,c=[]){super(),this.key=e,this.data=n,this.fieldMask=s,this.precondition=a,this.fieldTransforms=c,this.type=1}getFieldMask(){return this.fieldMask}}function ay(i){const e=new Map;return i.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const s=i.data.field(n);e.set(n,s)}}),e}function wm(i,e,n){const s=new Map;Me(i.length===n.length);for(let a=0;a<n.length;a++){const c=i[a],f=c.transform,m=e.data.field(c.field);s.set(c.field,ZE(f,m,n[a]))}return s}function Em(i,e,n){const s=new Map;for(const a of i){const c=a.transform,f=n.data.field(a.field);s.set(a.field,JE(c,f,e))}return s}class ly extends pu{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class iT extends pu{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sT{constructor(e,n,s,a){this.batchId=e,this.localWriteTime=n,this.baseMutations=s,this.mutations=a}applyToRemoteDocument(e,n){const s=n.mutationResults;for(let a=0;a<this.mutations.length;a++){const c=this.mutations[a];c.key.isEqual(e.key)&&nT(c,e,s[a])}}applyToLocalView(e,n){for(const s of this.baseMutations)s.key.isEqual(e.key)&&(n=na(s,e,n,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(e.key)&&(n=na(s,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const s=ey();return this.mutations.forEach(a=>{const c=e.get(a.key),f=c.overlayedDocument;let m=this.applyToLocalView(f,c.mutatedFields);m=n.has(a.key)?null:m;const y=oy(f,m);y!==null&&s.set(a.key,y),f.isValidDocument()||f.convertToNoDocument(me.min())}),s}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),Ie())}isEqual(e){return this.batchId===e.batchId&&zs(this.mutations,e.mutations,(n,s)=>vm(n,s))&&zs(this.baseMutations,e.baseMutations,(n,s)=>vm(n,s))}}class Xh{constructor(e,n,s,a){this.batch=e,this.commitVersion=n,this.mutationResults=s,this.docVersions=a}static from(e,n,s){Me(e.mutations.length===s.length);let a=function(){return QE}();const c=e.mutations;for(let f=0;f<c.length;f++)a=a.insert(c[f].key,s[f].version);return new Xh(e,n,s,a)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oT{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aT{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var st,Pe;function lT(i){switch(i){default:return pe();case $.CANCELLED:case $.UNKNOWN:case $.DEADLINE_EXCEEDED:case $.RESOURCE_EXHAUSTED:case $.INTERNAL:case $.UNAVAILABLE:case $.UNAUTHENTICATED:return!1;case $.INVALID_ARGUMENT:case $.NOT_FOUND:case $.ALREADY_EXISTS:case $.PERMISSION_DENIED:case $.FAILED_PRECONDITION:case $.ABORTED:case $.OUT_OF_RANGE:case $.UNIMPLEMENTED:case $.DATA_LOSS:return!0}}function uy(i){if(i===void 0)return yr("GRPC error has no .code"),$.UNKNOWN;switch(i){case st.OK:return $.OK;case st.CANCELLED:return $.CANCELLED;case st.UNKNOWN:return $.UNKNOWN;case st.DEADLINE_EXCEEDED:return $.DEADLINE_EXCEEDED;case st.RESOURCE_EXHAUSTED:return $.RESOURCE_EXHAUSTED;case st.INTERNAL:return $.INTERNAL;case st.UNAVAILABLE:return $.UNAVAILABLE;case st.UNAUTHENTICATED:return $.UNAUTHENTICATED;case st.INVALID_ARGUMENT:return $.INVALID_ARGUMENT;case st.NOT_FOUND:return $.NOT_FOUND;case st.ALREADY_EXISTS:return $.ALREADY_EXISTS;case st.PERMISSION_DENIED:return $.PERMISSION_DENIED;case st.FAILED_PRECONDITION:return $.FAILED_PRECONDITION;case st.ABORTED:return $.ABORTED;case st.OUT_OF_RANGE:return $.OUT_OF_RANGE;case st.UNIMPLEMENTED:return $.UNIMPLEMENTED;case st.DATA_LOSS:return $.DATA_LOSS;default:return pe()}}(Pe=st||(st={}))[Pe.OK=0]="OK",Pe[Pe.CANCELLED=1]="CANCELLED",Pe[Pe.UNKNOWN=2]="UNKNOWN",Pe[Pe.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Pe[Pe.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Pe[Pe.NOT_FOUND=5]="NOT_FOUND",Pe[Pe.ALREADY_EXISTS=6]="ALREADY_EXISTS",Pe[Pe.PERMISSION_DENIED=7]="PERMISSION_DENIED",Pe[Pe.UNAUTHENTICATED=16]="UNAUTHENTICATED",Pe[Pe.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Pe[Pe.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Pe[Pe.ABORTED=10]="ABORTED",Pe[Pe.OUT_OF_RANGE=11]="OUT_OF_RANGE",Pe[Pe.UNIMPLEMENTED=12]="UNIMPLEMENTED",Pe[Pe.INTERNAL=13]="INTERNAL",Pe[Pe.UNAVAILABLE=14]="UNAVAILABLE",Pe[Pe.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uT(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cT=new Oi([4294967295,4294967295],0);function Tm(i){const e=uT().encode(i),n=new Ng;return n.update(e),new Uint8Array(n.digest())}function Im(i){const e=new DataView(i.buffer),n=e.getUint32(0,!0),s=e.getUint32(4,!0),a=e.getUint32(8,!0),c=e.getUint32(12,!0);return[new Oi([n,s],0),new Oi([a,c],0)]}class Jh{constructor(e,n,s){if(this.bitmap=e,this.padding=n,this.hashCount=s,n<0||n>=8)throw new Xo(`Invalid padding: ${n}`);if(s<0)throw new Xo(`Invalid hash count: ${s}`);if(e.length>0&&this.hashCount===0)throw new Xo(`Invalid hash count: ${s}`);if(e.length===0&&n!==0)throw new Xo(`Invalid padding when bitmap length is 0: ${n}`);this.Ie=8*e.length-n,this.Te=Oi.fromNumber(this.Ie)}Ee(e,n,s){let a=e.add(n.multiply(Oi.fromNumber(s)));return a.compare(cT)===1&&(a=new Oi([a.getBits(0),a.getBits(1)],0)),a.modulo(this.Te).toNumber()}de(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Ie===0)return!1;const n=Tm(e),[s,a]=Im(n);for(let c=0;c<this.hashCount;c++){const f=this.Ee(s,a,c);if(!this.de(f))return!1}return!0}static create(e,n,s){const a=e%8==0?0:8-e%8,c=new Uint8Array(Math.ceil(e/8)),f=new Jh(c,a,n);return s.forEach(m=>f.insert(m)),f}insert(e){if(this.Ie===0)return;const n=Tm(e),[s,a]=Im(n);for(let c=0;c<this.hashCount;c++){const f=this.Ee(s,a,c);this.Ae(f)}}Ae(e){const n=Math.floor(e/8),s=e%8;this.bitmap[n]|=1<<s}}class Xo extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mu{constructor(e,n,s,a,c){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=s,this.documentUpdates=a,this.resolvedLimboDocuments=c}static createSynthesizedRemoteEventForCurrentChange(e,n,s){const a=new Map;return a.set(e,da.createSynthesizedTargetChangeForCurrentChange(e,n,s)),new mu(me.min(),a,new Ye(xe),_r(),Ie())}}class da{constructor(e,n,s,a,c){this.resumeToken=e,this.current=n,this.addedDocuments=s,this.modifiedDocuments=a,this.removedDocuments=c}static createSynthesizedTargetChangeForCurrentChange(e,n,s){return new da(s,n,Ie(),Ie(),Ie())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zl{constructor(e,n,s,a){this.Re=e,this.removedTargetIds=n,this.key=s,this.Ve=a}}class cy{constructor(e,n){this.targetId=e,this.me=n}}class hy{constructor(e,n,s=Ct.EMPTY_BYTE_STRING,a=null){this.state=e,this.targetIds=n,this.resumeToken=s,this.cause=a}}class Sm{constructor(){this.fe=0,this.ge=Rm(),this.pe=Ct.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return this.fe!==0}get be(){return this.we}De(e){e.approximateByteSize()>0&&(this.we=!0,this.pe=e)}ve(){let e=Ie(),n=Ie(),s=Ie();return this.ge.forEach((a,c)=>{switch(c){case 0:e=e.add(a);break;case 2:n=n.add(a);break;case 1:s=s.add(a);break;default:pe()}}),new da(this.pe,this.ye,e,n,s)}Ce(){this.we=!1,this.ge=Rm()}Fe(e,n){this.we=!0,this.ge=this.ge.insert(e,n)}Me(e){this.we=!0,this.ge=this.ge.remove(e)}xe(){this.fe+=1}Oe(){this.fe-=1,Me(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}}class hT{constructor(e){this.Le=e,this.Be=new Map,this.ke=_r(),this.qe=Am(),this.Qe=new Ye(xe)}Ke(e){for(const n of e.Re)e.Ve&&e.Ve.isFoundDocument()?this.$e(n,e.Ve):this.Ue(n,e.key,e.Ve);for(const n of e.removedTargetIds)this.Ue(n,e.key,e.Ve)}We(e){this.forEachTarget(e,n=>{const s=this.Ge(n);switch(e.state){case 0:this.ze(n)&&s.De(e.resumeToken);break;case 1:s.Oe(),s.Se||s.Ce(),s.De(e.resumeToken);break;case 2:s.Oe(),s.Se||this.removeTarget(n);break;case 3:this.ze(n)&&(s.Ne(),s.De(e.resumeToken));break;case 4:this.ze(n)&&(this.je(n),s.De(e.resumeToken));break;default:pe()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.Be.forEach((s,a)=>{this.ze(a)&&n(a)})}He(e){const n=e.targetId,s=e.me.count,a=this.Je(n);if(a){const c=a.target;if(Ah(c))if(s===0){const f=new ue(c.path);this.Ue(n,f,Mt.newNoDocument(f,me.min()))}else Me(s===1);else{const f=this.Ye(n);if(f!==s){const m=this.Ze(e),y=m?this.Xe(m,e,f):1;if(y!==0){this.je(n);const v=y===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Qe=this.Qe.insert(n,v)}}}}}Ze(e){const n=e.me.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:s="",padding:a=0},hashCount:c=0}=n;let f,m;try{f=Zr(s).toUint8Array()}catch(y){if(y instanceof jg)return js("Decoding the base64 bloom filter in existence filter failed ("+y.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw y}try{m=new Jh(f,a,c)}catch(y){return js(y instanceof Xo?"BloomFilter error: ":"Applying bloom filter failed: ",y),null}return m.Ie===0?null:m}Xe(e,n,s){return n.me.count===s-this.nt(e,n.targetId)?0:2}nt(e,n){const s=this.Le.getRemoteKeysForTarget(n);let a=0;return s.forEach(c=>{const f=this.Le.tt(),m=`projects/${f.projectId}/databases/${f.database}/documents/${c.path.canonicalString()}`;e.mightContain(m)||(this.Ue(n,c,null),a++)}),a}rt(e){const n=new Map;this.Be.forEach((c,f)=>{const m=this.Je(f);if(m){if(c.current&&Ah(m.target)){const y=new ue(m.target.path);this.ke.get(y)!==null||this.it(f,y)||this.Ue(f,y,Mt.newNoDocument(y,e))}c.be&&(n.set(f,c.ve()),c.Ce())}});let s=Ie();this.qe.forEach((c,f)=>{let m=!0;f.forEachWhile(y=>{const v=this.Je(y);return!v||v.purpose==="TargetPurposeLimboResolution"||(m=!1,!1)}),m&&(s=s.add(c))}),this.ke.forEach((c,f)=>f.setReadTime(e));const a=new mu(e,n,this.Qe,this.ke,s);return this.ke=_r(),this.qe=Am(),this.Qe=new Ye(xe),a}$e(e,n){if(!this.ze(e))return;const s=this.it(e,n.key)?2:0;this.Ge(e).Fe(n.key,s),this.ke=this.ke.insert(n.key,n),this.qe=this.qe.insert(n.key,this.st(n.key).add(e))}Ue(e,n,s){if(!this.ze(e))return;const a=this.Ge(e);this.it(e,n)?a.Fe(n,1):a.Me(n),this.qe=this.qe.insert(n,this.st(n).delete(e)),s&&(this.ke=this.ke.insert(n,s))}removeTarget(e){this.Be.delete(e)}Ye(e){const n=this.Ge(e).ve();return this.Le.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}xe(e){this.Ge(e).xe()}Ge(e){let n=this.Be.get(e);return n||(n=new Sm,this.Be.set(e,n)),n}st(e){let n=this.qe.get(e);return n||(n=new vt(xe),this.qe=this.qe.insert(e,n)),n}ze(e){const n=this.Je(e)!==null;return n||ne("WatchChangeAggregator","Detected inactive target",e),n}Je(e){const n=this.Be.get(e);return n&&n.Se?null:this.Le.ot(e)}je(e){this.Be.set(e,new Sm),this.Le.getRemoteKeysForTarget(e).forEach(n=>{this.Ue(e,n,null)})}it(e,n){return this.Le.getRemoteKeysForTarget(e).has(n)}}function Am(){return new Ye(ue.comparator)}function Rm(){return new Ye(ue.comparator)}const fT={asc:"ASCENDING",desc:"DESCENDING"},dT={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},pT={and:"AND",or:"OR"};class mT{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function Ph(i,e){return i.useProto3Json||uu(e)?e:{value:e}}function Zl(i,e){return i.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function fy(i,e){return i.useProto3Json?e.toBase64():e.toUint8Array()}function gT(i,e){return Zl(i,e.toTimestamp())}function Kn(i){return Me(!!i),me.fromTimestamp(function(n){const s=Jr(n);return new ft(s.seconds,s.nanos)}(i))}function Zh(i,e){return kh(i,e).canonicalString()}function kh(i,e){const n=function(a){return new He(["projects",a.projectId,"databases",a.database])}(i).child("documents");return e===void 0?n:n.child(e)}function dy(i){const e=He.fromString(i);return Me(_y(e)),e}function xh(i,e){return Zh(i.databaseId,e.path)}function uh(i,e){const n=dy(e);if(n.get(1)!==i.databaseId.projectId)throw new se($.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+i.databaseId.projectId);if(n.get(3)!==i.databaseId.database)throw new se($.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+i.databaseId.database);return new ue(my(n))}function py(i,e){return Zh(i.databaseId,e)}function yT(i){const e=dy(i);return e.length===4?He.emptyPath():my(e)}function Nh(i){return new He(["projects",i.databaseId.projectId,"databases",i.databaseId.database]).canonicalString()}function my(i){return Me(i.length>4&&i.get(4)==="documents"),i.popFirst(5)}function Cm(i,e,n){return{name:xh(i,e),fields:n.value.mapValue.fields}}function _T(i,e){let n;if("targetChange"in e){e.targetChange;const s=function(v){return v==="NO_CHANGE"?0:v==="ADD"?1:v==="REMOVE"?2:v==="CURRENT"?3:v==="RESET"?4:pe()}(e.targetChange.targetChangeType||"NO_CHANGE"),a=e.targetChange.targetIds||[],c=function(v,E){return v.useProto3Json?(Me(E===void 0||typeof E=="string"),Ct.fromBase64String(E||"")):(Me(E===void 0||E instanceof Buffer||E instanceof Uint8Array),Ct.fromUint8Array(E||new Uint8Array))}(i,e.targetChange.resumeToken),f=e.targetChange.cause,m=f&&function(v){const E=v.code===void 0?$.UNKNOWN:uy(v.code);return new se(E,v.message||"")}(f);n=new hy(s,a,c,m||null)}else if("documentChange"in e){e.documentChange;const s=e.documentChange;s.document,s.document.name,s.document.updateTime;const a=uh(i,s.document.name),c=Kn(s.document.updateTime),f=s.document.createTime?Kn(s.document.createTime):me.min(),m=new gn({mapValue:{fields:s.document.fields}}),y=Mt.newFoundDocument(a,c,f,m),v=s.targetIds||[],E=s.removedTargetIds||[];n=new zl(v,E,y.key,y)}else if("documentDelete"in e){e.documentDelete;const s=e.documentDelete;s.document;const a=uh(i,s.document),c=s.readTime?Kn(s.readTime):me.min(),f=Mt.newNoDocument(a,c),m=s.removedTargetIds||[];n=new zl([],m,f.key,f)}else if("documentRemove"in e){e.documentRemove;const s=e.documentRemove;s.document;const a=uh(i,s.document),c=s.removedTargetIds||[];n=new zl([],c,a,null)}else{if(!("filter"in e))return pe();{e.filter;const s=e.filter;s.targetId;const{count:a=0,unchangedNames:c}=s,f=new aT(a,c),m=s.targetId;n=new cy(m,f)}}return n}function vT(i,e){let n;if(e instanceof fa)n={update:Cm(i,e.key,e.value)};else if(e instanceof ly)n={delete:xh(i,e.key)};else if(e instanceof zi)n={update:Cm(i,e.key,e.data),updateMask:PT(e.fieldMask)};else{if(!(e instanceof iT))return pe();n={verify:xh(i,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(s=>function(c,f){const m=f.transform;if(m instanceof Xl)return{fieldPath:f.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(m instanceof la)return{fieldPath:f.field.canonicalString(),appendMissingElements:{values:m.elements}};if(m instanceof ua)return{fieldPath:f.field.canonicalString(),removeAllFromArray:{values:m.elements}};if(m instanceof Jl)return{fieldPath:f.field.canonicalString(),increment:m.Pe};throw pe()}(0,s))),e.precondition.isNone||(n.currentDocument=function(a,c){return c.updateTime!==void 0?{updateTime:gT(a,c.updateTime)}:c.exists!==void 0?{exists:c.exists}:pe()}(i,e.precondition)),n}function wT(i,e){return i&&i.length>0?(Me(e!==void 0),i.map(n=>function(a,c){let f=a.updateTime?Kn(a.updateTime):Kn(c);return f.isEqual(me.min())&&(f=Kn(c)),new tT(f,a.transformResults||[])}(n,e))):[]}function ET(i,e){return{documents:[py(i,e.path)]}}function TT(i,e){const n={structuredQuery:{}},s=e.path;let a;e.collectionGroup!==null?(a=s,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(a=s.popLast(),n.structuredQuery.from=[{collectionId:s.lastSegment()}]),n.parent=py(i,a);const c=function(v){if(v.length!==0)return yy(Ln.create(v,"and"))}(e.filters);c&&(n.structuredQuery.where=c);const f=function(v){if(v.length!==0)return v.map(E=>function(V){return{field:Fs(V.field),direction:AT(V.dir)}}(E))}(e.orderBy);f&&(n.structuredQuery.orderBy=f);const m=Ph(i,e.limit);return m!==null&&(n.structuredQuery.limit=m),e.startAt&&(n.structuredQuery.startAt=function(v){return{before:v.inclusive,values:v.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(v){return{before:!v.inclusive,values:v.position}}(e.endAt)),{_t:n,parent:a}}function IT(i){let e=yT(i.parent);const n=i.structuredQuery,s=n.from?n.from.length:0;let a=null;if(s>0){Me(s===1);const E=n.from[0];E.allDescendants?a=E.collectionId:e=e.child(E.collectionId)}let c=[];n.where&&(c=function(k){const V=gy(k);return V instanceof Ln&&qg(V)?V.getFilters():[V]}(n.where));let f=[];n.orderBy&&(f=function(k){return k.map(V=>function(G){return new Yl(bs(G.field),function(Q){switch(Q){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(G.direction))}(V))}(n.orderBy));let m=null;n.limit&&(m=function(k){let V;return V=typeof k=="object"?k.value:k,uu(V)?null:V}(n.limit));let y=null;n.startAt&&(y=function(k){const V=!!k.before,j=k.values||[];return new Gl(j,V)}(n.startAt));let v=null;return n.endAt&&(v=function(k){const V=!k.before,j=k.values||[];return new Gl(j,V)}(n.endAt)),BE(e,a,f,c,m,"F",y,v)}function ST(i,e){const n=function(a){switch(a){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return pe()}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function gy(i){return i.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const s=bs(n.unaryFilter.field);return ot.create(s,"==",{doubleValue:NaN});case"IS_NULL":const a=bs(n.unaryFilter.field);return ot.create(a,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const c=bs(n.unaryFilter.field);return ot.create(c,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const f=bs(n.unaryFilter.field);return ot.create(f,"!=",{nullValue:"NULL_VALUE"});default:return pe()}}(i):i.fieldFilter!==void 0?function(n){return ot.create(bs(n.fieldFilter.field),function(a){switch(a){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return pe()}}(n.fieldFilter.op),n.fieldFilter.value)}(i):i.compositeFilter!==void 0?function(n){return Ln.create(n.compositeFilter.filters.map(s=>gy(s)),function(a){switch(a){case"AND":return"and";case"OR":return"or";default:return pe()}}(n.compositeFilter.op))}(i):pe()}function AT(i){return fT[i]}function RT(i){return dT[i]}function CT(i){return pT[i]}function Fs(i){return{fieldPath:i.canonicalString()}}function bs(i){return Rt.fromServerFormat(i.fieldPath)}function yy(i){return i instanceof ot?function(n){if(n.op==="=="){if(dm(n.value))return{unaryFilter:{field:Fs(n.field),op:"IS_NAN"}};if(fm(n.value))return{unaryFilter:{field:Fs(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(dm(n.value))return{unaryFilter:{field:Fs(n.field),op:"IS_NOT_NAN"}};if(fm(n.value))return{unaryFilter:{field:Fs(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Fs(n.field),op:RT(n.op),value:n.value}}}(i):i instanceof Ln?function(n){const s=n.getFilters().map(a=>yy(a));return s.length===1?s[0]:{compositeFilter:{op:CT(n.op),filters:s}}}(i):pe()}function PT(i){const e=[];return i.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function _y(i){return i.length>=4&&i.get(0)==="projects"&&i.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qr{constructor(e,n,s,a,c=me.min(),f=me.min(),m=Ct.EMPTY_BYTE_STRING,y=null){this.target=e,this.targetId=n,this.purpose=s,this.sequenceNumber=a,this.snapshotVersion=c,this.lastLimboFreeSnapshotVersion=f,this.resumeToken=m,this.expectedCount=y}withSequenceNumber(e){return new qr(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new qr(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new qr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new qr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kT{constructor(e){this.ct=e}}function xT(i){const e=IT({parent:i.parent,structuredQuery:i.structuredQuery});return i.limitType==="LAST"?Ch(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NT{constructor(){this.un=new VT}addToCollectionParentIndex(e,n){return this.un.add(n),z.resolve()}getCollectionParents(e,n){return z.resolve(this.un.getEntries(n))}addFieldIndex(e,n){return z.resolve()}deleteFieldIndex(e,n){return z.resolve()}deleteAllFieldIndexes(e){return z.resolve()}createTargetIndexes(e,n){return z.resolve()}getDocumentsMatchingTarget(e,n){return z.resolve(null)}getIndexType(e,n){return z.resolve(0)}getFieldIndexes(e,n){return z.resolve([])}getNextCollectionGroupToUpdate(e){return z.resolve(null)}getMinOffset(e,n){return z.resolve(Xr.min())}getMinOffsetFromCollectionGroup(e,n){return z.resolve(Xr.min())}updateCollectionGroup(e,n,s){return z.resolve()}updateIndexEntries(e,n){return z.resolve()}}class VT{constructor(){this.index={}}add(e){const n=e.lastSegment(),s=e.popLast(),a=this.index[n]||new vt(He.comparator),c=!a.has(s);return this.index[n]=a.add(s),c}has(e){const n=e.lastSegment(),s=e.popLast(),a=this.index[n];return a&&a.has(s)}getEntries(e){return(this.index[e]||new vt(He.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pm={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class Gt{constructor(e,n,s){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=s}static withCacheSize(e){return new Gt(e,Gt.DEFAULT_COLLECTION_PERCENTILE,Gt.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Gt.DEFAULT_COLLECTION_PERCENTILE=10,Gt.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Gt.DEFAULT=new Gt(41943040,Gt.DEFAULT_COLLECTION_PERCENTILE,Gt.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Gt.DISABLED=new Gt(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qs{constructor(e){this.Ln=e}next(){return this.Ln+=2,this.Ln}static Bn(){return new qs(0)}static kn(){return new qs(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function km([i,e],[n,s]){const a=xe(i,n);return a===0?xe(e,s):a}class DT{constructor(e){this.Un=e,this.buffer=new vt(km),this.Wn=0}Gn(){return++this.Wn}zn(e){const n=[e,this.Gn()];if(this.buffer.size<this.Un)this.buffer=this.buffer.add(n);else{const s=this.buffer.last();km(n,s)<0&&(this.buffer=this.buffer.delete(s).add(n))}}get maxValue(){return this.buffer.last()[0]}}class LT{constructor(e,n,s){this.garbageCollector=e,this.asyncQueue=n,this.localStore=s,this.jn=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Hn(6e4)}stop(){this.jn&&(this.jn.cancel(),this.jn=null)}get started(){return this.jn!==null}Hn(e){ne("LruGarbageCollector",`Garbage collection scheduled in ${e}ms`),this.jn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.jn=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){Ys(n)?ne("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",n):await Gs(n)}await this.Hn(3e5)})}}class OT{constructor(e,n){this.Jn=e,this.params=n}calculateTargetCount(e,n){return this.Jn.Yn(e).next(s=>Math.floor(n/100*s))}nthSequenceNumber(e,n){if(n===0)return z.resolve(lu.oe);const s=new DT(n);return this.Jn.forEachTarget(e,a=>s.zn(a.sequenceNumber)).next(()=>this.Jn.Zn(e,a=>s.zn(a))).next(()=>s.maxValue)}removeTargets(e,n,s){return this.Jn.removeTargets(e,n,s)}removeOrphanedDocuments(e,n){return this.Jn.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(ne("LruGarbageCollector","Garbage collection skipped; disabled"),z.resolve(Pm)):this.getCacheSize(e).next(s=>s<this.params.cacheSizeCollectionThreshold?(ne("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),Pm):this.Xn(e,n))}getCacheSize(e){return this.Jn.getCacheSize(e)}Xn(e,n){let s,a,c,f,m,y,v;const E=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(k=>(k>this.params.maximumSequenceNumbersToCollect?(ne("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${k}`),a=this.params.maximumSequenceNumbersToCollect):a=k,f=Date.now(),this.nthSequenceNumber(e,a))).next(k=>(s=k,m=Date.now(),this.removeTargets(e,s,n))).next(k=>(c=k,y=Date.now(),this.removeOrphanedDocuments(e,s))).next(k=>(v=Date.now(),Os()<=ke.DEBUG&&ne("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${f-E}ms
	Determined least recently used ${a} in `+(m-f)+`ms
	Removed ${c} targets in `+(y-m)+`ms
	Removed ${k} documents in `+(v-y)+`ms
Total Duration: ${v-E}ms`),z.resolve({didRun:!0,sequenceNumbersCollected:a,targetsRemoved:c,documentsRemoved:k})))}}function MT(i,e){return new OT(i,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FT{constructor(){this.changes=new ji(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Mt.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const s=this.changes.get(n);return s!==void 0?z.resolve(s):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bT{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UT{constructor(e,n,s,a){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=s,this.indexManager=a}getDocument(e,n){let s=null;return this.documentOverlayCache.getOverlay(e,n).next(a=>(s=a,this.remoteDocumentCache.getEntry(e,n))).next(a=>(s!==null&&na(s.mutation,a,Dn.empty(),ft.now()),a))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(s=>this.getLocalViewOfDocuments(e,s,Ie()).next(()=>s))}getLocalViewOfDocuments(e,n,s=Ie()){const a=Di();return this.populateOverlays(e,a,n).next(()=>this.computeViews(e,n,a,s).next(c=>{let f=Yo();return c.forEach((m,y)=>{f=f.insert(m,y.overlayedDocument)}),f}))}getOverlayedDocuments(e,n){const s=Di();return this.populateOverlays(e,s,n).next(()=>this.computeViews(e,n,s,Ie()))}populateOverlays(e,n,s){const a=[];return s.forEach(c=>{n.has(c)||a.push(c)}),this.documentOverlayCache.getOverlays(e,a).next(c=>{c.forEach((f,m)=>{n.set(f,m)})})}computeViews(e,n,s,a){let c=_r();const f=ta(),m=function(){return ta()}();return n.forEach((y,v)=>{const E=s.get(v.key);a.has(v.key)&&(E===void 0||E.mutation instanceof zi)?c=c.insert(v.key,v):E!==void 0?(f.set(v.key,E.mutation.getFieldMask()),na(E.mutation,v,E.mutation.getFieldMask(),ft.now())):f.set(v.key,Dn.empty())}),this.recalculateAndSaveOverlays(e,c).next(y=>(y.forEach((v,E)=>f.set(v,E)),n.forEach((v,E)=>{var k;return m.set(v,new bT(E,(k=f.get(v))!==null&&k!==void 0?k:null))}),m))}recalculateAndSaveOverlays(e,n){const s=ta();let a=new Ye((f,m)=>f-m),c=Ie();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(f=>{for(const m of f)m.keys().forEach(y=>{const v=n.get(y);if(v===null)return;let E=s.get(y)||Dn.empty();E=m.applyToLocalView(v,E),s.set(y,E);const k=(a.get(m.batchId)||Ie()).add(y);a=a.insert(m.batchId,k)})}).next(()=>{const f=[],m=a.getReverseIterator();for(;m.hasNext();){const y=m.getNext(),v=y.key,E=y.value,k=ey();E.forEach(V=>{if(!c.has(V)){const j=oy(n.get(V),s.get(V));j!==null&&k.set(V,j),c=c.add(V)}}),f.push(this.documentOverlayCache.saveOverlays(e,v,k))}return z.waitFor(f)}).next(()=>s)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(s=>this.recalculateAndSaveOverlays(e,s))}getDocumentsMatchingQuery(e,n,s,a){return function(f){return ue.isDocumentKey(f.path)&&f.collectionGroup===null&&f.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):Gg(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,s,a):this.getDocumentsMatchingCollectionQuery(e,n,s,a)}getNextDocuments(e,n,s,a){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,s,a).next(c=>{const f=a-c.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,s.largestBatchId,a-c.size):z.resolve(Di());let m=-1,y=c;return f.next(v=>z.forEach(v,(E,k)=>(m<k.largestBatchId&&(m=k.largestBatchId),c.get(E)?z.resolve():this.remoteDocumentCache.getEntry(e,E).next(V=>{y=y.insert(E,V)}))).next(()=>this.populateOverlays(e,v,c)).next(()=>this.computeViews(e,y,v,Ie())).next(E=>({batchId:m,changes:Zg(E)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new ue(n)).next(s=>{let a=Yo();return s.isFoundDocument()&&(a=a.insert(s.key,s)),a})}getDocumentsMatchingCollectionGroupQuery(e,n,s,a){const c=n.collectionGroup;let f=Yo();return this.indexManager.getCollectionParents(e,c).next(m=>z.forEach(m,y=>{const v=function(k,V){return new ha(V,null,k.explicitOrderBy.slice(),k.filters.slice(),k.limit,k.limitType,k.startAt,k.endAt)}(n,y.child(c));return this.getDocumentsMatchingCollectionQuery(e,v,s,a).next(E=>{E.forEach((k,V)=>{f=f.insert(k,V)})})}).next(()=>f))}getDocumentsMatchingCollectionQuery(e,n,s,a){let c;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,s.largestBatchId).next(f=>(c=f,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,s,c,a))).next(f=>{c.forEach((y,v)=>{const E=v.getKey();f.get(E)===null&&(f=f.insert(E,Mt.newInvalidDocument(E)))});let m=Yo();return f.forEach((y,v)=>{const E=c.get(y);E!==void 0&&na(E.mutation,v,Dn.empty(),ft.now()),fu(n,v)&&(m=m.insert(y,v))}),m})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jT{constructor(e){this.serializer=e,this.hr=new Map,this.Pr=new Map}getBundleMetadata(e,n){return z.resolve(this.hr.get(n))}saveBundleMetadata(e,n){return this.hr.set(n.id,function(a){return{id:a.id,version:a.version,createTime:Kn(a.createTime)}}(n)),z.resolve()}getNamedQuery(e,n){return z.resolve(this.Pr.get(n))}saveNamedQuery(e,n){return this.Pr.set(n.name,function(a){return{name:a.name,query:xT(a.bundledQuery),readTime:Kn(a.readTime)}}(n)),z.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zT{constructor(){this.overlays=new Ye(ue.comparator),this.Ir=new Map}getOverlay(e,n){return z.resolve(this.overlays.get(n))}getOverlays(e,n){const s=Di();return z.forEach(n,a=>this.getOverlay(e,a).next(c=>{c!==null&&s.set(a,c)})).next(()=>s)}saveOverlays(e,n,s){return s.forEach((a,c)=>{this.ht(e,n,c)}),z.resolve()}removeOverlaysForBatchId(e,n,s){const a=this.Ir.get(s);return a!==void 0&&(a.forEach(c=>this.overlays=this.overlays.remove(c)),this.Ir.delete(s)),z.resolve()}getOverlaysForCollection(e,n,s){const a=Di(),c=n.length+1,f=new ue(n.child("")),m=this.overlays.getIteratorFrom(f);for(;m.hasNext();){const y=m.getNext().value,v=y.getKey();if(!n.isPrefixOf(v.path))break;v.path.length===c&&y.largestBatchId>s&&a.set(y.getKey(),y)}return z.resolve(a)}getOverlaysForCollectionGroup(e,n,s,a){let c=new Ye((v,E)=>v-E);const f=this.overlays.getIterator();for(;f.hasNext();){const v=f.getNext().value;if(v.getKey().getCollectionGroup()===n&&v.largestBatchId>s){let E=c.get(v.largestBatchId);E===null&&(E=Di(),c=c.insert(v.largestBatchId,E)),E.set(v.getKey(),v)}}const m=Di(),y=c.getIterator();for(;y.hasNext()&&(y.getNext().value.forEach((v,E)=>m.set(v,E)),!(m.size()>=a)););return z.resolve(m)}ht(e,n,s){const a=this.overlays.get(s.key);if(a!==null){const f=this.Ir.get(a.largestBatchId).delete(s.key);this.Ir.set(a.largestBatchId,f)}this.overlays=this.overlays.insert(s.key,new oT(n,s));let c=this.Ir.get(n);c===void 0&&(c=Ie(),this.Ir.set(n,c)),this.Ir.set(n,c.add(s.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BT{constructor(){this.sessionToken=Ct.EMPTY_BYTE_STRING}getSessionToken(e){return z.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,z.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ef{constructor(){this.Tr=new vt(_t.Er),this.dr=new vt(_t.Ar)}isEmpty(){return this.Tr.isEmpty()}addReference(e,n){const s=new _t(e,n);this.Tr=this.Tr.add(s),this.dr=this.dr.add(s)}Rr(e,n){e.forEach(s=>this.addReference(s,n))}removeReference(e,n){this.Vr(new _t(e,n))}mr(e,n){e.forEach(s=>this.removeReference(s,n))}gr(e){const n=new ue(new He([])),s=new _t(n,e),a=new _t(n,e+1),c=[];return this.dr.forEachInRange([s,a],f=>{this.Vr(f),c.push(f.key)}),c}pr(){this.Tr.forEach(e=>this.Vr(e))}Vr(e){this.Tr=this.Tr.delete(e),this.dr=this.dr.delete(e)}yr(e){const n=new ue(new He([])),s=new _t(n,e),a=new _t(n,e+1);let c=Ie();return this.dr.forEachInRange([s,a],f=>{c=c.add(f.key)}),c}containsKey(e){const n=new _t(e,0),s=this.Tr.firstAfterOrEqual(n);return s!==null&&e.isEqual(s.key)}}class _t{constructor(e,n){this.key=e,this.wr=n}static Er(e,n){return ue.comparator(e.key,n.key)||xe(e.wr,n.wr)}static Ar(e,n){return xe(e.wr,n.wr)||ue.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $T{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.Sr=1,this.br=new vt(_t.Er)}checkEmpty(e){return z.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,s,a){const c=this.Sr;this.Sr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const f=new sT(c,n,s,a);this.mutationQueue.push(f);for(const m of a)this.br=this.br.add(new _t(m.key,c)),this.indexManager.addToCollectionParentIndex(e,m.key.path.popLast());return z.resolve(f)}lookupMutationBatch(e,n){return z.resolve(this.Dr(n))}getNextMutationBatchAfterBatchId(e,n){const s=n+1,a=this.vr(s),c=a<0?0:a;return z.resolve(this.mutationQueue.length>c?this.mutationQueue[c]:null)}getHighestUnacknowledgedBatchId(){return z.resolve(this.mutationQueue.length===0?-1:this.Sr-1)}getAllMutationBatches(e){return z.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const s=new _t(n,0),a=new _t(n,Number.POSITIVE_INFINITY),c=[];return this.br.forEachInRange([s,a],f=>{const m=this.Dr(f.wr);c.push(m)}),z.resolve(c)}getAllMutationBatchesAffectingDocumentKeys(e,n){let s=new vt(xe);return n.forEach(a=>{const c=new _t(a,0),f=new _t(a,Number.POSITIVE_INFINITY);this.br.forEachInRange([c,f],m=>{s=s.add(m.wr)})}),z.resolve(this.Cr(s))}getAllMutationBatchesAffectingQuery(e,n){const s=n.path,a=s.length+1;let c=s;ue.isDocumentKey(c)||(c=c.child(""));const f=new _t(new ue(c),0);let m=new vt(xe);return this.br.forEachWhile(y=>{const v=y.key.path;return!!s.isPrefixOf(v)&&(v.length===a&&(m=m.add(y.wr)),!0)},f),z.resolve(this.Cr(m))}Cr(e){const n=[];return e.forEach(s=>{const a=this.Dr(s);a!==null&&n.push(a)}),n}removeMutationBatch(e,n){Me(this.Fr(n.batchId,"removed")===0),this.mutationQueue.shift();let s=this.br;return z.forEach(n.mutations,a=>{const c=new _t(a.key,n.batchId);return s=s.delete(c),this.referenceDelegate.markPotentiallyOrphaned(e,a.key)}).next(()=>{this.br=s})}On(e){}containsKey(e,n){const s=new _t(n,0),a=this.br.firstAfterOrEqual(s);return z.resolve(n.isEqual(a&&a.key))}performConsistencyCheck(e){return this.mutationQueue.length,z.resolve()}Fr(e,n){return this.vr(e)}vr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Dr(e){const n=this.vr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qT{constructor(e){this.Mr=e,this.docs=function(){return new Ye(ue.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const s=n.key,a=this.docs.get(s),c=a?a.size:0,f=this.Mr(n);return this.docs=this.docs.insert(s,{document:n.mutableCopy(),size:f}),this.size+=f-c,this.indexManager.addToCollectionParentIndex(e,s.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const s=this.docs.get(n);return z.resolve(s?s.document.mutableCopy():Mt.newInvalidDocument(n))}getEntries(e,n){let s=_r();return n.forEach(a=>{const c=this.docs.get(a);s=s.insert(a,c?c.document.mutableCopy():Mt.newInvalidDocument(a))}),z.resolve(s)}getDocumentsMatchingQuery(e,n,s,a){let c=_r();const f=n.path,m=new ue(f.child("")),y=this.docs.getIteratorFrom(m);for(;y.hasNext();){const{key:v,value:{document:E}}=y.getNext();if(!f.isPrefixOf(v.path))break;v.path.length>f.length+1||EE(wE(E),s)<=0||(a.has(E.key)||fu(n,E))&&(c=c.insert(E.key,E.mutableCopy()))}return z.resolve(c)}getAllFromCollectionGroup(e,n,s,a){pe()}Or(e,n){return z.forEach(this.docs,s=>n(s))}newChangeBuffer(e){return new HT(this)}getSize(e){return z.resolve(this.size)}}class HT extends FT{constructor(e){super(),this.cr=e}applyChanges(e){const n=[];return this.changes.forEach((s,a)=>{a.isValidDocument()?n.push(this.cr.addEntry(e,a)):this.cr.removeEntry(s)}),z.waitFor(n)}getFromCache(e,n){return this.cr.getEntry(e,n)}getAllFromCache(e,n){return this.cr.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WT{constructor(e){this.persistence=e,this.Nr=new ji(n=>Kh(n),Gh),this.lastRemoteSnapshotVersion=me.min(),this.highestTargetId=0,this.Lr=0,this.Br=new ef,this.targetCount=0,this.kr=qs.Bn()}forEachTarget(e,n){return this.Nr.forEach((s,a)=>n(a)),z.resolve()}getLastRemoteSnapshotVersion(e){return z.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return z.resolve(this.Lr)}allocateTargetId(e){return this.highestTargetId=this.kr.next(),z.resolve(this.highestTargetId)}setTargetsMetadata(e,n,s){return s&&(this.lastRemoteSnapshotVersion=s),n>this.Lr&&(this.Lr=n),z.resolve()}Kn(e){this.Nr.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.kr=new qs(n),this.highestTargetId=n),e.sequenceNumber>this.Lr&&(this.Lr=e.sequenceNumber)}addTargetData(e,n){return this.Kn(n),this.targetCount+=1,z.resolve()}updateTargetData(e,n){return this.Kn(n),z.resolve()}removeTargetData(e,n){return this.Nr.delete(n.target),this.Br.gr(n.targetId),this.targetCount-=1,z.resolve()}removeTargets(e,n,s){let a=0;const c=[];return this.Nr.forEach((f,m)=>{m.sequenceNumber<=n&&s.get(m.targetId)===null&&(this.Nr.delete(f),c.push(this.removeMatchingKeysForTargetId(e,m.targetId)),a++)}),z.waitFor(c).next(()=>a)}getTargetCount(e){return z.resolve(this.targetCount)}getTargetData(e,n){const s=this.Nr.get(n)||null;return z.resolve(s)}addMatchingKeys(e,n,s){return this.Br.Rr(n,s),z.resolve()}removeMatchingKeys(e,n,s){this.Br.mr(n,s);const a=this.persistence.referenceDelegate,c=[];return a&&n.forEach(f=>{c.push(a.markPotentiallyOrphaned(e,f))}),z.waitFor(c)}removeMatchingKeysForTargetId(e,n){return this.Br.gr(n),z.resolve()}getMatchingKeysForTargetId(e,n){const s=this.Br.yr(n);return z.resolve(s)}containsKey(e,n){return z.resolve(this.Br.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vy{constructor(e,n){this.qr={},this.overlays={},this.Qr=new lu(0),this.Kr=!1,this.Kr=!0,this.$r=new BT,this.referenceDelegate=e(this),this.Ur=new WT(this),this.indexManager=new NT,this.remoteDocumentCache=function(a){return new qT(a)}(s=>this.referenceDelegate.Wr(s)),this.serializer=new kT(n),this.Gr=new jT(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Kr=!1,Promise.resolve()}get started(){return this.Kr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new zT,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let s=this.qr[e.toKey()];return s||(s=new $T(n,this.referenceDelegate),this.qr[e.toKey()]=s),s}getGlobalsCache(){return this.$r}getTargetCache(){return this.Ur}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Gr}runTransaction(e,n,s){ne("MemoryPersistence","Starting transaction:",e);const a=new QT(this.Qr.next());return this.referenceDelegate.zr(),s(a).next(c=>this.referenceDelegate.jr(a).next(()=>c)).toPromise().then(c=>(a.raiseOnCommittedEvent(),c))}Hr(e,n){return z.or(Object.values(this.qr).map(s=>()=>s.containsKey(e,n)))}}class QT extends IE{constructor(e){super(),this.currentSequenceNumber=e}}class tf{constructor(e){this.persistence=e,this.Jr=new ef,this.Yr=null}static Zr(e){return new tf(e)}get Xr(){if(this.Yr)return this.Yr;throw pe()}addReference(e,n,s){return this.Jr.addReference(s,n),this.Xr.delete(s.toString()),z.resolve()}removeReference(e,n,s){return this.Jr.removeReference(s,n),this.Xr.add(s.toString()),z.resolve()}markPotentiallyOrphaned(e,n){return this.Xr.add(n.toString()),z.resolve()}removeTarget(e,n){this.Jr.gr(n.targetId).forEach(a=>this.Xr.add(a.toString()));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(e,n.targetId).next(a=>{a.forEach(c=>this.Xr.add(c.toString()))}).next(()=>s.removeTargetData(e,n))}zr(){this.Yr=new Set}jr(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return z.forEach(this.Xr,s=>{const a=ue.fromPath(s);return this.ei(e,a).next(c=>{c||n.removeEntry(a,me.min())})}).next(()=>(this.Yr=null,n.apply(e)))}updateLimboDocument(e,n){return this.ei(e,n).next(s=>{s?this.Xr.delete(n.toString()):this.Xr.add(n.toString())})}Wr(e){return 0}ei(e,n){return z.or([()=>z.resolve(this.Jr.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Hr(e,n)])}}class eu{constructor(e,n){this.persistence=e,this.ti=new ji(s=>RE(s.path),(s,a)=>s.isEqual(a)),this.garbageCollector=MT(this,n)}static Zr(e,n){return new eu(e,n)}zr(){}jr(e){return z.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}Yn(e){const n=this.er(e);return this.persistence.getTargetCache().getTargetCount(e).next(s=>n.next(a=>s+a))}er(e){let n=0;return this.Zn(e,s=>{n++}).next(()=>n)}Zn(e,n){return z.forEach(this.ti,(s,a)=>this.nr(e,s,a).next(c=>c?z.resolve():n(a)))}removeTargets(e,n,s){return this.persistence.getTargetCache().removeTargets(e,n,s)}removeOrphanedDocuments(e,n){let s=0;const a=this.persistence.getRemoteDocumentCache(),c=a.newChangeBuffer();return a.Or(e,f=>this.nr(e,f,n).next(m=>{m||(s++,c.removeEntry(f,me.min()))})).next(()=>c.apply(e)).next(()=>s)}markPotentiallyOrphaned(e,n){return this.ti.set(n,e.currentSequenceNumber),z.resolve()}removeTarget(e,n){const s=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,s)}addReference(e,n,s){return this.ti.set(s,e.currentSequenceNumber),z.resolve()}removeReference(e,n,s){return this.ti.set(s,e.currentSequenceNumber),z.resolve()}updateLimboDocument(e,n){return this.ti.set(n,e.currentSequenceNumber),z.resolve()}Wr(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=bl(e.data.value)),n}nr(e,n,s){return z.or([()=>this.persistence.Hr(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const a=this.ti.get(n);return z.resolve(a!==void 0&&a>s)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nf{constructor(e,n,s,a){this.targetId=e,this.fromCache=n,this.$i=s,this.Ui=a}static Wi(e,n){let s=Ie(),a=Ie();for(const c of n.docChanges)switch(c.type){case 0:s=s.add(c.doc.key);break;case 1:a=a.add(c.doc.key)}return new nf(e,n.fromCache,s,a)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KT{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GT{constructor(){this.Gi=!1,this.zi=!1,this.ji=100,this.Hi=function(){return Cv()?8:SE(Sv())>0?6:4}()}initialize(e,n){this.Ji=e,this.indexManager=n,this.Gi=!0}getDocumentsMatchingQuery(e,n,s,a){const c={result:null};return this.Yi(e,n).next(f=>{c.result=f}).next(()=>{if(!c.result)return this.Zi(e,n,a,s).next(f=>{c.result=f})}).next(()=>{if(c.result)return;const f=new KT;return this.Xi(e,n,f).next(m=>{if(c.result=m,this.zi)return this.es(e,n,f,m.size)})}).next(()=>c.result)}es(e,n,s,a){return s.documentReadCount<this.ji?(Os()<=ke.DEBUG&&ne("QueryEngine","SDK will not create cache indexes for query:",Ms(n),"since it only creates cache indexes for collection contains","more than or equal to",this.ji,"documents"),z.resolve()):(Os()<=ke.DEBUG&&ne("QueryEngine","Query:",Ms(n),"scans",s.documentReadCount,"local documents and returns",a,"documents as results."),s.documentReadCount>this.Hi*a?(Os()<=ke.DEBUG&&ne("QueryEngine","The SDK decides to create cache indexes for query:",Ms(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Qn(n))):z.resolve())}Yi(e,n){if(ym(n))return z.resolve(null);let s=Qn(n);return this.indexManager.getIndexType(e,s).next(a=>a===0?null:(n.limit!==null&&a===1&&(n=Ch(n,null,"F"),s=Qn(n)),this.indexManager.getDocumentsMatchingTarget(e,s).next(c=>{const f=Ie(...c);return this.Ji.getDocuments(e,f).next(m=>this.indexManager.getMinOffset(e,s).next(y=>{const v=this.ts(n,m);return this.ns(n,v,f,y.readTime)?this.Yi(e,Ch(n,null,"F")):this.rs(e,v,n,y)}))})))}Zi(e,n,s,a){return ym(n)||a.isEqual(me.min())?z.resolve(null):this.Ji.getDocuments(e,s).next(c=>{const f=this.ts(n,c);return this.ns(n,f,s,a)?z.resolve(null):(Os()<=ke.DEBUG&&ne("QueryEngine","Re-using previous result from %s to execute query: %s",a.toString(),Ms(n)),this.rs(e,f,n,vE(a,-1)).next(m=>m))})}ts(e,n){let s=new vt(Xg(e));return n.forEach((a,c)=>{fu(e,c)&&(s=s.add(c))}),s}ns(e,n,s,a){if(e.limit===null)return!1;if(s.size!==n.size)return!0;const c=e.limitType==="F"?n.last():n.first();return!!c&&(c.hasPendingWrites||c.version.compareTo(a)>0)}Xi(e,n,s){return Os()<=ke.DEBUG&&ne("QueryEngine","Using full collection scan to execute query:",Ms(n)),this.Ji.getDocumentsMatchingQuery(e,n,Xr.min(),s)}rs(e,n,s,a){return this.Ji.getDocumentsMatchingQuery(e,s,a).next(c=>(n.forEach(f=>{c=c.insert(f.key,f)}),c))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YT{constructor(e,n,s,a){this.persistence=e,this.ss=n,this.serializer=a,this.os=new Ye(xe),this._s=new ji(c=>Kh(c),Gh),this.us=new Map,this.cs=e.getRemoteDocumentCache(),this.Ur=e.getTargetCache(),this.Gr=e.getBundleCache(),this.ls(s)}ls(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new UT(this.cs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.cs.setIndexManager(this.indexManager),this.ss.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.os))}}function XT(i,e,n,s){return new YT(i,e,n,s)}async function wy(i,e){const n=ge(i);return await n.persistence.runTransaction("Handle user change","readonly",s=>{let a;return n.mutationQueue.getAllMutationBatches(s).next(c=>(a=c,n.ls(e),n.mutationQueue.getAllMutationBatches(s))).next(c=>{const f=[],m=[];let y=Ie();for(const v of a){f.push(v.batchId);for(const E of v.mutations)y=y.add(E.key)}for(const v of c){m.push(v.batchId);for(const E of v.mutations)y=y.add(E.key)}return n.localDocuments.getDocuments(s,y).next(v=>({hs:v,removedBatchIds:f,addedBatchIds:m}))})})}function JT(i,e){const n=ge(i);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",s=>{const a=e.batch.keys(),c=n.cs.newChangeBuffer({trackRemovals:!0});return function(m,y,v,E){const k=v.batch,V=k.keys();let j=z.resolve();return V.forEach(G=>{j=j.next(()=>E.getEntry(y,G)).next(Z=>{const Q=v.docVersions.get(G);Me(Q!==null),Z.version.compareTo(Q)<0&&(k.applyToRemoteDocument(Z,v),Z.isValidDocument()&&(Z.setReadTime(v.commitVersion),E.addEntry(Z)))})}),j.next(()=>m.mutationQueue.removeMutationBatch(y,k))}(n,s,e,c).next(()=>c.apply(s)).next(()=>n.mutationQueue.performConsistencyCheck(s)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(s,a,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,function(m){let y=Ie();for(let v=0;v<m.mutationResults.length;++v)m.mutationResults[v].transformResults.length>0&&(y=y.add(m.batch.mutations[v].key));return y}(e))).next(()=>n.localDocuments.getDocuments(s,a))})}function Ey(i){const e=ge(i);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Ur.getLastRemoteSnapshotVersion(n))}function ZT(i,e){const n=ge(i),s=e.snapshotVersion;let a=n.os;return n.persistence.runTransaction("Apply remote event","readwrite-primary",c=>{const f=n.cs.newChangeBuffer({trackRemovals:!0});a=n.os;const m=[];e.targetChanges.forEach((E,k)=>{const V=a.get(k);if(!V)return;m.push(n.Ur.removeMatchingKeys(c,E.removedDocuments,k).next(()=>n.Ur.addMatchingKeys(c,E.addedDocuments,k)));let j=V.withSequenceNumber(c.currentSequenceNumber);e.targetMismatches.get(k)!==null?j=j.withResumeToken(Ct.EMPTY_BYTE_STRING,me.min()).withLastLimboFreeSnapshotVersion(me.min()):E.resumeToken.approximateByteSize()>0&&(j=j.withResumeToken(E.resumeToken,s)),a=a.insert(k,j),function(Z,Q,ve){return Z.resumeToken.approximateByteSize()===0||Q.snapshotVersion.toMicroseconds()-Z.snapshotVersion.toMicroseconds()>=3e8?!0:ve.addedDocuments.size+ve.modifiedDocuments.size+ve.removedDocuments.size>0}(V,j,E)&&m.push(n.Ur.updateTargetData(c,j))});let y=_r(),v=Ie();if(e.documentUpdates.forEach(E=>{e.resolvedLimboDocuments.has(E)&&m.push(n.persistence.referenceDelegate.updateLimboDocument(c,E))}),m.push(eI(c,f,e.documentUpdates).next(E=>{y=E.Ps,v=E.Is})),!s.isEqual(me.min())){const E=n.Ur.getLastRemoteSnapshotVersion(c).next(k=>n.Ur.setTargetsMetadata(c,c.currentSequenceNumber,s));m.push(E)}return z.waitFor(m).next(()=>f.apply(c)).next(()=>n.localDocuments.getLocalViewOfDocuments(c,y,v)).next(()=>y)}).then(c=>(n.os=a,c))}function eI(i,e,n){let s=Ie(),a=Ie();return n.forEach(c=>s=s.add(c)),e.getEntries(i,s).next(c=>{let f=_r();return n.forEach((m,y)=>{const v=c.get(m);y.isFoundDocument()!==v.isFoundDocument()&&(a=a.add(m)),y.isNoDocument()&&y.version.isEqual(me.min())?(e.removeEntry(m,y.readTime),f=f.insert(m,y)):!v.isValidDocument()||y.version.compareTo(v.version)>0||y.version.compareTo(v.version)===0&&v.hasPendingWrites?(e.addEntry(y),f=f.insert(m,y)):ne("LocalStore","Ignoring outdated watch update for ",m,". Current version:",v.version," Watch version:",y.version)}),{Ps:f,Is:a}})}function tI(i,e){const n=ge(i);return n.persistence.runTransaction("Get next mutation batch","readonly",s=>(e===void 0&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(s,e)))}function nI(i,e){const n=ge(i);return n.persistence.runTransaction("Allocate target","readwrite",s=>{let a;return n.Ur.getTargetData(s,e).next(c=>c?(a=c,z.resolve(a)):n.Ur.allocateTargetId(s).next(f=>(a=new qr(e,f,"TargetPurposeListen",s.currentSequenceNumber),n.Ur.addTargetData(s,a).next(()=>a))))}).then(s=>{const a=n.os.get(s.targetId);return(a===null||s.snapshotVersion.compareTo(a.snapshotVersion)>0)&&(n.os=n.os.insert(s.targetId,s),n._s.set(e,s.targetId)),s})}async function Vh(i,e,n){const s=ge(i),a=s.os.get(e),c=n?"readwrite":"readwrite-primary";try{n||await s.persistence.runTransaction("Release target",c,f=>s.persistence.referenceDelegate.removeTarget(f,a))}catch(f){if(!Ys(f))throw f;ne("LocalStore",`Failed to update sequence numbers for target ${e}: ${f}`)}s.os=s.os.remove(e),s._s.delete(a.target)}function xm(i,e,n){const s=ge(i);let a=me.min(),c=Ie();return s.persistence.runTransaction("Execute query","readwrite",f=>function(y,v,E){const k=ge(y),V=k._s.get(E);return V!==void 0?z.resolve(k.os.get(V)):k.Ur.getTargetData(v,E)}(s,f,Qn(e)).next(m=>{if(m)return a=m.lastLimboFreeSnapshotVersion,s.Ur.getMatchingKeysForTargetId(f,m.targetId).next(y=>{c=y})}).next(()=>s.ss.getDocumentsMatchingQuery(f,e,n?a:me.min(),n?c:Ie())).next(m=>(rI(s,qE(e),m),{documents:m,Ts:c})))}function rI(i,e,n){let s=i.us.get(e)||me.min();n.forEach((a,c)=>{c.readTime.compareTo(s)>0&&(s=c.readTime)}),i.us.set(e,s)}class Nm{constructor(){this.activeTargetIds=YE()}fs(e){this.activeTargetIds=this.activeTargetIds.add(e)}gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Vs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class iI{constructor(){this.so=new Nm,this.oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,s){}addLocalQueryTarget(e,n=!0){return n&&this.so.fs(e),this.oo[e]||"not-current"}updateQueryState(e,n,s){this.oo[e]=n}removeLocalQueryTarget(e){this.so.gs(e)}isLocalQueryTarget(e){return this.so.activeTargetIds.has(e)}clearQueryState(e){delete this.oo[e]}getAllActiveQueryTargets(){return this.so.activeTargetIds}isActiveQueryTarget(e){return this.so.activeTargetIds.has(e)}start(){return this.so=new Nm,Promise.resolve()}handleUserChange(e,n,s){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sI{_o(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vm{constructor(){this.ao=()=>this.uo(),this.co=()=>this.lo(),this.ho=[],this.Po()}_o(e){this.ho.push(e)}shutdown(){window.removeEventListener("online",this.ao),window.removeEventListener("offline",this.co)}Po(){window.addEventListener("online",this.ao),window.addEventListener("offline",this.co)}uo(){ne("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.ho)e(0)}lo(){ne("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.ho)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ol=null;function ch(){return Ol===null?Ol=function(){return 268435456+Math.round(2147483648*Math.random())}():Ol++,"0x"+Ol.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oI={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aI{constructor(e){this.Io=e.Io,this.To=e.To}Eo(e){this.Ao=e}Ro(e){this.Vo=e}mo(e){this.fo=e}onMessage(e){this.po=e}close(){this.To()}send(e){this.Io(e)}yo(){this.Ao()}wo(){this.Vo()}So(e){this.fo(e)}bo(e){this.po(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lt="WebChannelConnection";class lI extends class{constructor(n){this.databaseInfo=n,this.databaseId=n.databaseId;const s=n.ssl?"https":"http",a=encodeURIComponent(this.databaseId.projectId),c=encodeURIComponent(this.databaseId.database);this.Do=s+"://"+n.host,this.vo=`projects/${a}/databases/${c}`,this.Co=this.databaseId.database==="(default)"?`project_id=${a}`:`project_id=${a}&database_id=${c}`}get Fo(){return!1}Mo(n,s,a,c,f){const m=ch(),y=this.xo(n,s.toUriEncodedString());ne("RestConnection",`Sending RPC '${n}' ${m}:`,y,a);const v={"google-cloud-resource-prefix":this.vo,"x-goog-request-params":this.Co};return this.Oo(v,c,f),this.No(n,y,v,a).then(E=>(ne("RestConnection",`Received RPC '${n}' ${m}: `,E),E),E=>{throw js("RestConnection",`RPC '${n}' ${m} failed with error: `,E,"url: ",y,"request:",a),E})}Lo(n,s,a,c,f,m){return this.Mo(n,s,a,c,f)}Oo(n,s,a){n["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Ks}(),n["Content-Type"]="text/plain",this.databaseInfo.appId&&(n["X-Firebase-GMPID"]=this.databaseInfo.appId),s&&s.headers.forEach((c,f)=>n[f]=c),a&&a.headers.forEach((c,f)=>n[f]=c)}xo(n,s){const a=oI[n];return`${this.Do}/v1/${s}:${a}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}No(e,n,s,a){const c=ch();return new Promise((f,m)=>{const y=new Vg;y.setWithCredentials(!0),y.listenOnce(Dg.COMPLETE,()=>{try{switch(y.getLastErrorCode()){case Fl.NO_ERROR:const E=y.getResponseJson();ne(Lt,`XHR for RPC '${e}' ${c} received:`,JSON.stringify(E)),f(E);break;case Fl.TIMEOUT:ne(Lt,`RPC '${e}' ${c} timed out`),m(new se($.DEADLINE_EXCEEDED,"Request time out"));break;case Fl.HTTP_ERROR:const k=y.getStatus();if(ne(Lt,`RPC '${e}' ${c} failed with status:`,k,"response text:",y.getResponseText()),k>0){let V=y.getResponseJson();Array.isArray(V)&&(V=V[0]);const j=V==null?void 0:V.error;if(j&&j.status&&j.message){const G=function(Q){const ve=Q.toLowerCase().replace(/_/g,"-");return Object.values($).indexOf(ve)>=0?ve:$.UNKNOWN}(j.status);m(new se(G,j.message))}else m(new se($.UNKNOWN,"Server responded with status "+y.getStatus()))}else m(new se($.UNAVAILABLE,"Connection failed."));break;default:pe()}}finally{ne(Lt,`RPC '${e}' ${c} completed.`)}});const v=JSON.stringify(a);ne(Lt,`RPC '${e}' ${c} sending request:`,a),y.send(n,"POST",v,s,15)})}Bo(e,n,s){const a=ch(),c=[this.Do,"/","google.firestore.v1.Firestore","/",e,"/channel"],f=Mg(),m=Og(),y={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},v=this.longPollingOptions.timeoutSeconds;v!==void 0&&(y.longPollingTimeout=Math.round(1e3*v)),this.useFetchStreams&&(y.useFetchStreams=!0),this.Oo(y.initMessageHeaders,n,s),y.encodeInitMessageHeaders=!0;const E=c.join("");ne(Lt,`Creating RPC '${e}' stream ${a}: ${E}`,y);const k=f.createWebChannel(E,y);let V=!1,j=!1;const G=new aI({Io:Q=>{j?ne(Lt,`Not sending because RPC '${e}' stream ${a} is closed:`,Q):(V||(ne(Lt,`Opening RPC '${e}' stream ${a} transport.`),k.open(),V=!0),ne(Lt,`RPC '${e}' stream ${a} sending:`,Q),k.send(Q))},To:()=>k.close()}),Z=(Q,ve,ye)=>{Q.listen(ve,we=>{try{ye(we)}catch(Se){setTimeout(()=>{throw Se},0)}})};return Z(k,Go.EventType.OPEN,()=>{j||(ne(Lt,`RPC '${e}' stream ${a} transport opened.`),G.yo())}),Z(k,Go.EventType.CLOSE,()=>{j||(j=!0,ne(Lt,`RPC '${e}' stream ${a} transport closed`),G.So())}),Z(k,Go.EventType.ERROR,Q=>{j||(j=!0,js(Lt,`RPC '${e}' stream ${a} transport errored:`,Q),G.So(new se($.UNAVAILABLE,"The operation could not be completed")))}),Z(k,Go.EventType.MESSAGE,Q=>{var ve;if(!j){const ye=Q.data[0];Me(!!ye);const we=ye,Se=we.error||((ve=we[0])===null||ve===void 0?void 0:ve.error);if(Se){ne(Lt,`RPC '${e}' stream ${a} received error:`,Se);const Je=Se.status;let Ne=function(A){const P=st[A];if(P!==void 0)return uy(P)}(Je),x=Se.message;Ne===void 0&&(Ne=$.INTERNAL,x="Unknown error status: "+Je+" with message "+Se.message),j=!0,G.So(new se(Ne,x)),k.close()}else ne(Lt,`RPC '${e}' stream ${a} received:`,ye),G.bo(ye)}}),Z(m,Lg.STAT_EVENT,Q=>{Q.stat===Eh.PROXY?ne(Lt,`RPC '${e}' stream ${a} detected buffering proxy`):Q.stat===Eh.NOPROXY&&ne(Lt,`RPC '${e}' stream ${a} detected no buffering proxy`)}),setTimeout(()=>{G.wo()},0),G}}function hh(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gu(i){return new mT(i,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ty{constructor(e,n,s=1e3,a=1.5,c=6e4){this.ui=e,this.timerId=n,this.ko=s,this.qo=a,this.Qo=c,this.Ko=0,this.$o=null,this.Uo=Date.now(),this.reset()}reset(){this.Ko=0}Wo(){this.Ko=this.Qo}Go(e){this.cancel();const n=Math.floor(this.Ko+this.zo()),s=Math.max(0,Date.now()-this.Uo),a=Math.max(0,n-s);a>0&&ne("ExponentialBackoff",`Backing off for ${a} ms (base delay: ${this.Ko} ms, delay with jitter: ${n} ms, last attempt: ${s} ms ago)`),this.$o=this.ui.enqueueAfterDelay(this.timerId,a,()=>(this.Uo=Date.now(),e())),this.Ko*=this.qo,this.Ko<this.ko&&(this.Ko=this.ko),this.Ko>this.Qo&&(this.Ko=this.Qo)}jo(){this.$o!==null&&(this.$o.skipDelay(),this.$o=null)}cancel(){this.$o!==null&&(this.$o.cancel(),this.$o=null)}zo(){return(Math.random()-.5)*this.Ko}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Iy{constructor(e,n,s,a,c,f,m,y){this.ui=e,this.Ho=s,this.Jo=a,this.connection=c,this.authCredentialsProvider=f,this.appCheckCredentialsProvider=m,this.listener=y,this.state=0,this.Yo=0,this.Zo=null,this.Xo=null,this.stream=null,this.e_=0,this.t_=new Ty(e,n)}n_(){return this.state===1||this.state===5||this.r_()}r_(){return this.state===2||this.state===3}start(){this.e_=0,this.state!==4?this.auth():this.i_()}async stop(){this.n_()&&await this.close(0)}s_(){this.state=0,this.t_.reset()}o_(){this.r_()&&this.Zo===null&&(this.Zo=this.ui.enqueueAfterDelay(this.Ho,6e4,()=>this.__()))}a_(e){this.u_(),this.stream.send(e)}async __(){if(this.r_())return this.close(0)}u_(){this.Zo&&(this.Zo.cancel(),this.Zo=null)}c_(){this.Xo&&(this.Xo.cancel(),this.Xo=null)}async close(e,n){this.u_(),this.c_(),this.t_.cancel(),this.Yo++,e!==4?this.t_.reset():n&&n.code===$.RESOURCE_EXHAUSTED?(yr(n.toString()),yr("Using maximum backoff delay to prevent overloading the backend."),this.t_.Wo()):n&&n.code===$.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.l_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.mo(n)}l_(){}auth(){this.state=1;const e=this.h_(this.Yo),n=this.Yo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([s,a])=>{this.Yo===n&&this.P_(s,a)},s=>{e(()=>{const a=new se($.UNKNOWN,"Fetching auth token failed: "+s.message);return this.I_(a)})})}P_(e,n){const s=this.h_(this.Yo);this.stream=this.T_(e,n),this.stream.Eo(()=>{s(()=>this.listener.Eo())}),this.stream.Ro(()=>{s(()=>(this.state=2,this.Xo=this.ui.enqueueAfterDelay(this.Jo,1e4,()=>(this.r_()&&(this.state=3),Promise.resolve())),this.listener.Ro()))}),this.stream.mo(a=>{s(()=>this.I_(a))}),this.stream.onMessage(a=>{s(()=>++this.e_==1?this.E_(a):this.onNext(a))})}i_(){this.state=5,this.t_.Go(async()=>{this.state=0,this.start()})}I_(e){return ne("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}h_(e){return n=>{this.ui.enqueueAndForget(()=>this.Yo===e?n():(ne("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class uI extends Iy{constructor(e,n,s,a,c,f){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,s,a,f),this.serializer=c}T_(e,n){return this.connection.Bo("Listen",e,n)}E_(e){return this.onNext(e)}onNext(e){this.t_.reset();const n=_T(this.serializer,e),s=function(c){if(!("targetChange"in c))return me.min();const f=c.targetChange;return f.targetIds&&f.targetIds.length?me.min():f.readTime?Kn(f.readTime):me.min()}(e);return this.listener.d_(n,s)}A_(e){const n={};n.database=Nh(this.serializer),n.addTarget=function(c,f){let m;const y=f.target;if(m=Ah(y)?{documents:ET(c,y)}:{query:TT(c,y)._t},m.targetId=f.targetId,f.resumeToken.approximateByteSize()>0){m.resumeToken=fy(c,f.resumeToken);const v=Ph(c,f.expectedCount);v!==null&&(m.expectedCount=v)}else if(f.snapshotVersion.compareTo(me.min())>0){m.readTime=Zl(c,f.snapshotVersion.toTimestamp());const v=Ph(c,f.expectedCount);v!==null&&(m.expectedCount=v)}return m}(this.serializer,e);const s=ST(this.serializer,e);s&&(n.labels=s),this.a_(n)}R_(e){const n={};n.database=Nh(this.serializer),n.removeTarget=e,this.a_(n)}}class cI extends Iy{constructor(e,n,s,a,c,f){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,s,a,f),this.serializer=c}get V_(){return this.e_>0}start(){this.lastStreamToken=void 0,super.start()}l_(){this.V_&&this.m_([])}T_(e,n){return this.connection.Bo("Write",e,n)}E_(e){return Me(!!e.streamToken),this.lastStreamToken=e.streamToken,Me(!e.writeResults||e.writeResults.length===0),this.listener.f_()}onNext(e){Me(!!e.streamToken),this.lastStreamToken=e.streamToken,this.t_.reset();const n=wT(e.writeResults,e.commitTime),s=Kn(e.commitTime);return this.listener.g_(s,n)}p_(){const e={};e.database=Nh(this.serializer),this.a_(e)}m_(e){const n={streamToken:this.lastStreamToken,writes:e.map(s=>vT(this.serializer,s))};this.a_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hI extends class{}{constructor(e,n,s,a){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=s,this.serializer=a,this.y_=!1}w_(){if(this.y_)throw new se($.FAILED_PRECONDITION,"The client has already been terminated.")}Mo(e,n,s,a){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([c,f])=>this.connection.Mo(e,kh(n,s),a,c,f)).catch(c=>{throw c.name==="FirebaseError"?(c.code===$.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new se($.UNKNOWN,c.toString())})}Lo(e,n,s,a,c){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([f,m])=>this.connection.Lo(e,kh(n,s),a,f,m,c)).catch(f=>{throw f.name==="FirebaseError"?(f.code===$.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),f):new se($.UNKNOWN,f.toString())})}terminate(){this.y_=!0,this.connection.terminate()}}class fI{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.S_=0,this.b_=null,this.D_=!0}v_(){this.S_===0&&(this.C_("Unknown"),this.b_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.b_=null,this.F_("Backend didn't respond within 10 seconds."),this.C_("Offline"),Promise.resolve())))}M_(e){this.state==="Online"?this.C_("Unknown"):(this.S_++,this.S_>=1&&(this.x_(),this.F_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.C_("Offline")))}set(e){this.x_(),this.S_=0,e==="Online"&&(this.D_=!1),this.C_(e)}C_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}F_(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.D_?(yr(n),this.D_=!1):ne("OnlineStateTracker",n)}x_(){this.b_!==null&&(this.b_.cancel(),this.b_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dI{constructor(e,n,s,a,c){this.localStore=e,this.datastore=n,this.asyncQueue=s,this.remoteSyncer={},this.O_=[],this.N_=new Map,this.L_=new Set,this.B_=[],this.k_=c,this.k_._o(f=>{s.enqueueAndForget(async()=>{Bi(this)&&(ne("RemoteStore","Restarting streams for network reachability change."),await async function(y){const v=ge(y);v.L_.add(4),await pa(v),v.q_.set("Unknown"),v.L_.delete(4),await yu(v)}(this))})}),this.q_=new fI(s,a)}}async function yu(i){if(Bi(i))for(const e of i.B_)await e(!0)}async function pa(i){for(const e of i.B_)await e(!1)}function Sy(i,e){const n=ge(i);n.N_.has(e.targetId)||(n.N_.set(e.targetId,e),af(n)?of(n):Xs(n).r_()&&sf(n,e))}function rf(i,e){const n=ge(i),s=Xs(n);n.N_.delete(e),s.r_()&&Ay(n,e),n.N_.size===0&&(s.r_()?s.o_():Bi(n)&&n.q_.set("Unknown"))}function sf(i,e){if(i.Q_.xe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(me.min())>0){const n=i.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Xs(i).A_(e)}function Ay(i,e){i.Q_.xe(e),Xs(i).R_(e)}function of(i){i.Q_=new hT({getRemoteKeysForTarget:e=>i.remoteSyncer.getRemoteKeysForTarget(e),ot:e=>i.N_.get(e)||null,tt:()=>i.datastore.serializer.databaseId}),Xs(i).start(),i.q_.v_()}function af(i){return Bi(i)&&!Xs(i).n_()&&i.N_.size>0}function Bi(i){return ge(i).L_.size===0}function Ry(i){i.Q_=void 0}async function pI(i){i.q_.set("Online")}async function mI(i){i.N_.forEach((e,n)=>{sf(i,e)})}async function gI(i,e){Ry(i),af(i)?(i.q_.M_(e),of(i)):i.q_.set("Unknown")}async function yI(i,e,n){if(i.q_.set("Online"),e instanceof hy&&e.state===2&&e.cause)try{await async function(a,c){const f=c.cause;for(const m of c.targetIds)a.N_.has(m)&&(await a.remoteSyncer.rejectListen(m,f),a.N_.delete(m),a.Q_.removeTarget(m))}(i,e)}catch(s){ne("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),s),await tu(i,s)}else if(e instanceof zl?i.Q_.Ke(e):e instanceof cy?i.Q_.He(e):i.Q_.We(e),!n.isEqual(me.min()))try{const s=await Ey(i.localStore);n.compareTo(s)>=0&&await function(c,f){const m=c.Q_.rt(f);return m.targetChanges.forEach((y,v)=>{if(y.resumeToken.approximateByteSize()>0){const E=c.N_.get(v);E&&c.N_.set(v,E.withResumeToken(y.resumeToken,f))}}),m.targetMismatches.forEach((y,v)=>{const E=c.N_.get(y);if(!E)return;c.N_.set(y,E.withResumeToken(Ct.EMPTY_BYTE_STRING,E.snapshotVersion)),Ay(c,y);const k=new qr(E.target,y,v,E.sequenceNumber);sf(c,k)}),c.remoteSyncer.applyRemoteEvent(m)}(i,n)}catch(s){ne("RemoteStore","Failed to raise snapshot:",s),await tu(i,s)}}async function tu(i,e,n){if(!Ys(e))throw e;i.L_.add(1),await pa(i),i.q_.set("Offline"),n||(n=()=>Ey(i.localStore)),i.asyncQueue.enqueueRetryable(async()=>{ne("RemoteStore","Retrying IndexedDB access"),await n(),i.L_.delete(1),await yu(i)})}function Cy(i,e){return e().catch(n=>tu(i,n,e))}async function _u(i){const e=ge(i),n=ti(e);let s=e.O_.length>0?e.O_[e.O_.length-1].batchId:-1;for(;_I(e);)try{const a=await tI(e.localStore,s);if(a===null){e.O_.length===0&&n.o_();break}s=a.batchId,vI(e,a)}catch(a){await tu(e,a)}Py(e)&&ky(e)}function _I(i){return Bi(i)&&i.O_.length<10}function vI(i,e){i.O_.push(e);const n=ti(i);n.r_()&&n.V_&&n.m_(e.mutations)}function Py(i){return Bi(i)&&!ti(i).n_()&&i.O_.length>0}function ky(i){ti(i).start()}async function wI(i){ti(i).p_()}async function EI(i){const e=ti(i);for(const n of i.O_)e.m_(n.mutations)}async function TI(i,e,n){const s=i.O_.shift(),a=Xh.from(s,e,n);await Cy(i,()=>i.remoteSyncer.applySuccessfulWrite(a)),await _u(i)}async function II(i,e){e&&ti(i).V_&&await async function(s,a){if(function(f){return lT(f)&&f!==$.ABORTED}(a.code)){const c=s.O_.shift();ti(s).s_(),await Cy(s,()=>s.remoteSyncer.rejectFailedWrite(c.batchId,a)),await _u(s)}}(i,e),Py(i)&&ky(i)}async function Dm(i,e){const n=ge(i);n.asyncQueue.verifyOperationInProgress(),ne("RemoteStore","RemoteStore received new credentials");const s=Bi(n);n.L_.add(3),await pa(n),s&&n.q_.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.L_.delete(3),await yu(n)}async function SI(i,e){const n=ge(i);e?(n.L_.delete(2),await yu(n)):e||(n.L_.add(2),await pa(n),n.q_.set("Unknown"))}function Xs(i){return i.K_||(i.K_=function(n,s,a){const c=ge(n);return c.w_(),new uI(s,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,a)}(i.datastore,i.asyncQueue,{Eo:pI.bind(null,i),Ro:mI.bind(null,i),mo:gI.bind(null,i),d_:yI.bind(null,i)}),i.B_.push(async e=>{e?(i.K_.s_(),af(i)?of(i):i.q_.set("Unknown")):(await i.K_.stop(),Ry(i))})),i.K_}function ti(i){return i.U_||(i.U_=function(n,s,a){const c=ge(n);return c.w_(),new cI(s,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,a)}(i.datastore,i.asyncQueue,{Eo:()=>Promise.resolve(),Ro:wI.bind(null,i),mo:II.bind(null,i),f_:EI.bind(null,i),g_:TI.bind(null,i)}),i.B_.push(async e=>{e?(i.U_.s_(),await _u(i)):(await i.U_.stop(),i.O_.length>0&&(ne("RemoteStore",`Stopping write stream with ${i.O_.length} pending writes`),i.O_=[]))})),i.U_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lf{constructor(e,n,s,a,c){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=s,this.op=a,this.removalCallback=c,this.deferred=new Qr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(f=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,s,a,c){const f=Date.now()+s,m=new lf(e,n,f,a,c);return m.start(s),m}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new se($.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function uf(i,e){if(yr("AsyncQueue",`${e}: ${i}`),Ys(i))return new se($.UNAVAILABLE,`${e}: ${i}`);throw i}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Us{constructor(e){this.comparator=e?(n,s)=>e(n,s)||ue.comparator(n.key,s.key):(n,s)=>ue.comparator(n.key,s.key),this.keyedMap=Yo(),this.sortedSet=new Ye(this.comparator)}static emptySet(e){return new Us(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,s)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof Us)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),s=e.sortedSet.getIterator();for(;n.hasNext();){const a=n.getNext().key,c=s.getNext().key;if(!a.isEqual(c))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const s=new Us;return s.comparator=this.comparator,s.keyedMap=e,s.sortedSet=n,s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lm{constructor(){this.W_=new Ye(ue.comparator)}track(e){const n=e.doc.key,s=this.W_.get(n);s?e.type!==0&&s.type===3?this.W_=this.W_.insert(n,e):e.type===3&&s.type!==1?this.W_=this.W_.insert(n,{type:s.type,doc:e.doc}):e.type===2&&s.type===2?this.W_=this.W_.insert(n,{type:2,doc:e.doc}):e.type===2&&s.type===0?this.W_=this.W_.insert(n,{type:0,doc:e.doc}):e.type===1&&s.type===0?this.W_=this.W_.remove(n):e.type===1&&s.type===2?this.W_=this.W_.insert(n,{type:1,doc:s.doc}):e.type===0&&s.type===1?this.W_=this.W_.insert(n,{type:2,doc:e.doc}):pe():this.W_=this.W_.insert(n,e)}G_(){const e=[];return this.W_.inorderTraversal((n,s)=>{e.push(s)}),e}}class Hs{constructor(e,n,s,a,c,f,m,y,v){this.query=e,this.docs=n,this.oldDocs=s,this.docChanges=a,this.mutatedKeys=c,this.fromCache=f,this.syncStateChanged=m,this.excludesMetadataChanges=y,this.hasCachedResults=v}static fromInitialDocuments(e,n,s,a,c){const f=[];return n.forEach(m=>{f.push({type:0,doc:m})}),new Hs(e,n,Us.emptySet(n),f,s,a,!0,!1,c)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&hu(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,s=e.docChanges;if(n.length!==s.length)return!1;for(let a=0;a<n.length;a++)if(n[a].type!==s[a].type||!n[a].doc.isEqual(s[a].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AI{constructor(){this.z_=void 0,this.j_=[]}H_(){return this.j_.some(e=>e.J_())}}class RI{constructor(){this.queries=Om(),this.onlineState="Unknown",this.Y_=new Set}terminate(){(function(n,s){const a=ge(n),c=a.queries;a.queries=Om(),c.forEach((f,m)=>{for(const y of m.j_)y.onError(s)})})(this,new se($.ABORTED,"Firestore shutting down"))}}function Om(){return new ji(i=>Yg(i),hu)}async function CI(i,e){const n=ge(i);let s=3;const a=e.query;let c=n.queries.get(a);c?!c.H_()&&e.J_()&&(s=2):(c=new AI,s=e.J_()?0:1);try{switch(s){case 0:c.z_=await n.onListen(a,!0);break;case 1:c.z_=await n.onListen(a,!1);break;case 2:await n.onFirstRemoteStoreListen(a)}}catch(f){const m=uf(f,`Initialization of query '${Ms(e.query)}' failed`);return void e.onError(m)}n.queries.set(a,c),c.j_.push(e),e.Z_(n.onlineState),c.z_&&e.X_(c.z_)&&cf(n)}async function PI(i,e){const n=ge(i),s=e.query;let a=3;const c=n.queries.get(s);if(c){const f=c.j_.indexOf(e);f>=0&&(c.j_.splice(f,1),c.j_.length===0?a=e.J_()?0:1:!c.H_()&&e.J_()&&(a=2))}switch(a){case 0:return n.queries.delete(s),n.onUnlisten(s,!0);case 1:return n.queries.delete(s),n.onUnlisten(s,!1);case 2:return n.onLastRemoteStoreUnlisten(s);default:return}}function kI(i,e){const n=ge(i);let s=!1;for(const a of e){const c=a.query,f=n.queries.get(c);if(f){for(const m of f.j_)m.X_(a)&&(s=!0);f.z_=a}}s&&cf(n)}function xI(i,e,n){const s=ge(i),a=s.queries.get(e);if(a)for(const c of a.j_)c.onError(n);s.queries.delete(e)}function cf(i){i.Y_.forEach(e=>{e.next()})}var Dh,Mm;(Mm=Dh||(Dh={})).ea="default",Mm.Cache="cache";class NI{constructor(e,n,s){this.query=e,this.ta=n,this.na=!1,this.ra=null,this.onlineState="Unknown",this.options=s||{}}X_(e){if(!this.options.includeMetadataChanges){const s=[];for(const a of e.docChanges)a.type!==3&&s.push(a);e=new Hs(e.query,e.docs,e.oldDocs,s,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.na?this.ia(e)&&(this.ta.next(e),n=!0):this.sa(e,this.onlineState)&&(this.oa(e),n=!0),this.ra=e,n}onError(e){this.ta.error(e)}Z_(e){this.onlineState=e;let n=!1;return this.ra&&!this.na&&this.sa(this.ra,e)&&(this.oa(this.ra),n=!0),n}sa(e,n){if(!e.fromCache||!this.J_())return!0;const s=n!=="Offline";return(!this.options._a||!s)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}ia(e){if(e.docChanges.length>0)return!0;const n=this.ra&&this.ra.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}oa(e){e=Hs.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.na=!0,this.ta.next(e)}J_(){return this.options.source!==Dh.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xy{constructor(e){this.key=e}}class Ny{constructor(e){this.key=e}}class VI{constructor(e,n){this.query=e,this.Ta=n,this.Ea=null,this.hasCachedResults=!1,this.current=!1,this.da=Ie(),this.mutatedKeys=Ie(),this.Aa=Xg(e),this.Ra=new Us(this.Aa)}get Va(){return this.Ta}ma(e,n){const s=n?n.fa:new Lm,a=n?n.Ra:this.Ra;let c=n?n.mutatedKeys:this.mutatedKeys,f=a,m=!1;const y=this.query.limitType==="F"&&a.size===this.query.limit?a.last():null,v=this.query.limitType==="L"&&a.size===this.query.limit?a.first():null;if(e.inorderTraversal((E,k)=>{const V=a.get(E),j=fu(this.query,k)?k:null,G=!!V&&this.mutatedKeys.has(V.key),Z=!!j&&(j.hasLocalMutations||this.mutatedKeys.has(j.key)&&j.hasCommittedMutations);let Q=!1;V&&j?V.data.isEqual(j.data)?G!==Z&&(s.track({type:3,doc:j}),Q=!0):this.ga(V,j)||(s.track({type:2,doc:j}),Q=!0,(y&&this.Aa(j,y)>0||v&&this.Aa(j,v)<0)&&(m=!0)):!V&&j?(s.track({type:0,doc:j}),Q=!0):V&&!j&&(s.track({type:1,doc:V}),Q=!0,(y||v)&&(m=!0)),Q&&(j?(f=f.add(j),c=Z?c.add(E):c.delete(E)):(f=f.delete(E),c=c.delete(E)))}),this.query.limit!==null)for(;f.size>this.query.limit;){const E=this.query.limitType==="F"?f.last():f.first();f=f.delete(E.key),c=c.delete(E.key),s.track({type:1,doc:E})}return{Ra:f,fa:s,ns:m,mutatedKeys:c}}ga(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,s,a){const c=this.Ra;this.Ra=e.Ra,this.mutatedKeys=e.mutatedKeys;const f=e.fa.G_();f.sort((E,k)=>function(j,G){const Z=Q=>{switch(Q){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return pe()}};return Z(j)-Z(G)}(E.type,k.type)||this.Aa(E.doc,k.doc)),this.pa(s),a=a!=null&&a;const m=n&&!a?this.ya():[],y=this.da.size===0&&this.current&&!a?1:0,v=y!==this.Ea;return this.Ea=y,f.length!==0||v?{snapshot:new Hs(this.query,e.Ra,c,f,e.mutatedKeys,y===0,v,!1,!!s&&s.resumeToken.approximateByteSize()>0),wa:m}:{wa:m}}Z_(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Ra:this.Ra,fa:new Lm,mutatedKeys:this.mutatedKeys,ns:!1},!1)):{wa:[]}}Sa(e){return!this.Ta.has(e)&&!!this.Ra.has(e)&&!this.Ra.get(e).hasLocalMutations}pa(e){e&&(e.addedDocuments.forEach(n=>this.Ta=this.Ta.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Ta=this.Ta.delete(n)),this.current=e.current)}ya(){if(!this.current)return[];const e=this.da;this.da=Ie(),this.Ra.forEach(s=>{this.Sa(s.key)&&(this.da=this.da.add(s.key))});const n=[];return e.forEach(s=>{this.da.has(s)||n.push(new Ny(s))}),this.da.forEach(s=>{e.has(s)||n.push(new xy(s))}),n}ba(e){this.Ta=e.Ts,this.da=Ie();const n=this.ma(e.documents);return this.applyChanges(n,!0)}Da(){return Hs.fromInitialDocuments(this.query,this.Ra,this.mutatedKeys,this.Ea===0,this.hasCachedResults)}}class DI{constructor(e,n,s){this.query=e,this.targetId=n,this.view=s}}class LI{constructor(e){this.key=e,this.va=!1}}class OI{constructor(e,n,s,a,c,f){this.localStore=e,this.remoteStore=n,this.eventManager=s,this.sharedClientState=a,this.currentUser=c,this.maxConcurrentLimboResolutions=f,this.Ca={},this.Fa=new ji(m=>Yg(m),hu),this.Ma=new Map,this.xa=new Set,this.Oa=new Ye(ue.comparator),this.Na=new Map,this.La=new ef,this.Ba={},this.ka=new Map,this.qa=qs.kn(),this.onlineState="Unknown",this.Qa=void 0}get isPrimaryClient(){return this.Qa===!0}}async function MI(i,e,n=!0){const s=Fy(i);let a;const c=s.Fa.get(e);return c?(s.sharedClientState.addLocalQueryTarget(c.targetId),a=c.view.Da()):a=await Vy(s,e,n,!0),a}async function FI(i,e){const n=Fy(i);await Vy(n,e,!0,!1)}async function Vy(i,e,n,s){const a=await nI(i.localStore,Qn(e)),c=a.targetId,f=i.sharedClientState.addLocalQueryTarget(c,n);let m;return s&&(m=await bI(i,e,c,f==="current",a.resumeToken)),i.isPrimaryClient&&n&&Sy(i.remoteStore,a),m}async function bI(i,e,n,s,a){i.Ka=(k,V,j)=>async function(Z,Q,ve,ye){let we=Q.view.ma(ve);we.ns&&(we=await xm(Z.localStore,Q.query,!1).then(({documents:x})=>Q.view.ma(x,we)));const Se=ye&&ye.targetChanges.get(Q.targetId),Je=ye&&ye.targetMismatches.get(Q.targetId)!=null,Ne=Q.view.applyChanges(we,Z.isPrimaryClient,Se,Je);return bm(Z,Q.targetId,Ne.wa),Ne.snapshot}(i,k,V,j);const c=await xm(i.localStore,e,!0),f=new VI(e,c.Ts),m=f.ma(c.documents),y=da.createSynthesizedTargetChangeForCurrentChange(n,s&&i.onlineState!=="Offline",a),v=f.applyChanges(m,i.isPrimaryClient,y);bm(i,n,v.wa);const E=new DI(e,n,f);return i.Fa.set(e,E),i.Ma.has(n)?i.Ma.get(n).push(e):i.Ma.set(n,[e]),v.snapshot}async function UI(i,e,n){const s=ge(i),a=s.Fa.get(e),c=s.Ma.get(a.targetId);if(c.length>1)return s.Ma.set(a.targetId,c.filter(f=>!hu(f,e))),void s.Fa.delete(e);s.isPrimaryClient?(s.sharedClientState.removeLocalQueryTarget(a.targetId),s.sharedClientState.isActiveQueryTarget(a.targetId)||await Vh(s.localStore,a.targetId,!1).then(()=>{s.sharedClientState.clearQueryState(a.targetId),n&&rf(s.remoteStore,a.targetId),Lh(s,a.targetId)}).catch(Gs)):(Lh(s,a.targetId),await Vh(s.localStore,a.targetId,!0))}async function jI(i,e){const n=ge(i),s=n.Fa.get(e),a=n.Ma.get(s.targetId);n.isPrimaryClient&&a.length===1&&(n.sharedClientState.removeLocalQueryTarget(s.targetId),rf(n.remoteStore,s.targetId))}async function zI(i,e,n){const s=KI(i);try{const a=await function(f,m){const y=ge(f),v=ft.now(),E=m.reduce((j,G)=>j.add(G.key),Ie());let k,V;return y.persistence.runTransaction("Locally write mutations","readwrite",j=>{let G=_r(),Z=Ie();return y.cs.getEntries(j,E).next(Q=>{G=Q,G.forEach((ve,ye)=>{ye.isValidDocument()||(Z=Z.add(ve))})}).next(()=>y.localDocuments.getOverlayedDocuments(j,G)).next(Q=>{k=Q;const ve=[];for(const ye of m){const we=rT(ye,k.get(ye.key).overlayedDocument);we!=null&&ve.push(new zi(ye.key,we,zg(we.value.mapValue),pr.exists(!0)))}return y.mutationQueue.addMutationBatch(j,v,ve,m)}).next(Q=>{V=Q;const ve=Q.applyToLocalDocumentSet(k,Z);return y.documentOverlayCache.saveOverlays(j,Q.batchId,ve)})}).then(()=>({batchId:V.batchId,changes:Zg(k)}))}(s.localStore,e);s.sharedClientState.addPendingMutation(a.batchId),function(f,m,y){let v=f.Ba[f.currentUser.toKey()];v||(v=new Ye(xe)),v=v.insert(m,y),f.Ba[f.currentUser.toKey()]=v}(s,a.batchId,n),await ma(s,a.changes),await _u(s.remoteStore)}catch(a){const c=uf(a,"Failed to persist write");n.reject(c)}}async function Dy(i,e){const n=ge(i);try{const s=await ZT(n.localStore,e);e.targetChanges.forEach((a,c)=>{const f=n.Na.get(c);f&&(Me(a.addedDocuments.size+a.modifiedDocuments.size+a.removedDocuments.size<=1),a.addedDocuments.size>0?f.va=!0:a.modifiedDocuments.size>0?Me(f.va):a.removedDocuments.size>0&&(Me(f.va),f.va=!1))}),await ma(n,s,e)}catch(s){await Gs(s)}}function Fm(i,e,n){const s=ge(i);if(s.isPrimaryClient&&n===0||!s.isPrimaryClient&&n===1){const a=[];s.Fa.forEach((c,f)=>{const m=f.view.Z_(e);m.snapshot&&a.push(m.snapshot)}),function(f,m){const y=ge(f);y.onlineState=m;let v=!1;y.queries.forEach((E,k)=>{for(const V of k.j_)V.Z_(m)&&(v=!0)}),v&&cf(y)}(s.eventManager,e),a.length&&s.Ca.d_(a),s.onlineState=e,s.isPrimaryClient&&s.sharedClientState.setOnlineState(e)}}async function BI(i,e,n){const s=ge(i);s.sharedClientState.updateQueryState(e,"rejected",n);const a=s.Na.get(e),c=a&&a.key;if(c){let f=new Ye(ue.comparator);f=f.insert(c,Mt.newNoDocument(c,me.min()));const m=Ie().add(c),y=new mu(me.min(),new Map,new Ye(xe),f,m);await Dy(s,y),s.Oa=s.Oa.remove(c),s.Na.delete(e),hf(s)}else await Vh(s.localStore,e,!1).then(()=>Lh(s,e,n)).catch(Gs)}async function $I(i,e){const n=ge(i),s=e.batch.batchId;try{const a=await JT(n.localStore,e);Oy(n,s,null),Ly(n,s),n.sharedClientState.updateMutationState(s,"acknowledged"),await ma(n,a)}catch(a){await Gs(a)}}async function qI(i,e,n){const s=ge(i);try{const a=await function(f,m){const y=ge(f);return y.persistence.runTransaction("Reject batch","readwrite-primary",v=>{let E;return y.mutationQueue.lookupMutationBatch(v,m).next(k=>(Me(k!==null),E=k.keys(),y.mutationQueue.removeMutationBatch(v,k))).next(()=>y.mutationQueue.performConsistencyCheck(v)).next(()=>y.documentOverlayCache.removeOverlaysForBatchId(v,E,m)).next(()=>y.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(v,E)).next(()=>y.localDocuments.getDocuments(v,E))})}(s.localStore,e);Oy(s,e,n),Ly(s,e),s.sharedClientState.updateMutationState(e,"rejected",n),await ma(s,a)}catch(a){await Gs(a)}}function Ly(i,e){(i.ka.get(e)||[]).forEach(n=>{n.resolve()}),i.ka.delete(e)}function Oy(i,e,n){const s=ge(i);let a=s.Ba[s.currentUser.toKey()];if(a){const c=a.get(e);c&&(n?c.reject(n):c.resolve(),a=a.remove(e)),s.Ba[s.currentUser.toKey()]=a}}function Lh(i,e,n=null){i.sharedClientState.removeLocalQueryTarget(e);for(const s of i.Ma.get(e))i.Fa.delete(s),n&&i.Ca.$a(s,n);i.Ma.delete(e),i.isPrimaryClient&&i.La.gr(e).forEach(s=>{i.La.containsKey(s)||My(i,s)})}function My(i,e){i.xa.delete(e.path.canonicalString());const n=i.Oa.get(e);n!==null&&(rf(i.remoteStore,n),i.Oa=i.Oa.remove(e),i.Na.delete(n),hf(i))}function bm(i,e,n){for(const s of n)s instanceof xy?(i.La.addReference(s.key,e),HI(i,s)):s instanceof Ny?(ne("SyncEngine","Document no longer in limbo: "+s.key),i.La.removeReference(s.key,e),i.La.containsKey(s.key)||My(i,s.key)):pe()}function HI(i,e){const n=e.key,s=n.path.canonicalString();i.Oa.get(n)||i.xa.has(s)||(ne("SyncEngine","New document in limbo: "+n),i.xa.add(s),hf(i))}function hf(i){for(;i.xa.size>0&&i.Oa.size<i.maxConcurrentLimboResolutions;){const e=i.xa.values().next().value;i.xa.delete(e);const n=new ue(He.fromString(e)),s=i.qa.next();i.Na.set(s,new LI(n)),i.Oa=i.Oa.insert(n,s),Sy(i.remoteStore,new qr(Qn(Kg(n.path)),s,"TargetPurposeLimboResolution",lu.oe))}}async function ma(i,e,n){const s=ge(i),a=[],c=[],f=[];s.Fa.isEmpty()||(s.Fa.forEach((m,y)=>{f.push(s.Ka(y,e,n).then(v=>{var E;if((v||n)&&s.isPrimaryClient){const k=v?!v.fromCache:(E=n==null?void 0:n.targetChanges.get(y.targetId))===null||E===void 0?void 0:E.current;s.sharedClientState.updateQueryState(y.targetId,k?"current":"not-current")}if(v){a.push(v);const k=nf.Wi(y.targetId,v);c.push(k)}}))}),await Promise.all(f),s.Ca.d_(a),await async function(y,v){const E=ge(y);try{await E.persistence.runTransaction("notifyLocalViewChanges","readwrite",k=>z.forEach(v,V=>z.forEach(V.$i,j=>E.persistence.referenceDelegate.addReference(k,V.targetId,j)).next(()=>z.forEach(V.Ui,j=>E.persistence.referenceDelegate.removeReference(k,V.targetId,j)))))}catch(k){if(!Ys(k))throw k;ne("LocalStore","Failed to update sequence numbers: "+k)}for(const k of v){const V=k.targetId;if(!k.fromCache){const j=E.os.get(V),G=j.snapshotVersion,Z=j.withLastLimboFreeSnapshotVersion(G);E.os=E.os.insert(V,Z)}}}(s.localStore,c))}async function WI(i,e){const n=ge(i);if(!n.currentUser.isEqual(e)){ne("SyncEngine","User change. New user:",e.toKey());const s=await wy(n.localStore,e);n.currentUser=e,function(c,f){c.ka.forEach(m=>{m.forEach(y=>{y.reject(new se($.CANCELLED,f))})}),c.ka.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,s.removedBatchIds,s.addedBatchIds),await ma(n,s.hs)}}function QI(i,e){const n=ge(i),s=n.Na.get(e);if(s&&s.va)return Ie().add(s.key);{let a=Ie();const c=n.Ma.get(e);if(!c)return a;for(const f of c){const m=n.Fa.get(f);a=a.unionWith(m.view.Va)}return a}}function Fy(i){const e=ge(i);return e.remoteStore.remoteSyncer.applyRemoteEvent=Dy.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=QI.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=BI.bind(null,e),e.Ca.d_=kI.bind(null,e.eventManager),e.Ca.$a=xI.bind(null,e.eventManager),e}function KI(i){const e=ge(i);return e.remoteStore.remoteSyncer.applySuccessfulWrite=$I.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=qI.bind(null,e),e}class nu{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=gu(e.databaseInfo.databaseId),this.sharedClientState=this.Wa(e),this.persistence=this.Ga(e),await this.persistence.start(),this.localStore=this.za(e),this.gcScheduler=this.ja(e,this.localStore),this.indexBackfillerScheduler=this.Ha(e,this.localStore)}ja(e,n){return null}Ha(e,n){return null}za(e){return XT(this.persistence,new GT,e.initialUser,this.serializer)}Ga(e){return new vy(tf.Zr,this.serializer)}Wa(e){return new iI}async terminate(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}nu.provider={build:()=>new nu};class GI extends nu{constructor(e){super(),this.cacheSizeBytes=e}ja(e,n){Me(this.persistence.referenceDelegate instanceof eu);const s=this.persistence.referenceDelegate.garbageCollector;return new LT(s,e.asyncQueue,n)}Ga(e){const n=this.cacheSizeBytes!==void 0?Gt.withCacheSize(this.cacheSizeBytes):Gt.DEFAULT;return new vy(s=>eu.Zr(s,n),this.serializer)}}class Oh{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=s=>Fm(this.syncEngine,s,1),this.remoteStore.remoteSyncer.handleCredentialChange=WI.bind(null,this.syncEngine),await SI(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new RI}()}createDatastore(e){const n=gu(e.databaseInfo.databaseId),s=function(c){return new lI(c)}(e.databaseInfo);return function(c,f,m,y){return new hI(c,f,m,y)}(e.authCredentials,e.appCheckCredentials,s,n)}createRemoteStore(e){return function(s,a,c,f,m){return new dI(s,a,c,f,m)}(this.localStore,this.datastore,e.asyncQueue,n=>Fm(this.syncEngine,n,0),function(){return Vm.D()?new Vm:new sI}())}createSyncEngine(e,n){return function(a,c,f,m,y,v,E){const k=new OI(a,c,f,m,y,v);return E&&(k.Qa=!0),k}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await async function(a){const c=ge(a);ne("RemoteStore","RemoteStore shutting down."),c.L_.add(5),await pa(c),c.k_.shutdown(),c.q_.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(n=this.eventManager)===null||n===void 0||n.terminate()}}Oh.provider={build:()=>new Oh};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YI{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ya(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ya(this.observer.error,e):yr("Uncaught Error in snapshot listener:",e.toString()))}Za(){this.muted=!0}Ya(e,n){setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XI{constructor(e,n,s,a,c){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=s,this.databaseInfo=a,this.user=Ot.UNAUTHENTICATED,this.clientId=bg.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=c,this.authCredentials.start(s,async f=>{ne("FirestoreClient","Received user=",f.uid),await this.authCredentialListener(f),this.user=f}),this.appCheckCredentials.start(s,f=>(ne("FirestoreClient","Received new app check token=",f),this.appCheckCredentialListener(f,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Qr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const s=uf(n,"Failed to shutdown persistence");e.reject(s)}}),e.promise}}async function fh(i,e){i.asyncQueue.verifyOperationInProgress(),ne("FirestoreClient","Initializing OfflineComponentProvider");const n=i.configuration;await e.initialize(n);let s=n.initialUser;i.setCredentialChangeListener(async a=>{s.isEqual(a)||(await wy(e.localStore,a),s=a)}),e.persistence.setDatabaseDeletedListener(()=>i.terminate()),i._offlineComponents=e}async function Um(i,e){i.asyncQueue.verifyOperationInProgress();const n=await JI(i);ne("FirestoreClient","Initializing OnlineComponentProvider"),await e.initialize(n,i.configuration),i.setCredentialChangeListener(s=>Dm(e.remoteStore,s)),i.setAppCheckTokenChangeListener((s,a)=>Dm(e.remoteStore,a)),i._onlineComponents=e}async function JI(i){if(!i._offlineComponents)if(i._uninitializedComponentsProvider){ne("FirestoreClient","Using user provided OfflineComponentProvider");try{await fh(i,i._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function(a){return a.name==="FirebaseError"?a.code===$.FAILED_PRECONDITION||a.code===$.UNIMPLEMENTED:!(typeof DOMException<"u"&&a instanceof DOMException)||a.code===22||a.code===20||a.code===11}(n))throw n;js("Error using user provided cache. Falling back to memory cache: "+n),await fh(i,new nu)}}else ne("FirestoreClient","Using default OfflineComponentProvider"),await fh(i,new GI(void 0));return i._offlineComponents}async function by(i){return i._onlineComponents||(i._uninitializedComponentsProvider?(ne("FirestoreClient","Using user provided OnlineComponentProvider"),await Um(i,i._uninitializedComponentsProvider._online)):(ne("FirestoreClient","Using default OnlineComponentProvider"),await Um(i,new Oh))),i._onlineComponents}function ZI(i){return by(i).then(e=>e.syncEngine)}async function e1(i){const e=await by(i),n=e.eventManager;return n.onListen=MI.bind(null,e.syncEngine),n.onUnlisten=UI.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=FI.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=jI.bind(null,e.syncEngine),n}function t1(i,e,n={}){const s=new Qr;return i.asyncQueue.enqueueAndForget(async()=>function(c,f,m,y,v){const E=new YI({next:V=>{E.Za(),f.enqueueAndForget(()=>PI(c,k)),V.fromCache&&y.source==="server"?v.reject(new se($.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):v.resolve(V)},error:V=>v.reject(V)}),k=new NI(m,E,{includeMetadataChanges:!0,_a:!0});return CI(c,k)}(await e1(i),i.asyncQueue,e,n,s)),s.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Uy(i){const e={};return i.timeoutSeconds!==void 0&&(e.timeoutSeconds=i.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jm=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jy(i,e,n){if(!n)throw new se($.INVALID_ARGUMENT,`Function ${i}() cannot be called with an empty ${e}.`)}function n1(i,e,n,s){if(e===!0&&s===!0)throw new se($.INVALID_ARGUMENT,`${i} and ${n} cannot be used together.`)}function zm(i){if(!ue.isDocumentKey(i))throw new se($.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${i} has ${i.length}.`)}function Bm(i){if(ue.isDocumentKey(i))throw new se($.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${i} has ${i.length}.`)}function vu(i){if(i===void 0)return"undefined";if(i===null)return"null";if(typeof i=="string")return i.length>20&&(i=`${i.substring(0,20)}...`),JSON.stringify(i);if(typeof i=="number"||typeof i=="boolean")return""+i;if(typeof i=="object"){if(i instanceof Array)return"an array";{const e=function(s){return s.constructor?s.constructor.name:null}(i);return e?`a custom ${e} object`:"an object"}}return typeof i=="function"?"a function":pe()}function ru(i,e){if("_delegate"in i&&(i=i._delegate),!(i instanceof e)){if(e.name===i.constructor.name)throw new se($.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=vu(i);throw new se($.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $m{constructor(e){var n,s;if(e.host===void 0){if(e.ssl!==void 0)throw new se($.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(n=e.ssl)===null||n===void 0||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new se($.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}n1("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=Uy((s=e.experimentalLongPollingOptions)!==null&&s!==void 0?s:{}),function(c){if(c.timeoutSeconds!==void 0){if(isNaN(c.timeoutSeconds))throw new se($.INVALID_ARGUMENT,`invalid long polling timeout: ${c.timeoutSeconds} (must not be NaN)`);if(c.timeoutSeconds<5)throw new se($.INVALID_ARGUMENT,`invalid long polling timeout: ${c.timeoutSeconds} (minimum allowed value is 5)`);if(c.timeoutSeconds>30)throw new se($.INVALID_ARGUMENT,`invalid long polling timeout: ${c.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(s,a){return s.timeoutSeconds===a.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class wu{constructor(e,n,s,a){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=s,this._app=a,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new $m({}),this._settingsFrozen=!1,this._terminateTask="notTerminated"}get app(){if(!this._app)throw new se($.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new se($.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new $m(e),e.credentials!==void 0&&(this._authCredentials=function(s){if(!s)return new cE;switch(s.type){case"firstParty":return new pE(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new se($.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const s=jm.get(n);s&&(ne("ComponentProvider","Removing Datastore"),jm.delete(n),s.terminate())}(this),Promise.resolve()}}function r1(i,e,n,s={}){var a;const c=(i=ru(i,wu))._getSettings(),f=`${e}:${n}`;if(c.host!=="firestore.googleapis.com"&&c.host!==f&&js("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),i._setSettings(Object.assign(Object.assign({},c),{host:f,ssl:!1})),s.mockUserToken){let m,y;if(typeof s.mockUserToken=="string")m=s.mockUserToken,y=Ot.MOCK_USER;else{m=Iv(s.mockUserToken,(a=i._app)===null||a===void 0?void 0:a.options.projectId);const v=s.mockUserToken.sub||s.mockUserToken.user_id;if(!v)throw new se($.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");y=new Ot(v)}i._authCredentials=new hE(new Fg(m,y))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Js{constructor(e,n,s){this.converter=n,this._query=s,this.type="query",this.firestore=e}withConverter(e){return new Js(this.firestore,e,this._query)}}class yn{constructor(e,n,s){this.converter=n,this._key=s,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Kr(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new yn(this.firestore,e,this._key)}}class Kr extends Js{constructor(e,n,s){super(e,n,Kg(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new yn(this.firestore,null,new ue(e))}withConverter(e){return new Kr(this.firestore,e,this._path)}}function qm(i,e,...n){if(i=Gr(i),jy("collection","path",e),i instanceof wu){const s=He.fromString(e,...n);return Bm(s),new Kr(i,null,s)}{if(!(i instanceof yn||i instanceof Kr))throw new se($.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=i._path.child(He.fromString(e,...n));return Bm(s),new Kr(i.firestore,null,s)}}function i1(i,e,...n){if(i=Gr(i),arguments.length===1&&(e=bg.newId()),jy("doc","path",e),i instanceof wu){const s=He.fromString(e,...n);return zm(s),new yn(i,null,new ue(s))}{if(!(i instanceof yn||i instanceof Kr))throw new se($.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=i._path.child(He.fromString(e,...n));return zm(s),new yn(i.firestore,i instanceof Kr?i.converter:null,new ue(s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hm{constructor(e=Promise.resolve()){this.Pu=[],this.Iu=!1,this.Tu=[],this.Eu=null,this.du=!1,this.Au=!1,this.Ru=[],this.t_=new Ty(this,"async_queue_retry"),this.Vu=()=>{const s=hh();s&&ne("AsyncQueue","Visibility state changed to "+s.visibilityState),this.t_.jo()},this.mu=e;const n=hh();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.Vu)}get isShuttingDown(){return this.Iu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.fu(),this.gu(e)}enterRestrictedMode(e){if(!this.Iu){this.Iu=!0,this.Au=e||!1;const n=hh();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.Vu)}}enqueue(e){if(this.fu(),this.Iu)return new Promise(()=>{});const n=new Qr;return this.gu(()=>this.Iu&&this.Au?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Pu.push(e),this.pu()))}async pu(){if(this.Pu.length!==0){try{await this.Pu[0](),this.Pu.shift(),this.t_.reset()}catch(e){if(!Ys(e))throw e;ne("AsyncQueue","Operation failed with retryable error: "+e)}this.Pu.length>0&&this.t_.Go(()=>this.pu())}}gu(e){const n=this.mu.then(()=>(this.du=!0,e().catch(s=>{this.Eu=s,this.du=!1;const a=function(f){let m=f.message||"";return f.stack&&(m=f.stack.includes(f.message)?f.stack:f.message+`
`+f.stack),m}(s);throw yr("INTERNAL UNHANDLED ERROR: ",a),s}).then(s=>(this.du=!1,s))));return this.mu=n,n}enqueueAfterDelay(e,n,s){this.fu(),this.Ru.indexOf(e)>-1&&(n=0);const a=lf.createAndSchedule(this,e,n,s,c=>this.yu(c));return this.Tu.push(a),a}fu(){this.Eu&&pe()}verifyOperationInProgress(){}async wu(){let e;do e=this.mu,await e;while(e!==this.mu)}Su(e){for(const n of this.Tu)if(n.timerId===e)return!0;return!1}bu(e){return this.wu().then(()=>{this.Tu.sort((n,s)=>n.targetTimeMs-s.targetTimeMs);for(const n of this.Tu)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.wu()})}Du(e){this.Ru.push(e)}yu(e){const n=this.Tu.indexOf(e);this.Tu.splice(n,1)}}class ff extends wu{constructor(e,n,s,a){super(e,n,s,a),this.type="firestore",this._queue=new Hm,this._persistenceKey=(a==null?void 0:a.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new Hm(e),this._firestoreClient=void 0,await e}}}function s1(i,e){const n=typeof i=="object"?i:og(),s=typeof i=="string"?i:"(default)",a=ca(n,"firestore").getImmediate({identifier:s});if(!a._initialized){const c=Ev("firestore");c&&r1(a,...c)}return a}function zy(i){if(i._terminated)throw new se($.FAILED_PRECONDITION,"The client has already been terminated.");return i._firestoreClient||o1(i),i._firestoreClient}function o1(i){var e,n,s;const a=i._freezeSettings(),c=function(m,y,v,E){return new kE(m,y,v,E.host,E.ssl,E.experimentalForceLongPolling,E.experimentalAutoDetectLongPolling,Uy(E.experimentalLongPollingOptions),E.useFetchStreams)}(i._databaseId,((e=i._app)===null||e===void 0?void 0:e.options.appId)||"",i._persistenceKey,a);i._componentsProvider||!((n=a.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((s=a.localCache)===null||s===void 0)&&s._onlineComponentProvider)&&(i._componentsProvider={_offline:a.localCache._offlineComponentProvider,_online:a.localCache._onlineComponentProvider}),i._firestoreClient=new XI(i._authCredentials,i._appCheckCredentials,i._queue,c,i._componentsProvider&&function(m){const y=m==null?void 0:m._online.build();return{_offline:m==null?void 0:m._offline.build(y),_online:y}}(i._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ws{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Ws(Ct.fromBase64String(e))}catch(n){throw new se($.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Ws(Ct.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class df{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new se($.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Rt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class By{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pf{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new se($.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new se($.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return xe(this._lat,e._lat)||xe(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mf{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(s,a){if(s.length!==a.length)return!1;for(let c=0;c<s.length;++c)if(s[c]!==a[c])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const a1=/^__.*__$/;class l1{constructor(e,n,s){this.data=e,this.fieldMask=n,this.fieldTransforms=s}toMutation(e,n){return this.fieldMask!==null?new zi(e,this.data,this.fieldMask,n,this.fieldTransforms):new fa(e,this.data,n,this.fieldTransforms)}}function $y(i){switch(i){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw pe()}}class gf{constructor(e,n,s,a,c,f){this.settings=e,this.databaseId=n,this.serializer=s,this.ignoreUndefinedProperties=a,c===void 0&&this.vu(),this.fieldTransforms=c||[],this.fieldMask=f||[]}get path(){return this.settings.path}get Cu(){return this.settings.Cu}Fu(e){return new gf(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Mu(e){var n;const s=(n=this.path)===null||n===void 0?void 0:n.child(e),a=this.Fu({path:s,xu:!1});return a.Ou(e),a}Nu(e){var n;const s=(n=this.path)===null||n===void 0?void 0:n.child(e),a=this.Fu({path:s,xu:!1});return a.vu(),a}Lu(e){return this.Fu({path:void 0,xu:!0})}Bu(e){return iu(e,this.settings.methodName,this.settings.ku||!1,this.path,this.settings.qu)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}vu(){if(this.path)for(let e=0;e<this.path.length;e++)this.Ou(this.path.get(e))}Ou(e){if(e.length===0)throw this.Bu("Document fields must not be empty");if($y(this.Cu)&&a1.test(e))throw this.Bu('Document fields cannot begin and end with "__"')}}class u1{constructor(e,n,s){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=s||gu(e)}Qu(e,n,s,a=!1){return new gf({Cu:e,methodName:n,qu:s,path:Rt.emptyPath(),xu:!1,ku:a},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function qy(i){const e=i._freezeSettings(),n=gu(i._databaseId);return new u1(i._databaseId,!!e.ignoreUndefinedProperties,n)}function c1(i,e,n,s,a,c={}){const f=i.Qu(c.merge||c.mergeFields?2:0,e,n,a);Qy("Data must be an object, but it was:",f,s);const m=Hy(s,f);let y,v;if(c.merge)y=new Dn(f.fieldMask),v=f.fieldTransforms;else if(c.mergeFields){const E=[];for(const k of c.mergeFields){const V=f1(e,k,n);if(!f.contains(V))throw new se($.INVALID_ARGUMENT,`Field '${V}' is specified in your field mask but missing from your input data.`);p1(E,V)||E.push(V)}y=new Dn(E),v=f.fieldTransforms.filter(k=>y.covers(k.field))}else y=null,v=f.fieldTransforms;return new l1(new gn(m),y,v)}function h1(i,e,n,s=!1){return yf(n,i.Qu(s?4:3,e))}function yf(i,e){if(Wy(i=Gr(i)))return Qy("Unsupported field value:",e,i),Hy(i,e);if(i instanceof By)return function(s,a){if(!$y(a.Cu))throw a.Bu(`${s._methodName}() can only be used with update() and set()`);if(!a.path)throw a.Bu(`${s._methodName}() is not currently supported inside arrays`);const c=s._toFieldTransform(a);c&&a.fieldTransforms.push(c)}(i,e),null;if(i===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),i instanceof Array){if(e.settings.xu&&e.Cu!==4)throw e.Bu("Nested arrays are not supported");return function(s,a){const c=[];let f=0;for(const m of s){let y=yf(m,a.Lu(f));y==null&&(y={nullValue:"NULL_VALUE"}),c.push(y),f++}return{arrayValue:{values:c}}}(i,e)}return function(s,a){if((s=Gr(s))===null)return{nullValue:"NULL_VALUE"};if(typeof s=="number")return XE(a.serializer,s);if(typeof s=="boolean")return{booleanValue:s};if(typeof s=="string")return{stringValue:s};if(s instanceof Date){const c=ft.fromDate(s);return{timestampValue:Zl(a.serializer,c)}}if(s instanceof ft){const c=new ft(s.seconds,1e3*Math.floor(s.nanoseconds/1e3));return{timestampValue:Zl(a.serializer,c)}}if(s instanceof pf)return{geoPointValue:{latitude:s.latitude,longitude:s.longitude}};if(s instanceof Ws)return{bytesValue:fy(a.serializer,s._byteString)};if(s instanceof yn){const c=a.databaseId,f=s.firestore._databaseId;if(!f.isEqual(c))throw a.Bu(`Document reference is for database ${f.projectId}/${f.database} but should be for database ${c.projectId}/${c.database}`);return{referenceValue:Zh(s.firestore._databaseId||a.databaseId,s._key.path)}}if(s instanceof mf)return function(f,m){return{mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{values:f.toArray().map(y=>{if(typeof y!="number")throw m.Bu("VectorValues must only contain numeric values.");return Yh(m.serializer,y)})}}}}}}(s,a);throw a.Bu(`Unsupported field value: ${vu(s)}`)}(i,e)}function Hy(i,e){const n={};return Ug(i)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Ui(i,(s,a)=>{const c=yf(a,e.Mu(s));c!=null&&(n[s]=c)}),{mapValue:{fields:n}}}function Wy(i){return!(typeof i!="object"||i===null||i instanceof Array||i instanceof Date||i instanceof ft||i instanceof pf||i instanceof Ws||i instanceof yn||i instanceof By||i instanceof mf)}function Qy(i,e,n){if(!Wy(n)||!function(a){return typeof a=="object"&&a!==null&&(Object.getPrototypeOf(a)===Object.prototype||Object.getPrototypeOf(a)===null)}(n)){const s=vu(n);throw s==="an object"?e.Bu(i+" a custom object"):e.Bu(i+" "+s)}}function f1(i,e,n){if((e=Gr(e))instanceof df)return e._internalPath;if(typeof e=="string")return Ky(i,e);throw iu("Field path arguments must be of type string or ",i,!1,void 0,n)}const d1=new RegExp("[~\\*/\\[\\]]");function Ky(i,e,n){if(e.search(d1)>=0)throw iu(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,i,!1,void 0,n);try{return new df(...e.split("."))._internalPath}catch{throw iu(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,i,!1,void 0,n)}}function iu(i,e,n,s,a){const c=s&&!s.isEmpty(),f=a!==void 0;let m=`Function ${e}() called with invalid data`;n&&(m+=" (via `toFirestore()`)"),m+=". ";let y="";return(c||f)&&(y+=" (found",c&&(y+=` in field ${s}`),f&&(y+=` in document ${a}`),y+=")"),new se($.INVALID_ARGUMENT,m+i+y)}function p1(i,e){return i.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gy{constructor(e,n,s,a,c){this._firestore=e,this._userDataWriter=n,this._key=s,this._document=a,this._converter=c}get id(){return this._key.path.lastSegment()}get ref(){return new yn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new m1(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(_f("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class m1 extends Gy{data(){return super.data()}}function _f(i,e){return typeof e=="string"?Ky(i,e):e instanceof df?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function g1(i){if(i.limitType==="L"&&i.explicitOrderBy.length===0)throw new se($.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class vf{}class y1 extends vf{}function _1(i,e,...n){let s=[];e instanceof vf&&s.push(e),s=s.concat(n),function(c){const f=c.filter(y=>y instanceof wf).length,m=c.filter(y=>y instanceof Eu).length;if(f>1||f>0&&m>0)throw new se($.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(s);for(const a of s)i=a._apply(i);return i}class Eu extends y1{constructor(e,n,s){super(),this._field=e,this._op=n,this._value=s,this.type="where"}static _create(e,n,s){return new Eu(e,n,s)}_apply(e){const n=this._parse(e);return Yy(e._query,n),new Js(e.firestore,e.converter,Rh(e._query,n))}_parse(e){const n=qy(e.firestore);return function(c,f,m,y,v,E,k){let V;if(v.isKeyField()){if(E==="array-contains"||E==="array-contains-any")throw new se($.INVALID_ARGUMENT,`Invalid Query. You can't perform '${E}' queries on documentId().`);if(E==="in"||E==="not-in"){Qm(k,E);const j=[];for(const G of k)j.push(Wm(y,c,G));V={arrayValue:{values:j}}}else V=Wm(y,c,k)}else E!=="in"&&E!=="not-in"&&E!=="array-contains-any"||Qm(k,E),V=h1(m,f,k,E==="in"||E==="not-in");return ot.create(v,E,V)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function v1(i,e,n){const s=e,a=_f("where",i);return Eu._create(a,s,n)}class wf extends vf{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new wf(e,n)}_parse(e){const n=this._queryConstraints.map(s=>s._parse(e)).filter(s=>s.getFilters().length>0);return n.length===1?n[0]:Ln.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:(function(a,c){let f=a;const m=c.getFlattenedFilters();for(const y of m)Yy(f,y),f=Rh(f,y)}(e._query,n),new Js(e.firestore,e.converter,Rh(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}function Wm(i,e,n){if(typeof(n=Gr(n))=="string"){if(n==="")throw new se($.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!Gg(e)&&n.indexOf("/")!==-1)throw new se($.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const s=e.path.child(He.fromString(n));if(!ue.isDocumentKey(s))throw new se($.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${s}' is not because it has an odd number of segments (${s.length}).`);return hm(i,new ue(s))}if(n instanceof yn)return hm(i,n._key);throw new se($.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${vu(n)}.`)}function Qm(i,e){if(!Array.isArray(i)||i.length===0)throw new se($.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function Yy(i,e){const n=function(a,c){for(const f of a)for(const m of f.getFlattenedFilters())if(c.indexOf(m.op)>=0)return m.op;return null}(i.filters,function(a){switch(a){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new se($.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new se($.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class w1{convertValue(e,n="none"){switch(ei(e)){case 0:return null;case 1:return e.booleanValue;case 2:return nt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Zr(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw pe()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const s={};return Ui(e,(a,c)=>{s[a]=this.convertValue(c,n)}),s}convertVectorValue(e){var n,s,a;const c=(a=(s=(n=e.fields)===null||n===void 0?void 0:n.value.arrayValue)===null||s===void 0?void 0:s.values)===null||a===void 0?void 0:a.map(f=>nt(f.doubleValue));return new mf(c)}convertGeoPoint(e){return new pf(nt(e.latitude),nt(e.longitude))}convertArray(e,n){return(e.values||[]).map(s=>this.convertValue(s,n))}convertServerTimestamp(e,n){switch(n){case"previous":const s=cu(e);return s==null?null:this.convertValue(s,n);case"estimate":return this.convertTimestamp(sa(e));default:return null}}convertTimestamp(e){const n=Jr(e);return new ft(n.seconds,n.nanos)}convertDocumentKey(e,n){const s=He.fromString(e);Me(_y(s));const a=new oa(s.get(1),s.get(3)),c=new ue(s.popFirst(5));return a.isEqual(n)||yr(`Document ${c} contains a document reference within a different database (${a.projectId}/${a.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),c}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function E1(i,e,n){let s;return s=i?i.toFirestore(e):e,s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ml{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class T1 extends Gy{constructor(e,n,s,a,c,f){super(e,n,s,a,f),this._firestore=e,this._firestoreImpl=e,this.metadata=c}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new Bl(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const s=this._document.data.field(_f("DocumentSnapshot.get",e));if(s!==null)return this._userDataWriter.convertValue(s,n.serverTimestamps)}}}class Bl extends T1{data(e={}){return super.data(e)}}class I1{constructor(e,n,s,a){this._firestore=e,this._userDataWriter=n,this._snapshot=a,this.metadata=new Ml(a.hasPendingWrites,a.fromCache),this.query=s}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(s=>{e.call(n,new Bl(this._firestore,this._userDataWriter,s.key,s,new Ml(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new se($.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(a,c){if(a._snapshot.oldDocs.isEmpty()){let f=0;return a._snapshot.docChanges.map(m=>{const y=new Bl(a._firestore,a._userDataWriter,m.doc.key,m.doc,new Ml(a._snapshot.mutatedKeys.has(m.doc.key),a._snapshot.fromCache),a.query.converter);return m.doc,{type:"added",doc:y,oldIndex:-1,newIndex:f++}})}{let f=a._snapshot.oldDocs;return a._snapshot.docChanges.filter(m=>c||m.type!==3).map(m=>{const y=new Bl(a._firestore,a._userDataWriter,m.doc.key,m.doc,new Ml(a._snapshot.mutatedKeys.has(m.doc.key),a._snapshot.fromCache),a.query.converter);let v=-1,E=-1;return m.type!==0&&(v=f.indexOf(m.doc.key),f=f.delete(m.doc.key)),m.type!==1&&(f=f.add(m.doc),E=f.indexOf(m.doc.key)),{type:S1(m.type),doc:y,oldIndex:v,newIndex:E}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function S1(i){switch(i){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return pe()}}class A1 extends w1{constructor(e){super(),this.firestore=e}convertBytes(e){return new Ws(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new yn(this.firestore,null,n)}}function R1(i){i=ru(i,Js);const e=ru(i.firestore,ff),n=zy(e),s=new A1(e);return g1(i._query),t1(n,i._query).then(a=>new I1(e,s,i,a))}function C1(i,e){const n=ru(i.firestore,ff),s=i1(i),a=E1(i.converter,e);return P1(n,[c1(qy(i.firestore),"addDoc",s._key,a,i.converter!==null,{}).toMutation(s._key,pr.exists(!1))]).then(()=>s)}function P1(i,e){return function(s,a){const c=new Qr;return s.asyncQueue.enqueueAndForget(async()=>zI(await ZI(s),a,c)),c.promise}(zy(i),e)}(function(e,n=!0){(function(a){Ks=a})(D0),Yr(new mr("firestore",(s,{instanceIdentifier:a,options:c})=>{const f=s.getProvider("app").getImmediate(),m=new ff(new fE(s.getProvider("auth-internal")),new gE(s.getProvider("app-check-internal")),function(v,E){if(!Object.prototype.hasOwnProperty.apply(v.options,["projectId"]))throw new se($.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new oa(v.options.projectId,E)}(f,a),f);return c=Object.assign({useFetchStreams:n},c),m._setSettings(c),m},"PUBLIC").setMultipleInstances(!0)),Wn(sm,"4.7.4",e),Wn(sm,"4.7.4","esm2017")})();const St=[];for(let i=0;i<256;++i)St.push((i+256).toString(16).slice(1));function k1(i,e=0){return(St[i[e+0]]+St[i[e+1]]+St[i[e+2]]+St[i[e+3]]+"-"+St[i[e+4]]+St[i[e+5]]+"-"+St[i[e+6]]+St[i[e+7]]+"-"+St[i[e+8]]+St[i[e+9]]+"-"+St[i[e+10]]+St[i[e+11]]+St[i[e+12]]+St[i[e+13]]+St[i[e+14]]+St[i[e+15]]).toLowerCase()}let dh;const x1=new Uint8Array(16);function N1(){if(!dh){if(typeof crypto>"u"||!crypto.getRandomValues)throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");dh=crypto.getRandomValues.bind(crypto)}return dh(x1)}const V1=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),Km={randomUUID:V1};function D1(i,e,n){var a;if(Km.randomUUID&&!i)return Km.randomUUID();i=i||{};const s=i.random??((a=i.rng)==null?void 0:a.call(i))??N1();if(s.length<16)throw new Error("Random bytes length must be >= 16");return s[6]=s[6]&15|64,s[8]=s[8]&63|128,k1(s)}const L1={apiKey:"AIzaSyDThrE0QyG2slsOfAoHnIjkZNn_EQFBSEc",authDomain:"gamify-fitness-app.firebaseapp.com",projectId:"gamify-fitness-app",storageBucket:"gamify-fitness-app.firebasestorage.app",messagingSenderId:"279040358030",appId:"1:279040358030:web:22ebb9a3f61d8daf3efbdf",measurementId:"G-QZ26S8ZR7G"},Xy=sg(L1);oE(Xy);const Gm=s1(Xy),O1=()=>{let i=localStorage.getItem("userId");return i||(i=D1(),localStorage.setItem("userId",i)),i},Ym=O1();function M1(){const[i,e]=Li.useState({strength:0,intelligence:0,endurance:0}),n=async()=>{try{await C1(qm(Gm,"stats"),{userId:Ym,strength:i.strength,intelligence:i.intelligence,endurance:i.endurance,timestamp:new Date}),console.log("Stats saved!")}catch(V){console.error("Error adding document: ",V)}},s=async()=>{const V=_1(qm(Gm,"stats"),v1("userId","==",Ym));(await R1(V)).forEach(G=>{console.log(G.id," => ",G.data())})},[a,c]=Li.useState({weightLifted:0,reps:0,homeworkCompleted:0,milesRun:0}),[f,m]=Li.useState(null),y=V=>{m(f===V?null:V)},v=()=>{const V=Math.floor(a.weightLifted/5*a.reps);e(j=>({...j,strength:j.strength+V}))},E=()=>{e(V=>({...V,intelligence:V.intelligence+a.homeworkCompleted}))},k=()=>{const V=Math.floor(a.weightLifted/5*Math.floor(a.reps/20)),j=a.milesRun;e(G=>({...G,endurance:G.endurance+V+j}))};return J.jsx("div",{className:"min-h-screen bg-white text-black p-8",children:J.jsxs("div",{className:"max-w-4xl mx-auto space-y-8",children:[J.jsx("h1",{className:"text-4xl font-bold text-center mb-8",children:"Fitness Tracker"}),J.jsx("button",{onClick:n,className:"bg-blue-500 text-white px-4 py-2 rounded",children:"Save Stats"}),J.jsx("button",{onClick:s,className:"bg-green-500 text-white px-4 py-2 rounded ml-4",children:"Fetch Stats"}),J.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[J.jsx(ph,{icon:J.jsx(Fp,{size:24}),title:"Strength",value:i.strength,unit:"points"}),J.jsx(ph,{icon:J.jsx(Mp,{size:24}),title:"Intelligence",value:i.intelligence,unit:"points"}),J.jsx(ph,{icon:J.jsx(bp,{size:24}),title:"Endurance",value:i.endurance,unit:"points"})]}),J.jsxs("div",{className:"space-y-4",children:[J.jsxs("div",{className:"bg-gray-50 rounded-lg overflow-hidden",children:[J.jsxs("button",{onClick:()=>y("strength"),className:"w-full p-4 flex items-center justify-between text-left hover:bg-gray-100 transition-colors",children:[J.jsxs("div",{className:"flex items-center gap-3",children:[J.jsx(Fp,{size:20}),J.jsx("h2",{className:"text-xl font-semibold",children:"Track Strength"}),J.jsxs("div",{className:"group relative",children:[J.jsx(th,{size:16,className:"text-gray-400"}),J.jsx("div",{className:"absolute left-full ml-2 top-1/2 -translate-y-1/2 px-3 py-2 bg-gray-900 text-white text-xs rounded-lg opacity-0 group-hover:opacity-100 transition-opacity whitespace-nowrap z-10",children:"1 rep / 5 lbs = 1 strength point"})]})]}),f==="strength"?J.jsx(eh,{size:20}):J.jsx(Zc,{size:20})]}),f==="strength"&&J.jsxs("div",{className:"p-6 border-t",children:[J.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[J.jsxs("div",{className:"space-y-2",children:[J.jsx("label",{htmlFor:"weightLifted",className:"block text-sm text-gray-600",children:"Weight (lbs)"}),J.jsx("input",{id:"weightLifted",type:"number",placeholder:"Enter weight in pounds",className:"p-2 border rounded w-full",value:a.weightLifted,onChange:V=>c(j=>({...j,weightLifted:Number(V.target.value)}))})]}),J.jsxs("div",{className:"space-y-2",children:[J.jsx("label",{htmlFor:"strengthReps",className:"block text-sm text-gray-600",children:"Number of Reps"}),J.jsx("input",{id:"strengthReps",type:"number",placeholder:"Enter number of reps",className:"p-2 border rounded w-full",value:a.reps,onChange:V=>c(j=>({...j,reps:Number(V.target.value)}))})]})]}),J.jsx("button",{onClick:v,className:"mt-4 bg-black text-white px-4 py-2 rounded hover:bg-gray-800",children:"Log Strength"})]})]}),J.jsxs("div",{className:"bg-gray-50 rounded-lg overflow-hidden",children:[J.jsxs("button",{onClick:()=>y("intelligence"),className:"w-full p-4 flex items-center justify-between text-left hover:bg-gray-100 transition-colors",children:[J.jsxs("div",{className:"flex items-center gap-3",children:[J.jsx(Mp,{size:20}),J.jsx("h2",{className:"text-xl font-semibold",children:"Track Intelligence"}),J.jsxs("div",{className:"group relative",children:[J.jsx(th,{size:16,className:"text-gray-400"}),J.jsx("div",{className:"absolute left-full ml-2 top-1/2 -translate-y-1/2 px-3 py-2 bg-gray-900 text-white text-xs rounded-lg opacity-0 group-hover:opacity-100 transition-opacity whitespace-nowrap z-10",children:"1 homework = 1 intelligence point"})]})]}),f==="intelligence"?J.jsx(eh,{size:20}):J.jsx(Zc,{size:20})]}),f==="intelligence"&&J.jsxs("div",{className:"p-6 border-t",children:[J.jsxs("div",{className:"space-y-2",children:[J.jsx("label",{htmlFor:"homework",className:"block text-sm text-gray-600",children:"Homework Assignments Completed"}),J.jsx("input",{id:"homework",type:"number",placeholder:"Enter number of assignments",className:"p-2 border rounded w-full",value:a.homeworkCompleted,onChange:V=>c(j=>({...j,homeworkCompleted:Number(V.target.value)}))})]}),J.jsx("button",{onClick:E,className:"mt-4 bg-black text-white px-4 py-2 rounded hover:bg-gray-800",children:"Log Intelligence"})]})]}),J.jsxs("div",{className:"bg-gray-50 rounded-lg overflow-hidden",children:[J.jsxs("button",{onClick:()=>y("endurance"),className:"w-full p-4 flex items-center justify-between text-left hover:bg-gray-100 transition-colors",children:[J.jsxs("div",{className:"flex items-center gap-3",children:[J.jsx(bp,{size:20}),J.jsx("h2",{className:"text-xl font-semibold",children:"Track Endurance"}),J.jsxs("div",{className:"group relative",children:[J.jsx(th,{size:16,className:"text-gray-400"}),J.jsxs("div",{className:"absolute left-full ml-2 top-1/2 -translate-y-1/2 px-3 py-2 bg-gray-900 text-white text-xs rounded-lg opacity-0 group-hover:opacity-100 transition-opacity whitespace-nowrap z-10",children:["4 sets / 20 reps / 5 lbs = 1 endurance point",J.jsx("br",{}),"1 mile run = 1 endurance point"]})]})]}),f==="endurance"?J.jsx(eh,{size:20}):J.jsx(Zc,{size:20})]}),f==="endurance"&&J.jsxs("div",{className:"p-6 border-t",children:[J.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[J.jsxs("div",{className:"space-y-2",children:[J.jsx("label",{htmlFor:"enduranceWeight",className:"block text-sm text-gray-600",children:"Weight (lbs)"}),J.jsx("input",{id:"enduranceWeight",type:"number",placeholder:"Enter weight in pounds",className:"p-2 border rounded w-full",value:a.weightLifted,onChange:V=>c(j=>({...j,weightLifted:Number(V.target.value)}))})]}),J.jsxs("div",{className:"space-y-2",children:[J.jsx("label",{htmlFor:"enduranceReps",className:"block text-sm text-gray-600",children:"Number of Reps"}),J.jsx("input",{id:"enduranceReps",type:"number",placeholder:"Enter number of reps",className:"p-2 border rounded w-full",value:a.reps,onChange:V=>c(j=>({...j,reps:Number(V.target.value)}))})]}),J.jsx("br",{}),J.jsxs("div",{className:"space-y-2",children:[J.jsx("label",{htmlFor:"milesRun",className:"block text-sm text-gray-600",children:"Distance Run (miles)"}),J.jsx("input",{id:"milesRun",type:"number",placeholder:"Enter miles run",className:"p-2 border rounded w-full",value:a.milesRun,onChange:V=>c(j=>({...j,milesRun:Number(V.target.value)}))})]})]}),J.jsx("button",{onClick:k,className:"mt-4 bg-black text-white px-4 py-2 rounded hover:bg-gray-800",children:"Log Endurance"})]})]})]})]})})}function ph({icon:i,title:e,value:n,unit:s}){return J.jsxs("div",{className:"bg-gray-50 p-6 rounded-lg",children:[J.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[i,J.jsx("h2",{className:"text-xl font-semibold",children:e})]}),J.jsxs("p",{className:"text-3xl font-bold",children:[n," ",J.jsx("span",{className:"text-lg font-normal text-gray-600",children:s})]})]})}uv.createRoot(document.getElementById("root")).render(J.jsx(Li.StrictMode,{children:J.jsx(M1,{})}));
